(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{63:(e,r,s)=>{"use strict";var t=s(7260);s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})},473:(e,r,s)=>{Promise.resolve().then(s.bind(s,5404))},5404:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var t=s(5155),a=s(2115),l=s(63);function o(){let e=(0,l.useRouter)(),[r,s]=(0,a.useState)(""),[o,n]=(0,a.useState)(""),[i,d]=(0,a.useState)(""),[u,c]=(0,a.useState)(""),[m,b]=(0,a.useState)(!1),x=async s=>{s.preventDefault(),d(""),c(""),b(!0);try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:o})}),t=await s.json();console.log("Login response:",t),t.success?(c(t.message+" - Redirecting..."),localStorage.setItem("user",JSON.stringify(t.user)),setTimeout(()=>{e.push(t.redirectTo)},1e3)):(d(t.error||"Login failed"),b(!1))}catch(e){console.error("Login error:",e),d("Network error. Please try again."),b(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("span",{className:"text-xl font-bold text-white",children:"iB"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Sistem i-Borrow"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"ILKKM Johor Bahru"})]}),i&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-xl",children:i}),u&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-xl",children:u}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,t.jsx)("input",{type:"email",value:r,onChange:e=>s(e.target.value),placeholder:"Masukkan email",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,t.jsx)("input",{type:"password",value:o,onChange:e=>n(e.target.value),placeholder:"Masukkan password",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0})]}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Logging in...":"Log Masuk"})]})]})})})}}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=473)),_N_E=e.O()}]);