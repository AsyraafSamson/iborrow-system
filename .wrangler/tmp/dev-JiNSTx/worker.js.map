{
  "version": 3,
  "sources": ["../../../node_modules/unenv/dist/runtime/_internal/utils.mjs", "../../../node_modules/unenv/dist/runtime/node/internal/perf_hooks/performance.mjs", "../../../node_modules/wrangler/node_modules/@cloudflare/unenv-preset/dist/runtime/polyfill/performance.mjs", "../../../node_modules/unenv/dist/runtime/node/console.mjs", "../../../node_modules/unenv/dist/runtime/mock/noop.mjs", "../../../node_modules/wrangler/node_modules/@cloudflare/unenv-preset/dist/runtime/node/console.mjs", "../../../node_modules/wrangler/_virtual_unenv_global_polyfill-@cloudflare-unenv-preset-node-console", "../../../node_modules/unenv/dist/runtime/node/internal/process/hrtime.mjs", "../../../node_modules/unenv/dist/runtime/node/internal/process/process.mjs", "../../../node_modules/unenv/dist/runtime/node/internal/tty/read-stream.mjs", "../../../node_modules/unenv/dist/runtime/node/internal/tty/write-stream.mjs", "../../../node_modules/unenv/dist/runtime/node/internal/process/node-version.mjs", "../../../node_modules/wrangler/node_modules/@cloudflare/unenv-preset/dist/runtime/node/process.mjs", "../../../node_modules/wrangler/_virtual_unenv_global_polyfill-@cloudflare-unenv-preset-node-process", "../../../worker.js", "../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-ZKqfTA/middleware-insertion-facade.js", "../../../node_modules/wrangler/templates/middleware/common.ts", "../bundle-ZKqfTA/middleware-loader.entry.ts"],
  "sourceRoot": "C:\\dev\\clients\\iborrow-system\\.wrangler\\tmp\\dev-JiNSTx",
  "sourcesContent": ["/* @__NO_SIDE_EFFECTS__ */\nexport function rawHeaders(headers) {\n\tconst rawHeaders = [];\n\tfor (const key in headers) {\n\t\tif (Array.isArray(headers[key])) {\n\t\t\tfor (const h of headers[key]) {\n\t\t\t\trawHeaders.push(key, h);\n\t\t\t}\n\t\t} else {\n\t\t\trawHeaders.push(key, headers[key]);\n\t\t}\n\t}\n\treturn rawHeaders;\n}\n/* @__NO_SIDE_EFFECTS__ */\nexport function mergeFns(...functions) {\n\treturn function(...args) {\n\t\tfor (const fn of functions) {\n\t\t\tfn(...args);\n\t\t}\n\t};\n}\n/* @__NO_SIDE_EFFECTS__ */\nexport function createNotImplementedError(name) {\n\treturn new Error(`[unenv] ${name} is not implemented yet!`);\n}\n/* @__NO_SIDE_EFFECTS__ */\nexport function notImplemented(name) {\n\tconst fn = () => {\n\t\tthrow createNotImplementedError(name);\n\t};\n\treturn Object.assign(fn, { __unenv__: true });\n}\n/* @__NO_SIDE_EFFECTS__ */\nexport function notImplementedAsync(name) {\n\tconst fn = notImplemented(name);\n\tfn.__promisify__ = () => notImplemented(name + \".__promisify__\");\n\tfn.native = fn;\n\treturn fn;\n}\n/* @__NO_SIDE_EFFECTS__ */\nexport function notImplementedClass(name) {\n\treturn class {\n\t\t__unenv__ = true;\n\t\tconstructor() {\n\t\t\tthrow new Error(`[unenv] ${name} is not implemented yet!`);\n\t\t}\n\t};\n}\n", "import { createNotImplementedError } from \"../../../_internal/utils.mjs\";\nconst _timeOrigin = globalThis.performance?.timeOrigin ?? Date.now();\nconst _performanceNow = globalThis.performance?.now ? globalThis.performance.now.bind(globalThis.performance) : () => Date.now() - _timeOrigin;\nconst nodeTiming = {\n\tname: \"node\",\n\tentryType: \"node\",\n\tstartTime: 0,\n\tduration: 0,\n\tnodeStart: 0,\n\tv8Start: 0,\n\tbootstrapComplete: 0,\n\tenvironment: 0,\n\tloopStart: 0,\n\tloopExit: 0,\n\tidleTime: 0,\n\tuvMetricsInfo: {\n\t\tloopCount: 0,\n\t\tevents: 0,\n\t\teventsWaiting: 0\n\t},\n\tdetail: undefined,\n\ttoJSON() {\n\t\treturn this;\n\t}\n};\n// PerformanceEntry\nexport class PerformanceEntry {\n\t__unenv__ = true;\n\tdetail;\n\tentryType = \"event\";\n\tname;\n\tstartTime;\n\tconstructor(name, options) {\n\t\tthis.name = name;\n\t\tthis.startTime = options?.startTime || _performanceNow();\n\t\tthis.detail = options?.detail;\n\t}\n\tget duration() {\n\t\treturn _performanceNow() - this.startTime;\n\t}\n\ttoJSON() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tentryType: this.entryType,\n\t\t\tstartTime: this.startTime,\n\t\t\tduration: this.duration,\n\t\t\tdetail: this.detail\n\t\t};\n\t}\n}\n// PerformanceMark\nexport const PerformanceMark = class PerformanceMark extends PerformanceEntry {\n\tentryType = \"mark\";\n\tconstructor() {\n\t\t// @ts-ignore\n\t\tsuper(...arguments);\n\t}\n\tget duration() {\n\t\treturn 0;\n\t}\n};\n// PerformanceMark\nexport class PerformanceMeasure extends PerformanceEntry {\n\tentryType = \"measure\";\n}\n// PerformanceResourceTiming\nexport class PerformanceResourceTiming extends PerformanceEntry {\n\tentryType = \"resource\";\n\tserverTiming = [];\n\tconnectEnd = 0;\n\tconnectStart = 0;\n\tdecodedBodySize = 0;\n\tdomainLookupEnd = 0;\n\tdomainLookupStart = 0;\n\tencodedBodySize = 0;\n\tfetchStart = 0;\n\tinitiatorType = \"\";\n\tname = \"\";\n\tnextHopProtocol = \"\";\n\tredirectEnd = 0;\n\tredirectStart = 0;\n\trequestStart = 0;\n\tresponseEnd = 0;\n\tresponseStart = 0;\n\tsecureConnectionStart = 0;\n\tstartTime = 0;\n\ttransferSize = 0;\n\tworkerStart = 0;\n\tresponseStatus = 0;\n}\n// PerformanceObserverEntryList\nexport class PerformanceObserverEntryList {\n\t__unenv__ = true;\n\tgetEntries() {\n\t\treturn [];\n\t}\n\tgetEntriesByName(_name, _type) {\n\t\treturn [];\n\t}\n\tgetEntriesByType(type) {\n\t\treturn [];\n\t}\n}\n// Performance\nexport class Performance {\n\t__unenv__ = true;\n\ttimeOrigin = _timeOrigin;\n\teventCounts = new Map();\n\t_entries = [];\n\t_resourceTimingBufferSize = 0;\n\tnavigation = undefined;\n\ttiming = undefined;\n\ttimerify(_fn, _options) {\n\t\tthrow createNotImplementedError(\"Performance.timerify\");\n\t}\n\tget nodeTiming() {\n\t\treturn nodeTiming;\n\t}\n\teventLoopUtilization() {\n\t\treturn {};\n\t}\n\tmarkResourceTiming() {\n\t\t// TODO: create a new PerformanceResourceTiming entry\n\t\t// so that performance.getEntries, getEntriesByName, and getEntriesByType return it\n\t\t// see: https://nodejs.org/api/perf_hooks.html#performancemarkresourcetimingtiminginfo-requestedurl-initiatortype-global-cachemode-bodyinfo-responsestatus-deliverytype\n\t\treturn new PerformanceResourceTiming(\"\");\n\t}\n\tonresourcetimingbufferfull = null;\n\tnow() {\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/Performance/now\n\t\tif (this.timeOrigin === _timeOrigin) {\n\t\t\treturn _performanceNow();\n\t\t}\n\t\treturn Date.now() - this.timeOrigin;\n\t}\n\tclearMarks(markName) {\n\t\tthis._entries = markName ? this._entries.filter((e) => e.name !== markName) : this._entries.filter((e) => e.entryType !== \"mark\");\n\t}\n\tclearMeasures(measureName) {\n\t\tthis._entries = measureName ? this._entries.filter((e) => e.name !== measureName) : this._entries.filter((e) => e.entryType !== \"measure\");\n\t}\n\tclearResourceTimings() {\n\t\tthis._entries = this._entries.filter((e) => e.entryType !== \"resource\" || e.entryType !== \"navigation\");\n\t}\n\tgetEntries() {\n\t\treturn this._entries;\n\t}\n\tgetEntriesByName(name, type) {\n\t\treturn this._entries.filter((e) => e.name === name && (!type || e.entryType === type));\n\t}\n\tgetEntriesByType(type) {\n\t\treturn this._entries.filter((e) => e.entryType === type);\n\t}\n\tmark(name, options) {\n\t\t// @ts-expect-error constructor is not protected\n\t\tconst entry = new PerformanceMark(name, options);\n\t\tthis._entries.push(entry);\n\t\treturn entry;\n\t}\n\tmeasure(measureName, startOrMeasureOptions, endMark) {\n\t\tlet start;\n\t\tlet end;\n\t\tif (typeof startOrMeasureOptions === \"string\") {\n\t\t\tstart = this.getEntriesByName(startOrMeasureOptions, \"mark\")[0]?.startTime;\n\t\t\tend = this.getEntriesByName(endMark, \"mark\")[0]?.startTime;\n\t\t} else {\n\t\t\tstart = Number.parseFloat(startOrMeasureOptions?.start) || this.now();\n\t\t\tend = Number.parseFloat(startOrMeasureOptions?.end) || this.now();\n\t\t}\n\t\tconst entry = new PerformanceMeasure(measureName, {\n\t\t\tstartTime: start,\n\t\t\tdetail: {\n\t\t\t\tstart,\n\t\t\t\tend\n\t\t\t}\n\t\t});\n\t\tthis._entries.push(entry);\n\t\treturn entry;\n\t}\n\tsetResourceTimingBufferSize(maxSize) {\n\t\tthis._resourceTimingBufferSize = maxSize;\n\t}\n\taddEventListener(type, listener, options) {\n\t\tthrow createNotImplementedError(\"Performance.addEventListener\");\n\t}\n\tremoveEventListener(type, listener, options) {\n\t\tthrow createNotImplementedError(\"Performance.removeEventListener\");\n\t}\n\tdispatchEvent(event) {\n\t\tthrow createNotImplementedError(\"Performance.dispatchEvent\");\n\t}\n\ttoJSON() {\n\t\treturn this;\n\t}\n}\n// PerformanceObserver\nexport class PerformanceObserver {\n\t__unenv__ = true;\n\tstatic supportedEntryTypes = [];\n\t_callback = null;\n\tconstructor(callback) {\n\t\tthis._callback = callback;\n\t}\n\ttakeRecords() {\n\t\treturn [];\n\t}\n\tdisconnect() {\n\t\tthrow createNotImplementedError(\"PerformanceObserver.disconnect\");\n\t}\n\tobserve(options) {\n\t\tthrow createNotImplementedError(\"PerformanceObserver.observe\");\n\t}\n\tbind(fn) {\n\t\treturn fn;\n\t}\n\trunInAsyncScope(fn, thisArg, ...args) {\n\t\treturn fn.call(thisArg, ...args);\n\t}\n\tasyncId() {\n\t\treturn 0;\n\t}\n\ttriggerAsyncId() {\n\t\treturn 0;\n\t}\n\temitDestroy() {\n\t\treturn this;\n\t}\n}\n// workerd implements a subset of globalThis.performance (as of last check, only timeOrigin set to 0 + now() implemented)\n// We already use performance.now() from globalThis.performance, if provided (see top of this file)\n// If we detect this condition, we can just use polyfill instead.\nexport const performance = globalThis.performance && \"addEventListener\" in globalThis.performance ? globalThis.performance : new Performance();\n", "import {\n  performance,\n  Performance,\n  PerformanceEntry,\n  PerformanceMark,\n  PerformanceMeasure,\n  PerformanceObserver,\n  PerformanceObserverEntryList,\n  PerformanceResourceTiming\n} from \"node:perf_hooks\";\nglobalThis.performance = performance;\nglobalThis.Performance = Performance;\nglobalThis.PerformanceEntry = PerformanceEntry;\nglobalThis.PerformanceMark = PerformanceMark;\nglobalThis.PerformanceMeasure = PerformanceMeasure;\nglobalThis.PerformanceObserver = PerformanceObserver;\nglobalThis.PerformanceObserverEntryList = PerformanceObserverEntryList;\nglobalThis.PerformanceResourceTiming = PerformanceResourceTiming;\n", "import { Writable } from \"node:stream\";\nimport noop from \"../mock/noop.mjs\";\nimport { notImplemented, notImplementedClass } from \"../_internal/utils.mjs\";\nconst _console = globalThis.console;\n// undocumented public APIs\nexport const _ignoreErrors = true;\nexport const _stderr = new Writable();\nexport const _stdout = new Writable();\nexport const log = _console?.log ?? noop;\nexport const info = _console?.info ?? log;\nexport const trace = _console?.trace ?? info;\nexport const debug = _console?.debug ?? log;\nexport const table = _console?.table ?? log;\nexport const error = _console?.error ?? log;\nexport const warn = _console?.warn ?? error;\n// https://developer.chrome.com/docs/devtools/console/api#createtask\nexport const createTask = _console?.createTask ?? /* @__PURE__ */ notImplemented(\"console.createTask\");\nexport const assert = /* @__PURE__ */ notImplemented(\"console.assert\");\n// noop\nexport const clear = _console?.clear ?? noop;\nexport const count = _console?.count ?? noop;\nexport const countReset = _console?.countReset ?? noop;\nexport const dir = _console?.dir ?? noop;\nexport const dirxml = _console?.dirxml ?? noop;\nexport const group = _console?.group ?? noop;\nexport const groupEnd = _console?.groupEnd ?? noop;\nexport const groupCollapsed = _console?.groupCollapsed ?? noop;\nexport const profile = _console?.profile ?? noop;\nexport const profileEnd = _console?.profileEnd ?? noop;\nexport const time = _console?.time ?? noop;\nexport const timeEnd = _console?.timeEnd ?? noop;\nexport const timeLog = _console?.timeLog ?? noop;\nexport const timeStamp = _console?.timeStamp ?? noop;\nexport const Console = _console?.Console ?? /* @__PURE__ */ notImplementedClass(\"console.Console\");\nexport const _times = /* @__PURE__ */ new Map();\nexport function context() {\n\t// TODO: Should be Console with all the methods\n\treturn _console;\n}\nexport const _stdoutErrorHandler = noop;\nexport const _stderrErrorHandler = noop;\nexport default {\n\t_times,\n\t_ignoreErrors,\n\t_stdoutErrorHandler,\n\t_stderrErrorHandler,\n\t_stdout,\n\t_stderr,\n\tassert,\n\tclear,\n\tConsole,\n\tcount,\n\tcountReset,\n\tdebug,\n\tdir,\n\tdirxml,\n\terror,\n\tcontext,\n\tcreateTask,\n\tgroup,\n\tgroupEnd,\n\tgroupCollapsed,\n\tinfo,\n\tlog,\n\tprofile,\n\tprofileEnd,\n\ttable,\n\ttime,\n\ttimeEnd,\n\ttimeLog,\n\ttimeStamp,\n\ttrace,\n\twarn\n};\n", "export default Object.assign(() => {}, { __unenv__: true });\n", "import {\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times,\n  Console\n} from \"unenv/node/console\";\nexport {\n  Console,\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times\n} from \"unenv/node/console\";\nconst workerdConsole = globalThis[\"console\"];\nexport const {\n  assert,\n  clear,\n  // @ts-expect-error undocumented public API\n  context,\n  count,\n  countReset,\n  // @ts-expect-error undocumented public API\n  createTask,\n  debug,\n  dir,\n  dirxml,\n  error,\n  group,\n  groupCollapsed,\n  groupEnd,\n  info,\n  log,\n  profile,\n  profileEnd,\n  table,\n  time,\n  timeEnd,\n  timeLog,\n  timeStamp,\n  trace,\n  warn\n} = workerdConsole;\nObject.assign(workerdConsole, {\n  Console,\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times\n});\nexport default workerdConsole;\n", "import { default as defaultExport } from \"@cloudflare/unenv-preset/node/console\";\nglobalThis.console = defaultExport;", "// https://nodejs.org/api/process.html#processhrtime\nexport const hrtime = /* @__PURE__ */ Object.assign(function hrtime(startTime) {\n\tconst now = Date.now();\n\t// millis to seconds\n\tconst seconds = Math.trunc(now / 1e3);\n\t// convert millis to nanos\n\tconst nanos = now % 1e3 * 1e6;\n\tif (startTime) {\n\t\tlet diffSeconds = seconds - startTime[0];\n\t\tlet diffNanos = nanos - startTime[0];\n\t\tif (diffNanos < 0) {\n\t\t\tdiffSeconds = diffSeconds - 1;\n\t\t\tdiffNanos = 1e9 + diffNanos;\n\t\t}\n\t\treturn [diffSeconds, diffNanos];\n\t}\n\treturn [seconds, nanos];\n}, { bigint: function bigint() {\n\t// Convert milliseconds to nanoseconds\n\treturn BigInt(Date.now() * 1e6);\n} });\n", "import { EventEmitter } from \"node:events\";\nimport { ReadStream, WriteStream } from \"node:tty\";\nimport { notImplemented, createNotImplementedError } from \"../../../_internal/utils.mjs\";\n// node-version.ts is generated at build time\nimport { NODE_VERSION } from \"./node-version.mjs\";\nexport class Process extends EventEmitter {\n\tenv;\n\thrtime;\n\tnextTick;\n\tconstructor(impl) {\n\t\tsuper();\n\t\tthis.env = impl.env;\n\t\tthis.hrtime = impl.hrtime;\n\t\tthis.nextTick = impl.nextTick;\n\t\tfor (const prop of [...Object.getOwnPropertyNames(Process.prototype), ...Object.getOwnPropertyNames(EventEmitter.prototype)]) {\n\t\t\tconst value = this[prop];\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tthis[prop] = value.bind(this);\n\t\t\t}\n\t\t}\n\t}\n\t// --- event emitter ---\n\temitWarning(warning, type, code) {\n\t\tconsole.warn(`${code ? `[${code}] ` : \"\"}${type ? `${type}: ` : \"\"}${warning}`);\n\t}\n\temit(...args) {\n\t\t// @ts-ignore\n\t\treturn super.emit(...args);\n\t}\n\tlisteners(eventName) {\n\t\treturn super.listeners(eventName);\n\t}\n\t// --- stdio (lazy initializers) ---\n\t#stdin;\n\t#stdout;\n\t#stderr;\n\tget stdin() {\n\t\treturn this.#stdin ??= new ReadStream(0);\n\t}\n\tget stdout() {\n\t\treturn this.#stdout ??= new WriteStream(1);\n\t}\n\tget stderr() {\n\t\treturn this.#stderr ??= new WriteStream(2);\n\t}\n\t// --- cwd ---\n\t#cwd = \"/\";\n\tchdir(cwd) {\n\t\tthis.#cwd = cwd;\n\t}\n\tcwd() {\n\t\treturn this.#cwd;\n\t}\n\t// --- dummy props and getters ---\n\tarch = \"\";\n\tplatform = \"\";\n\targv = [];\n\targv0 = \"\";\n\texecArgv = [];\n\texecPath = \"\";\n\ttitle = \"\";\n\tpid = 200;\n\tppid = 100;\n\tget version() {\n\t\treturn `v${NODE_VERSION}`;\n\t}\n\tget versions() {\n\t\treturn { node: NODE_VERSION };\n\t}\n\tget allowedNodeEnvironmentFlags() {\n\t\treturn new Set();\n\t}\n\tget sourceMapsEnabled() {\n\t\treturn false;\n\t}\n\tget debugPort() {\n\t\treturn 0;\n\t}\n\tget throwDeprecation() {\n\t\treturn false;\n\t}\n\tget traceDeprecation() {\n\t\treturn false;\n\t}\n\tget features() {\n\t\treturn {};\n\t}\n\tget release() {\n\t\treturn {};\n\t}\n\tget connected() {\n\t\treturn false;\n\t}\n\tget config() {\n\t\treturn {};\n\t}\n\tget moduleLoadList() {\n\t\treturn [];\n\t}\n\tconstrainedMemory() {\n\t\treturn 0;\n\t}\n\tavailableMemory() {\n\t\treturn 0;\n\t}\n\tuptime() {\n\t\treturn 0;\n\t}\n\tresourceUsage() {\n\t\treturn {};\n\t}\n\t// --- noop methods ---\n\tref() {\n\t\t// noop\n\t}\n\tunref() {\n\t\t// noop\n\t}\n\t// --- unimplemented methods ---\n\tumask() {\n\t\tthrow createNotImplementedError(\"process.umask\");\n\t}\n\tgetBuiltinModule() {\n\t\treturn undefined;\n\t}\n\tgetActiveResourcesInfo() {\n\t\tthrow createNotImplementedError(\"process.getActiveResourcesInfo\");\n\t}\n\texit() {\n\t\tthrow createNotImplementedError(\"process.exit\");\n\t}\n\treallyExit() {\n\t\tthrow createNotImplementedError(\"process.reallyExit\");\n\t}\n\tkill() {\n\t\tthrow createNotImplementedError(\"process.kill\");\n\t}\n\tabort() {\n\t\tthrow createNotImplementedError(\"process.abort\");\n\t}\n\tdlopen() {\n\t\tthrow createNotImplementedError(\"process.dlopen\");\n\t}\n\tsetSourceMapsEnabled() {\n\t\tthrow createNotImplementedError(\"process.setSourceMapsEnabled\");\n\t}\n\tloadEnvFile() {\n\t\tthrow createNotImplementedError(\"process.loadEnvFile\");\n\t}\n\tdisconnect() {\n\t\tthrow createNotImplementedError(\"process.disconnect\");\n\t}\n\tcpuUsage() {\n\t\tthrow createNotImplementedError(\"process.cpuUsage\");\n\t}\n\tsetUncaughtExceptionCaptureCallback() {\n\t\tthrow createNotImplementedError(\"process.setUncaughtExceptionCaptureCallback\");\n\t}\n\thasUncaughtExceptionCaptureCallback() {\n\t\tthrow createNotImplementedError(\"process.hasUncaughtExceptionCaptureCallback\");\n\t}\n\tinitgroups() {\n\t\tthrow createNotImplementedError(\"process.initgroups\");\n\t}\n\topenStdin() {\n\t\tthrow createNotImplementedError(\"process.openStdin\");\n\t}\n\tassert() {\n\t\tthrow createNotImplementedError(\"process.assert\");\n\t}\n\tbinding() {\n\t\tthrow createNotImplementedError(\"process.binding\");\n\t}\n\t// --- attached interfaces ---\n\tpermission = { has: /* @__PURE__ */ notImplemented(\"process.permission.has\") };\n\treport = {\n\t\tdirectory: \"\",\n\t\tfilename: \"\",\n\t\tsignal: \"SIGUSR2\",\n\t\tcompact: false,\n\t\treportOnFatalError: false,\n\t\treportOnSignal: false,\n\t\treportOnUncaughtException: false,\n\t\tgetReport: /* @__PURE__ */ notImplemented(\"process.report.getReport\"),\n\t\twriteReport: /* @__PURE__ */ notImplemented(\"process.report.writeReport\")\n\t};\n\tfinalization = {\n\t\tregister: /* @__PURE__ */ notImplemented(\"process.finalization.register\"),\n\t\tunregister: /* @__PURE__ */ notImplemented(\"process.finalization.unregister\"),\n\t\tregisterBeforeExit: /* @__PURE__ */ notImplemented(\"process.finalization.registerBeforeExit\")\n\t};\n\tmemoryUsage = Object.assign(() => ({\n\t\tarrayBuffers: 0,\n\t\trss: 0,\n\t\texternal: 0,\n\t\theapTotal: 0,\n\t\theapUsed: 0\n\t}), { rss: () => 0 });\n\t// --- undefined props ---\n\tmainModule = undefined;\n\tdomain = undefined;\n\t// optional\n\tsend = undefined;\n\texitCode = undefined;\n\tchannel = undefined;\n\tgetegid = undefined;\n\tgeteuid = undefined;\n\tgetgid = undefined;\n\tgetgroups = undefined;\n\tgetuid = undefined;\n\tsetegid = undefined;\n\tseteuid = undefined;\n\tsetgid = undefined;\n\tsetgroups = undefined;\n\tsetuid = undefined;\n\t// internals\n\t_events = undefined;\n\t_eventsCount = undefined;\n\t_exiting = undefined;\n\t_maxListeners = undefined;\n\t_debugEnd = undefined;\n\t_debugProcess = undefined;\n\t_fatalException = undefined;\n\t_getActiveHandles = undefined;\n\t_getActiveRequests = undefined;\n\t_kill = undefined;\n\t_preload_modules = undefined;\n\t_rawDebug = undefined;\n\t_startProfilerIdleNotifier = undefined;\n\t_stopProfilerIdleNotifier = undefined;\n\t_tickCallback = undefined;\n\t_disconnect = undefined;\n\t_handleQueue = undefined;\n\t_pendingMessage = undefined;\n\t_channel = undefined;\n\t_send = undefined;\n\t_linkedBinding = undefined;\n}\n", "export class ReadStream {\n\tfd;\n\tisRaw = false;\n\tisTTY = false;\n\tconstructor(fd) {\n\t\tthis.fd = fd;\n\t}\n\tsetRawMode(mode) {\n\t\tthis.isRaw = mode;\n\t\treturn this;\n\t}\n}\n", "export class WriteStream {\n\tfd;\n\tcolumns = 80;\n\trows = 24;\n\tisTTY = false;\n\tconstructor(fd) {\n\t\tthis.fd = fd;\n\t}\n\tclearLine(dir, callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tclearScreenDown(callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tcursorTo(x, y, callback) {\n\t\tcallback && typeof callback === \"function\" && callback();\n\t\treturn false;\n\t}\n\tmoveCursor(dx, dy, callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tgetColorDepth(env) {\n\t\treturn 1;\n\t}\n\thasColors(count, env) {\n\t\treturn false;\n\t}\n\tgetWindowSize() {\n\t\treturn [this.columns, this.rows];\n\t}\n\twrite(str, encoding, cb) {\n\t\tif (str instanceof Uint8Array) {\n\t\t\tstr = new TextDecoder().decode(str);\n\t\t}\n\t\ttry {\n\t\t\tconsole.log(str);\n\t\t} catch {}\n\t\tcb && typeof cb === \"function\" && cb();\n\t\treturn false;\n\t}\n}\n", "// Extracted from .nvmrc\nexport const NODE_VERSION = \"22.14.0\";\n", "import { hrtime as UnenvHrTime } from \"unenv/node/internal/process/hrtime\";\nimport { Process as UnenvProcess } from \"unenv/node/internal/process/process\";\nconst globalProcess = globalThis[\"process\"];\nexport const getBuiltinModule = globalProcess.getBuiltinModule;\nconst workerdProcess = getBuiltinModule(\"node:process\");\nconst isWorkerdProcessV2 = globalThis.Cloudflare.compatibilityFlags.enable_nodejs_process_v2;\nconst unenvProcess = new UnenvProcess({\n  env: globalProcess.env,\n  // `hrtime` is only available from workerd process v2\n  hrtime: isWorkerdProcessV2 ? workerdProcess.hrtime : UnenvHrTime,\n  // `nextTick` is available from workerd process v1\n  nextTick: workerdProcess.nextTick\n});\nexport const { exit, features, platform } = workerdProcess;\nexport const {\n  // Always implemented by workerd\n  env,\n  // Only implemented in workerd v2\n  hrtime,\n  // Always implemented by workerd\n  nextTick\n} = unenvProcess;\nexport const {\n  _channel,\n  _disconnect,\n  _events,\n  _eventsCount,\n  _handleQueue,\n  _maxListeners,\n  _pendingMessage,\n  _send,\n  assert,\n  disconnect,\n  mainModule\n} = unenvProcess;\nexport const {\n  // @ts-expect-error `_debugEnd` is missing typings\n  _debugEnd,\n  // @ts-expect-error `_debugProcess` is missing typings\n  _debugProcess,\n  // @ts-expect-error `_exiting` is missing typings\n  _exiting,\n  // @ts-expect-error `_fatalException` is missing typings\n  _fatalException,\n  // @ts-expect-error `_getActiveHandles` is missing typings\n  _getActiveHandles,\n  // @ts-expect-error `_getActiveRequests` is missing typings\n  _getActiveRequests,\n  // @ts-expect-error `_kill` is missing typings\n  _kill,\n  // @ts-expect-error `_linkedBinding` is missing typings\n  _linkedBinding,\n  // @ts-expect-error `_preload_modules` is missing typings\n  _preload_modules,\n  // @ts-expect-error `_rawDebug` is missing typings\n  _rawDebug,\n  // @ts-expect-error `_startProfilerIdleNotifier` is missing typings\n  _startProfilerIdleNotifier,\n  // @ts-expect-error `_stopProfilerIdleNotifier` is missing typings\n  _stopProfilerIdleNotifier,\n  // @ts-expect-error `_tickCallback` is missing typings\n  _tickCallback,\n  abort,\n  addListener,\n  allowedNodeEnvironmentFlags,\n  arch,\n  argv,\n  argv0,\n  availableMemory,\n  // @ts-expect-error `binding` is missing typings\n  binding,\n  channel,\n  chdir,\n  config,\n  connected,\n  constrainedMemory,\n  cpuUsage,\n  cwd,\n  debugPort,\n  dlopen,\n  // @ts-expect-error `domain` is missing typings\n  domain,\n  emit,\n  emitWarning,\n  eventNames,\n  execArgv,\n  execPath,\n  exitCode,\n  finalization,\n  getActiveResourcesInfo,\n  getegid,\n  geteuid,\n  getgid,\n  getgroups,\n  getMaxListeners,\n  getuid,\n  hasUncaughtExceptionCaptureCallback,\n  // @ts-expect-error `initgroups` is missing typings\n  initgroups,\n  kill,\n  listenerCount,\n  listeners,\n  loadEnvFile,\n  memoryUsage,\n  // @ts-expect-error `moduleLoadList` is missing typings\n  moduleLoadList,\n  off,\n  on,\n  once,\n  // @ts-expect-error `openStdin` is missing typings\n  openStdin,\n  permission,\n  pid,\n  ppid,\n  prependListener,\n  prependOnceListener,\n  rawListeners,\n  // @ts-expect-error `reallyExit` is missing typings\n  reallyExit,\n  ref,\n  release,\n  removeAllListeners,\n  removeListener,\n  report,\n  resourceUsage,\n  send,\n  setegid,\n  seteuid,\n  setgid,\n  setgroups,\n  setMaxListeners,\n  setSourceMapsEnabled,\n  setuid,\n  setUncaughtExceptionCaptureCallback,\n  sourceMapsEnabled,\n  stderr,\n  stdin,\n  stdout,\n  throwDeprecation,\n  title,\n  traceDeprecation,\n  umask,\n  unref,\n  uptime,\n  version,\n  versions\n} = isWorkerdProcessV2 ? workerdProcess : unenvProcess;\nconst _process = {\n  abort,\n  addListener,\n  allowedNodeEnvironmentFlags,\n  hasUncaughtExceptionCaptureCallback,\n  setUncaughtExceptionCaptureCallback,\n  loadEnvFile,\n  sourceMapsEnabled,\n  arch,\n  argv,\n  argv0,\n  chdir,\n  config,\n  connected,\n  constrainedMemory,\n  availableMemory,\n  cpuUsage,\n  cwd,\n  debugPort,\n  dlopen,\n  disconnect,\n  emit,\n  emitWarning,\n  env,\n  eventNames,\n  execArgv,\n  execPath,\n  exit,\n  finalization,\n  features,\n  getBuiltinModule,\n  getActiveResourcesInfo,\n  getMaxListeners,\n  hrtime,\n  kill,\n  listeners,\n  listenerCount,\n  memoryUsage,\n  nextTick,\n  on,\n  off,\n  once,\n  pid,\n  platform,\n  ppid,\n  prependListener,\n  prependOnceListener,\n  rawListeners,\n  release,\n  removeAllListeners,\n  removeListener,\n  report,\n  resourceUsage,\n  setMaxListeners,\n  setSourceMapsEnabled,\n  stderr,\n  stdin,\n  stdout,\n  title,\n  throwDeprecation,\n  traceDeprecation,\n  umask,\n  uptime,\n  version,\n  versions,\n  // @ts-expect-error old API\n  domain,\n  initgroups,\n  moduleLoadList,\n  reallyExit,\n  openStdin,\n  assert,\n  binding,\n  send,\n  exitCode,\n  channel,\n  getegid,\n  geteuid,\n  getgid,\n  getgroups,\n  getuid,\n  setegid,\n  seteuid,\n  setgid,\n  setgroups,\n  setuid,\n  permission,\n  mainModule,\n  _events,\n  _eventsCount,\n  _exiting,\n  _maxListeners,\n  _debugEnd,\n  _debugProcess,\n  _fatalException,\n  _getActiveHandles,\n  _getActiveRequests,\n  _kill,\n  _preload_modules,\n  _rawDebug,\n  _startProfilerIdleNotifier,\n  _stopProfilerIdleNotifier,\n  _tickCallback,\n  _disconnect,\n  _handleQueue,\n  _pendingMessage,\n  _channel,\n  _send,\n  _linkedBinding\n};\nexport default _process;\n", "import { default as defaultExport } from \"@cloudflare/unenv-preset/node/process\";\nglobalThis.process = defaultExport;", "// iBorrow System - Cloudflare Worker serving Next.js with D1\r\nexport default {\r\n  async fetch(request, env, ctx) {\r\n    const url = new URL(request.url);\r\n    const path = url.pathname;\r\n\r\n    // CORS headers\r\n    const corsHeaders = {\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\r\n      'Access-Control-Allow-Headers': 'Content-Type',\r\n    };\r\n\r\n    // Handle OPTIONS preflight\r\n    if (request.method === 'OPTIONS') {\r\n      return new Response(null, { headers: corsHeaders });\r\n    }\r\n\r\n    try {\r\n      // API Routes - Handle with D1\r\n      if (path.startsWith('/api/')) {\r\n        return await handleAPI(path, request, env, corsHeaders);\r\n      }\r\n\r\n      // PRIORITY 1: Serve Next.js static assets (_next/static/, etc)\r\n      if (path.startsWith('/_next/') || path.startsWith('/static/') || \r\n          path.endsWith('.js') || path.endsWith('.css') || \r\n          path.endsWith('.json') || path.endsWith('.woff2')) {\r\n        if (env.ASSETS) {\r\n          const assetResponse = await env.ASSETS.fetch(request);\r\n          if (assetResponse && assetResponse.status !== 404) {\r\n            return assetResponse;\r\n          }\r\n        }\r\n      }\r\n\r\n      // PRIORITY 2: Try to serve from ASSETS binding for any other path\r\n      if (env.ASSETS) {\r\n        const assetResponse = await env.ASSETS.fetch(request);\r\n        if (assetResponse && assetResponse.status !== 404) {\r\n          return assetResponse;\r\n        }\r\n      }\r\n\r\n      // Try Next.js HTML pages\r\n      const htmlPaths = {\r\n        '/': '/index.html',\r\n        '/login': '/login.html',\r\n        '/user/dashboard': '/user/dashboard.html',\r\n        '/user/barang': '/user/barang.html',\r\n        '/user/profile': '/user/profile.html',\r\n        '/user/tempahan': '/user/tempahan.html',\r\n        '/user/sejarah': '/user/sejarah.html',\r\n        '/admin/dashboard': '/admin/dashboard.html',\r\n        '/admin/barang': '/admin/barang.html',\r\n        '/admin/pengguna': '/admin/pengguna.html',\r\n        '/admin/laporan': '/admin/laporan.html',\r\n        '/admin/profile': '/admin/profile.html',\r\n        '/staff-ict/dashboard': '/staff-ict/dashboard.html',\r\n        '/staff-ict/barang': '/staff-ict/barang.html',\r\n        '/staff-ict/kelulusan': '/staff-ict/kelulusan.html',\r\n      };\r\n\r\n      const htmlPath = htmlPaths[path];\r\n      if (htmlPath && env.ASSETS) {\r\n        const htmlUrl = new URL(htmlPath, request.url);\r\n        const htmlResponse = await env.ASSETS.fetch(new Request(htmlUrl, request));\r\n        if (htmlResponse && htmlResponse.status !== 404) {\r\n          return htmlResponse;\r\n        }\r\n      }\r\n\r\n      // Fallback to custom HTML for paths not in Next.js build\r\n      return await handlePage(path, corsHeaders);\r\n\r\n    } catch (error) {\r\n      return jsonResponse({ \r\n        success: false, \r\n        error: 'Internal server error',\r\n        message: error.message \r\n      }, 500, corsHeaders);\r\n    }\r\n  }\r\n};\r\n\r\n// ============================================\r\n// API HANDLERS\r\n// ============================================\r\n\r\nasync function handleAPI(path, request, env, corsHeaders) {\r\n  const db = env.DB;\r\n\r\n  // POST /api/auth/login\r\n  if (path === '/api/auth/login' && request.method === 'POST') {\r\n    const { email, password } = await request.json();\r\n\r\n    if (!email || !password) {\r\n      return jsonResponse({ \r\n        success: false, \r\n        error: 'Email dan password diperlukan' \r\n      }, 400, corsHeaders);\r\n    }\r\n\r\n    // Query D1 database\r\n    const result = await db.prepare(\r\n      'SELECT * FROM users WHERE email = ? AND password_hash = ?'\r\n    ).bind(email, password).first();\r\n\r\n    if (!result) {\r\n      return jsonResponse({ \r\n        success: false, \r\n        error: 'Email atau password salah' \r\n      }, 401, corsHeaders);\r\n    }\r\n\r\n    // Update last login\r\n    await db.prepare(\r\n      \"UPDATE users SET last_login = datetime('now') WHERE id = ?\"\r\n    ).bind(result.id).run();\r\n\r\n    // Remove password from response\r\n    const { password_hash, ...user } = result;\r\n\r\n    return jsonResponse({\r\n      success: true,\r\n      user,\r\n      redirectTo: getRedirectPath(user.peranan),\r\n      usingRealDatabase: true,\r\n      message: 'Login berjaya (D1 Database)'\r\n    }, 200, corsHeaders);\r\n  }\r\n\r\n  // GET /api/user/dashboard\r\n  if (path === '/api/user/dashboard' && request.method === 'GET') {\r\n    const userId = 'user_003'; // TODO: Get from session\r\n    const stats = await db.prepare(`\r\n      SELECT \r\n        (SELECT COUNT(*) FROM tempahan WHERE userId = ?) as totalTempahan,\r\n        (SELECT COUNT(*) FROM tempahan WHERE userId = ? AND status = 'Aktif') as tempahanAktif,\r\n        (SELECT COUNT(*) FROM barang WHERE status = 'Tersedia') as barangTersedia\r\n    `).bind(userId, userId).first();\r\n\r\n    return jsonResponse({ success: true, data: stats }, 200, corsHeaders);\r\n  }\r\n\r\n  // GET /api/admin/dashboard\r\n  if (path === '/api/admin/dashboard' && request.method === 'GET') {\r\n    const stats = await db.prepare(`\r\n      SELECT \r\n        (SELECT COUNT(*) FROM users) as totalUsers,\r\n        (SELECT COUNT(*) FROM barang) as totalBarang,\r\n        (SELECT COUNT(*) FROM tempahan WHERE status = 'Diluluskan') as tempahanAktif,\r\n        (SELECT COUNT(*) FROM tempahan WHERE status = 'Pending') as tempahanPending,\r\n        (SELECT SUM(kuantitiTersedia) FROM barang) as totalKuantiti\r\n    `).first();\r\n\r\n    return jsonResponse({ success: true, data: stats }, 200, corsHeaders);\r\n  }\r\n\r\n  // GET /api/staff-ict/dashboard\r\n  if (path === '/api/staff-ict/dashboard' && request.method === 'GET') {\r\n    const stats = await db.prepare(`\r\n      SELECT \r\n        (SELECT COUNT(*) FROM tempahan WHERE status = 'Pending') as perluKelulusan,\r\n        (SELECT COUNT(*) FROM tempahan WHERE status = 'Diluluskan') as diluluskan,\r\n        (SELECT COUNT(*) FROM tempahan WHERE status = 'Ditolak') as ditolak,\r\n        (SELECT COUNT(*) FROM barang) as totalBarang\r\n    `).first();\r\n\r\n    return jsonResponse({ success: true, data: stats }, 200, corsHeaders);\r\n  }\r\n\r\n  // GET /api/user/barang - List all available items\r\n  if (path === '/api/user/barang' && request.method === 'GET') {\r\n    const barang = await db.prepare(\r\n      'SELECT * FROM barang WHERE status = \"Tersedia\" ORDER BY createdAt DESC'\r\n    ).all();\r\n\r\n    return jsonResponse({ \r\n      success: true, \r\n      barang: barang.results \r\n    }, 200, corsHeaders);\r\n  }\r\n\r\n  // ============================================\r\n  // ADMIN BARANG API - Full CRUD\r\n  // ============================================\r\n  \r\n  if (path === '/api/admin/barang') {\r\n    // GET - List all barang\r\n    if (request.method === 'GET') {\r\n      const barang = await db.prepare(\r\n        'SELECT * FROM barang ORDER BY createdAt DESC'\r\n      ).all();\r\n\r\n      return jsonResponse({ \r\n        success: true, \r\n        barang: barang.results \r\n      }, 200, corsHeaders);\r\n    }\r\n\r\n    // POST - Create new barang\r\n    if (request.method === 'POST') {\r\n      const body = await request.json();\r\n      const id = 'brg_' + Date.now();\r\n\r\n      await db.prepare(`\r\n        INSERT INTO barang (id, namaBarang, kategori, kodBarang, kuantitiTersedia, \r\n          kuantitiTotal, lokasi, status, hargaPerolehan, tarikhPerolehan, catatan, createdBy)\r\n        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n      `).bind(\r\n        id,\r\n        body.namaBarang,\r\n        body.kategori,\r\n        body.kodBarang,\r\n        body.kuantitiTersedia || body.kuantitiTotal,\r\n        body.kuantitiTotal,\r\n        body.lokasi,\r\n        'Tersedia',\r\n        body.hargaPerolehan || 0,\r\n        body.tarikhPerolehan || new Date().toISOString().split('T')[0],\r\n        body.catatan || '',\r\n        body.createdBy || 'user_001'\r\n      ).run();\r\n\r\n      return jsonResponse({ \r\n        success: true, \r\n        message: 'Barang berjaya ditambah',\r\n        data: { id }\r\n      }, 200, corsHeaders);\r\n    }\r\n\r\n    // PUT - Update barang\r\n    if (request.method === 'PUT') {\r\n      try {\r\n        const body = await request.json();\r\n        console.log('PUT body received:', JSON.stringify(body));\r\n\r\n        // Full update with all fields\r\n        if (body.namaBarang) {\r\n          await db.prepare(`\r\n            UPDATE barang SET \r\n              namaBarang = ?, \r\n              kategori = ?, \r\n              kodBarang = ?, \r\n              kuantitiTotal = ?,\r\n              kuantitiTersedia = ?,\r\n              status = ?,\r\n              lokasi = ?,\r\n              catatan = ?,\r\n              updatedAt = datetime(\"now\")\r\n            WHERE id = ?\r\n          `).bind(\r\n            body.namaBarang,\r\n            body.kategori,\r\n            body.kodBarang,\r\n            body.kuantitiTotal || 1,\r\n            body.kuantitiTersedia !== undefined ? body.kuantitiTersedia : 1,\r\n            body.status || 'Tersedia',\r\n            body.lokasi,\r\n            body.deskripsi || body.nota || '',\r\n            body.id\r\n          ).run();\r\n        }\r\n        // Quick status update only\r\n        else if (body.status && !body.namaBarang) {\r\n          await db.prepare(\r\n            'UPDATE barang SET status = ?, updatedAt = datetime(\"now\") WHERE id = ?'\r\n          ).bind(body.status, body.id).run();\r\n        }\r\n        // Quick quantity update only\r\n        else if (body.kuantitiTersedia !== undefined && !body.namaBarang) {\r\n          await db.prepare(\r\n            'UPDATE barang SET kuantitiTersedia = ?, updatedAt = datetime(\"now\") WHERE id = ?'\r\n          ).bind(body.kuantitiTersedia, body.id).run();\r\n        }\r\n\r\n        return jsonResponse({ \r\n          success: true, \r\n          message: 'Barang berjaya dikemaskini'\r\n        }, 200, corsHeaders);\r\n      } catch (error) {\r\n        console.error('PUT error:', error);\r\n        return jsonResponse({ \r\n          success: false, \r\n          error: error.message || 'Gagal kemaskini barang'\r\n        }, 500, corsHeaders);\r\n      }\r\n    }\r\n\r\n    // DELETE - Remove barang (single or bulk)\r\n    if (request.method === 'DELETE') {\r\n      const body = await request.json();\r\n      \r\n      // Bulk delete\r\n      if (body.ids && Array.isArray(body.ids)) {\r\n        const placeholders = body.ids.map(() => '?').join(',');\r\n        await db.prepare(\r\n          `DELETE FROM barang WHERE id IN (${placeholders})`\r\n        ).bind(...body.ids).run();\r\n\r\n        return jsonResponse({ \r\n          success: true, \r\n          message: `${body.ids.length} barang berjaya dipadam`\r\n        }, 200, corsHeaders);\r\n      }\r\n      \r\n      // Single delete\r\n      if (body.id) {\r\n        await db.prepare(\r\n          'DELETE FROM barang WHERE id = ?'\r\n        ).bind(body.id).run();\r\n\r\n        return jsonResponse({ \r\n          success: true, \r\n          message: 'Barang berjaya dipadam'\r\n        }, 200, corsHeaders);\r\n      }\r\n\r\n      return jsonResponse({ \r\n        success: false, \r\n        error: 'ID atau IDs diperlukan'\r\n      }, 400, corsHeaders);\r\n    }\r\n  }\r\n\r\n  // ============================================\r\n  // ADMIN PENGGUNA API - User Management\r\n  // ============================================\r\n  \r\n  if (path === '/api/admin/pengguna') {\r\n    // GET - List all users\r\n    if (request.method === 'GET') {\r\n      const users = await db.prepare(\r\n        'SELECT id, email, nama, peranan, fakulti, no_telefon, no_matrik, no_staf, status, created_at FROM users ORDER BY created_at DESC'\r\n      ).all();\r\n\r\n      return jsonResponse({ \r\n        success: true, \r\n        data: users.results \r\n      }, 200, corsHeaders);\r\n    }\r\n\r\n    // POST - Create new user\r\n    if (request.method === 'POST') {\r\n      const body = await request.json();\r\n      const id = 'user_' + Date.now();\r\n\r\n      await db.prepare(`\r\n        INSERT INTO users (id, email, nama, peranan, fakulti, no_telefon, no_matrik, no_staf, password_hash, status)\r\n        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n      `).bind(\r\n        id,\r\n        body.email,\r\n        body.nama,\r\n        body.role,\r\n        body.fakulti,\r\n        body.no_telefon || '',\r\n        body.noMatrik || null,\r\n        body.noStaf || null,\r\n        'password123', // Default password\r\n        'aktif'\r\n      ).run();\r\n\r\n      return jsonResponse({ \r\n        success: true, \r\n        message: 'Pengguna berjaya ditambah',\r\n        data: { id }\r\n      }, 200, corsHeaders);\r\n    }\r\n\r\n    // PUT - Update user\r\n    if (request.method === 'PUT') {\r\n      const body = await request.json();\r\n\r\n      if (body.action === 'reset-password') {\r\n        await db.prepare(\r\n          'UPDATE users SET password_hash = ?, updated_at = datetime(\"now\") WHERE id = ?'\r\n        ).bind('password123', body.id).run();\r\n\r\n        return jsonResponse({ \r\n          success: true, \r\n          message: 'Password berjaya direset kepada password123'\r\n        }, 200, corsHeaders);\r\n      }\r\n\r\n      // Update status\r\n      if (body.status) {\r\n        await db.prepare(\r\n          'UPDATE users SET status = ?, updated_at = datetime(\"now\") WHERE id = ?'\r\n        ).bind(body.status, body.id).run();\r\n      }\r\n\r\n      return jsonResponse({ \r\n        success: true, \r\n        message: 'Pengguna berjaya dikemaskini'\r\n      }, 200, corsHeaders);\r\n    }\r\n\r\n    // DELETE - Remove user(s)\r\n    if (request.method === 'DELETE') {\r\n      const body = await request.json();\r\n      \r\n      if (Array.isArray(body.ids)) {\r\n        // Bulk delete\r\n        for (const id of body.ids) {\r\n          await db.prepare('DELETE FROM users WHERE id = ?').bind(id).run();\r\n        }\r\n        return jsonResponse({ \r\n          success: true, \r\n          message: `${body.ids.length} pengguna berjaya dipadam`\r\n        }, 200, corsHeaders);\r\n      } else {\r\n        // Single delete\r\n        await db.prepare('DELETE FROM users WHERE id = ?').bind(body.id).run();\r\n        return jsonResponse({ \r\n          success: true, \r\n          message: 'Pengguna berjaya dipadam'\r\n        }, 200, corsHeaders);\r\n      }\r\n    }\r\n  }\r\n\r\n  // ============================================\r\n  // USER TEMPAHAN API - Booking Management\r\n  // ============================================\r\n  \r\n  if (path === '/api/user/tempahan') {\r\n    // GET - List user's bookings\r\n    if (request.method === 'GET') {\r\n      const userId = 'user_003'; // TODO: Get from session\r\n      const tempahan = await db.prepare(`\r\n        SELECT t.*, b.namaBarang, b.kategori, b.kodBarang\r\n        FROM tempahan t\r\n        JOIN barang b ON t.barangId = b.id\r\n        WHERE t.userId = ?\r\n        ORDER BY t.createdAt DESC\r\n      `).bind(userId).all();\r\n\r\n      return jsonResponse({ \r\n        success: true, \r\n        data: tempahan.results \r\n      }, 200, corsHeaders);\r\n    }\r\n\r\n    // POST - Create new booking\r\n    if (request.method === 'POST') {\r\n      try {\r\n        const body = await request.json();\r\n        const id = 'tmp_' + Date.now();\r\n        const userId = body.userId || 'user_003'; // Use userId from body or fallback\r\n\r\n        console.log('Creating tempahan:', { id, userId, barangId: body.barangId, kuantiti: body.kuantiti });\r\n\r\n        await db.prepare(`\r\n          INSERT INTO tempahan (id, userId, barangId, kuantiti, tarikhMula, tarikhTamat, tujuan, status)\r\n          VALUES (?, ?, ?, ?, ?, ?, ?, ?)\r\n        `).bind(\r\n          id,\r\n          userId,\r\n          body.barangId,\r\n          body.kuantiti || 1,\r\n          body.tarikhMula,\r\n          body.tarikhTamat,\r\n          body.tujuan || '',\r\n          'Pending'\r\n        ).run();\r\n\r\n        return jsonResponse({ \r\n          success: true, \r\n          message: 'Tempahan berjaya dihantar',\r\n          data: { id }\r\n        }, 200, corsHeaders);\r\n      } catch (error) {\r\n        console.error('POST tempahan error:', error);\r\n        return jsonResponse({ \r\n          success: false, \r\n          error: error.message || 'Gagal membuat tempahan'\r\n        }, 500, corsHeaders);\r\n      }\r\n    }\r\n\r\n    // DELETE - Cancel booking\r\n    if (request.method === 'DELETE') {\r\n      const body = await request.json();\r\n      \r\n      await db.prepare(\r\n        'UPDATE tempahan SET status = ?, updatedAt = datetime(\"now\") WHERE id = ?'\r\n      ).bind('Dibatalkan', body.id).run();\r\n\r\n      return jsonResponse({ \r\n        success: true, \r\n        message: 'Tempahan berjaya dibatalkan'\r\n      }, 200, corsHeaders);\r\n    }\r\n  }\r\n\r\n  // ============================================\r\n  // STAFF-ICT KELULUSAN API - Approval Management\r\n  // ============================================\r\n  \r\n  if (path === '/api/staff-ict/kelulusan') {\r\n    // GET - List all tempahan (frontend will filter by status)\r\n    if (request.method === 'GET') {\r\n      const tempahan = await db.prepare(`\r\n        SELECT t.*, b.namaBarang, b.kategori, b.lokasi, \r\n               u.nama as namaPemohon, u.email as emailPemohon, u.fakulti\r\n        FROM tempahan t\r\n        JOIN barang b ON t.barangId = b.id\r\n        JOIN users u ON t.userId = u.id\r\n        ORDER BY t.createdAt DESC\r\n      `).all();\r\n\r\n      return jsonResponse({ \r\n        success: true, \r\n        data: tempahan.results \r\n      }, 200, corsHeaders);\r\n    }\r\n\r\n    // PUT - Approve/Reject booking\r\n    if (request.method === 'PUT') {\r\n      const body = await request.json();\r\n      const staffId = 'user_002'; // TODO: Get from session\r\n\r\n      await db.prepare(`\r\n        UPDATE tempahan SET \r\n          status = ?, \r\n          catatanKelulusan = ?,\r\n          diluluskanOleh = ?,\r\n          tarikhKelulusan = datetime(\"now\"),\r\n          updatedAt = datetime(\"now\")\r\n        WHERE id = ?\r\n      `).bind(\r\n        body.status,\r\n        body.catatan || '',\r\n        staffId,\r\n        body.id\r\n      ).run();\r\n\r\n      // If approved, update barang quantity\r\n      if (body.status === 'Diluluskan') {\r\n        const tempahan = await db.prepare(\r\n          'SELECT barangId, kuantiti FROM tempahan WHERE id = ?'\r\n        ).bind(body.id).first();\r\n\r\n        await db.prepare(\r\n          'UPDATE barang SET kuantitiTersedia = kuantitiTersedia - ? WHERE id = ?'\r\n        ).bind(tempahan.kuantiti, tempahan.barangId).run();\r\n      }\r\n\r\n      return jsonResponse({ \r\n        success: true, \r\n        message: body.status === 'Diluluskan' ? 'Tempahan diluluskan' : 'Tempahan ditolak'\r\n      }, 200, corsHeaders);\r\n    }\r\n  }\r\n\r\n  // ============================================\r\n  // LAPORAN API - Reports\r\n  // ============================================\r\n  \r\n  if (path === '/api/staff-ict/laporan/keseluruhan' && request.method === 'GET') {\r\n    const stats = await db.prepare(`\r\n      SELECT \r\n        (SELECT COUNT(*) FROM tempahan) as totalTempahan,\r\n        (SELECT COUNT(*) FROM tempahan WHERE status = 'Diluluskan') as tempahanLulus,\r\n        (SELECT COUNT(*) FROM tempahan WHERE status = 'Pending') as tempahanPending,\r\n        (SELECT COUNT(*) FROM tempahan WHERE status = 'Ditolak') as tempahanTolak,\r\n        (SELECT COUNT(*) FROM barang) as totalBarang,\r\n        (SELECT COUNT(*) FROM barang WHERE status = 'Tersedia') as barangTersedia,\r\n        (SELECT COUNT(*) FROM users WHERE peranan = 'pelajar') as totalPelajar,\r\n        (SELECT COUNT(*) FROM users WHERE peranan = 'pengajar') as totalPengajar\r\n    `).first();\r\n\r\n    return jsonResponse({ success: true, data: stats }, 200, corsHeaders);\r\n  }\r\n\r\n  if (path === '/api/staff-ict/laporan/barang' && request.method === 'GET') {\r\n    const barang = await db.prepare(`\r\n      SELECT b.*, \r\n        (SELECT COUNT(*) FROM tempahan WHERE barangId = b.id AND status = 'Diluluskan') as jumlahDipinjam\r\n      FROM barang b\r\n      ORDER BY jumlahDipinjam DESC\r\n    `).all();\r\n\r\n    return jsonResponse({ success: true, data: barang.results }, 200, corsHeaders);\r\n  }\r\n\r\n  if (path === '/api/staff-ict/laporan/tempahan' && request.method === 'GET') {\r\n    const tempahan = await db.prepare(`\r\n      SELECT t.*, b.namaBarang, u.nama as namaPemohon, u.fakulti\r\n      FROM tempahan t\r\n      JOIN barang b ON t.barangId = b.id\r\n      JOIN users u ON t.userId = u.id\r\n      ORDER BY t.createdAt DESC\r\n      LIMIT 100\r\n    `).all();\r\n\r\n    return jsonResponse({ success: true, data: tempahan.results }, 200, corsHeaders);\r\n  }\r\n\r\n  // ============================================\r\n  // PROFILE API - Get current user profile\r\n  // ============================================\r\n  \r\n  if (path === '/api/user/profile' && request.method === 'GET') {\r\n    const urlParams = new URL(request.url);\r\n    const userId = urlParams.searchParams.get('userId') || 'user_003';\r\n    const user = await db.prepare(\r\n      'SELECT id, email, nama, peranan, fakulti, no_telefon, no_matrik, no_staf, status FROM users WHERE id = ?'\r\n    ).bind(userId).first();\r\n\r\n    if (!user) {\r\n      return jsonResponse({ success: false, error: 'User not found' }, 404, corsHeaders);\r\n    }\r\n\r\n    return jsonResponse({ success: true, data: user }, 200, corsHeaders);\r\n  }\r\n\r\n  if (path === '/api/staff-ict/profile' && request.method === 'GET') {\r\n    const urlParams = new URL(request.url);\r\n    const userId = urlParams.searchParams.get('userId') || 'user_002';\r\n    const user = await db.prepare(\r\n      'SELECT id, email, nama, peranan, fakulti, no_telefon, no_matrik, no_staf, status FROM users WHERE id = ?'\r\n    ).bind(userId).first();\r\n\r\n    if (!user) {\r\n      return jsonResponse({ success: false, error: 'User not found' }, 404, corsHeaders);\r\n    }\r\n\r\n    return jsonResponse({ success: true, data: user }, 200, corsHeaders);\r\n  }\r\n\r\n  if (path === '/api/admin/profile' && request.method === 'GET') {\r\n    const urlParams = new URL(request.url);\r\n    const userId = urlParams.searchParams.get('userId') || 'user_001';\r\n    const user = await db.prepare(\r\n      'SELECT id, email, nama, peranan, fakulti, no_telefon, no_matrik, no_staf, status FROM users WHERE id = ?'\r\n    ).bind(userId).first();\r\n\r\n    if (!user) {\r\n      return jsonResponse({ success: false, error: 'User not found' }, 404, corsHeaders);\r\n    }\r\n\r\n    return jsonResponse({ success: true, data: user }, 200, corsHeaders);\r\n  }\r\n\r\n  // POST /api/auth/logout\r\n  if (path === '/api/auth/logout' && request.method === 'POST') {\r\n    return jsonResponse({ \r\n      success: true, \r\n      message: 'Logout berjaya' \r\n    }, 200, corsHeaders);\r\n  }\r\n\r\n  // API not found\r\n  return jsonResponse({ \r\n    success: false, \r\n    error: 'API endpoint not found' \r\n  }, 404, corsHeaders);\r\n}\r\n\r\n// ============================================\r\n// PAGE HANDLERS (HTML)\r\n// ============================================\r\n\r\nasync function handlePage(path, corsHeaders) {\r\n  // Home page\r\n  if (path === '/' || path === '') {\r\n    return htmlResponse(getHomeHTML(), corsHeaders);\r\n  }\r\n\r\n  // Login page\r\n  if (path === '/login') {\r\n    return htmlResponse(getLoginHTML(), corsHeaders);\r\n  }\r\n\r\n  // User dashboard\r\n  if (path === '/user/dashboard') {\r\n    return htmlResponse(getUserDashboardHTML(), corsHeaders);\r\n  }\r\n\r\n  // Admin dashboard\r\n  if (path === '/admin/dashboard') {\r\n    return htmlResponse(getAdminDashboardHTML(), corsHeaders);\r\n  }\r\n\r\n  // Admin barang page\r\n  if (path === '/admin/barang') {\r\n    return htmlResponse(getAdminBarangHTML(), corsHeaders);\r\n  }\r\n\r\n  // Admin pengguna page\r\n  if (path === '/admin/pengguna') {\r\n    return htmlResponse(getAdminPenggunaHTML(), corsHeaders);\r\n  }\r\n\r\n  // Admin laporan page\r\n  if (path === '/admin/laporan') {\r\n    return htmlResponse(getAdminLaporanHTML(), corsHeaders);\r\n  }\r\n\r\n  // Admin profile page\r\n  if (path === '/admin/profile') {\r\n    return htmlResponse(getAdminProfileHTML(), corsHeaders);\r\n  }\r\n\r\n  // Admin tetapan sistem page\r\n  if (path === '/admin/tetapan/sistem') {\r\n    return htmlResponse(getAdminTetapanSistemHTML(), corsHeaders);\r\n  }\r\n\r\n  // Admin tetapan keselamatan page\r\n  if (path === '/admin/tetapan/keselamatan') {\r\n    return htmlResponse(getAdminTetapanKeselamatanHTML(), corsHeaders);\r\n  }\r\n\r\n  // Admin tetapan log aktiviti page\r\n  if (path === '/admin/tetapan/log-aktiviti') {\r\n    return htmlResponse(getAdminTetapanLogAktivitiHTML(), corsHeaders);\r\n  }\r\n\r\n  // Admin tetapan backup pulih page\r\n  if (path === '/admin/tetapan/backup-pulih') {\r\n    return htmlResponse(getAdminTetapanBackupPulihHTML(), corsHeaders);\r\n  }\r\n\r\n  // User barang page\r\n  if (path === '/user/barang') {\r\n    return htmlResponse(getUserBarangHTML(), corsHeaders);\r\n  }\r\n\r\n  // User profile page\r\n  if (path === '/user/profile') {\r\n    return htmlResponse(getUserProfileHTML(), corsHeaders);\r\n  }\r\n\r\n  // User sejarah page\r\n  if (path === '/user/sejarah') {\r\n    return htmlResponse(getUserSejarahHTML(), corsHeaders);\r\n  }\r\n\r\n  // User tempahan page\r\n  if (path === '/user/tempahan') {\r\n    return htmlResponse(getUserTempahanHTML(), corsHeaders);\r\n  }\r\n\r\n  // Staff-ICT dashboard\r\n  if (path === '/staff-ict/dashboard') {\r\n    return htmlResponse(getStaffDashboardHTML(), corsHeaders);\r\n  }\r\n\r\n  // Staff-ICT barang page\r\n  if (path === '/staff-ict/barang') {\r\n    return htmlResponse(getStaffBarangHTML(), corsHeaders);\r\n  }\r\n\r\n  // Staff-ICT kelulusan page\r\n  if (path === '/staff-ict/kelulusan') {\r\n    return htmlResponse(getStaffKelulusanHTML(), corsHeaders);\r\n  }\r\n\r\n  // Staff-ICT profile page\r\n  if (path === '/staff-ict/profile') {\r\n    return htmlResponse(getStaffProfileHTML(), corsHeaders);\r\n  }\r\n\r\n  // Staff-ICT laporan keseluruhan\r\n  if (path === '/staff-ict/laporan/keseluruhan') {\r\n    return htmlResponse(getStaffLaporanKeseluruhanHTML(), corsHeaders);\r\n  }\r\n\r\n  // Staff-ICT laporan barang\r\n  if (path === '/staff-ict/laporan/barang') {\r\n    return htmlResponse(getStaffLaporanBarangHTML(), corsHeaders);\r\n  }\r\n\r\n  // Staff-ICT laporan tempahan\r\n  if (path === '/staff-ict/laporan/tempahan') {\r\n    return htmlResponse(getStaffLaporanTempahanHTML(), corsHeaders);\r\n  }\r\n\r\n  // 404\r\n  return htmlResponse('<h1>404 - Page Not Found</h1>', corsHeaders, 404);\r\n}\r\n\r\n// ============================================\r\n// HTML TEMPLATES\r\n// ============================================\r\n\r\n// Shared favicon component for all pages\r\nfunction getFaviconHTML() {\r\n  return `<link rel=\"icon\" href=\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect width='32' height='32' rx='8' fill='%232563eb'/><text x='16' y='22' text-anchor='middle' font-family='Arial' font-size='14' font-weight='700' fill='white'>iB</text></svg>\">`;\r\n}\r\n\r\n// Shared bottom navigation for Admin pages\r\nfunction getAdminBottomNavHTML(activePage = '') {\r\n  return `\r\n    <!-- Bottom Navigation -->\r\n    <div class=\"fixed bottom-4 left-4 right-4 bg-white rounded-xl shadow-lg p-3 border border-gray-200\">\r\n      <!-- Mobile & Desktop: Always show text -->\r\n      <div class=\"grid grid-cols-3 md:grid-cols-6 gap-1 md:gap-2\">\r\n        <button onclick=\"window.location.href='/admin/dashboard'\" class=\"text-center py-1 md:py-2 px-1 ${activePage === 'dashboard' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium transition-colors\">\r\n          \uD83C\uDFE0<br><span class=\"text-xs\">Dashboard</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/admin/pengguna'\" class=\"text-center py-1 md:py-2 px-1 ${activePage === 'pengguna' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium transition-colors\">\r\n          \uD83D\uDC65<br><span class=\"text-xs\">Pengguna</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/admin/barang'\" class=\"text-center py-1 md:py-2 px-1 ${activePage === 'barang' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium transition-colors\">\r\n          \uD83D\uDCE6<br><span class=\"text-xs\">Barang</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/admin/laporan'\" class=\"text-center py-1 md:py-2 px-1 ${activePage === 'laporan' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium transition-colors\">\r\n          \uD83D\uDCCA<br><span class=\"text-xs\">Laporan</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/admin/tetapan/sistem'\" class=\"text-center py-1 md:py-2 px-1 ${activePage === 'tetapan' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium transition-colors\">\r\n          \u2699\uFE0F<br><span class=\"text-xs\">Tetapan</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/admin/profile'\" class=\"text-center py-1 md:py-2 px-1 ${activePage === 'profile' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium transition-colors\">\r\n          \uD83D\uDC64<br><span class=\"text-xs\">Profil</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\n// Shared bottom navigation for User pages\r\nfunction getUserBottomNavHTML(activePage = '') {\r\n  return `\r\n    <!-- Bottom Navigation -->\r\n    <div class=\"fixed bottom-4 left-4 right-4 bg-white rounded-xl shadow-lg p-3 border border-gray-200\">\r\n      <div class=\"flex justify-between items-center\">\r\n        <button onclick=\"window.location.href='/user/dashboard'\" class=\"flex-1 text-center py-2 px-1 ${activePage === 'dashboard' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium mx-1 transition-colors\">\r\n          \uD83C\uDFE0<br><span class=\"text-xs\">Dashboard</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/user/barang'\" class=\"flex-1 text-center py-2 px-1 ${activePage === 'barang' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium mx-1 transition-colors\">\r\n          \uD83D\uDCE6<br><span class=\"text-xs\">Barang</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/user/tempahan'\" class=\"flex-1 text-center py-2 px-1 ${activePage === 'tempahan' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium mx-1 transition-colors\">\r\n          \uD83D\uDCDD<br><span class=\"text-xs\">Tempahan</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/user/sejarah'\" class=\"flex-1 text-center py-2 px-1 ${activePage === 'sejarah' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium mx-1 transition-colors\">\r\n          \uD83D\uDCCA<br><span class=\"text-xs\">Sejarah</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/user/profile'\" class=\"flex-1 text-center py-2 px-1 ${activePage === 'profile' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium mx-1 transition-colors\">\r\n          \uD83D\uDC64<br><span class=\"text-xs\">Profil</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\n// Shared bottom navigation for Staff-ICT pages\r\nfunction getStaffBottomNavHTML(activePage = '') {\r\n  return `\r\n    <!-- Bottom Navigation -->\r\n    <div class=\"fixed bottom-4 left-4 right-4 bg-white rounded-xl shadow-lg p-3 border border-gray-200\">\r\n      <div class=\"grid grid-cols-3 md:grid-cols-5 gap-1 md:gap-2\">\r\n        <button onclick=\"window.location.href='/staff-ict/dashboard'\" class=\"text-center py-1 md:py-2 px-1 ${activePage === 'dashboard' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium transition-colors\">\r\n          \uD83C\uDFE0<br><span class=\"text-xs\">Dashboard</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/staff-ict/barang'\" class=\"text-center py-1 md:py-2 px-1 ${activePage === 'barang' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium transition-colors\">\r\n          \uD83D\uDCE6<br><span class=\"text-xs\">Barang</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/staff-ict/kelulusan'\" class=\"text-center py-1 md:py-2 px-1 ${activePage === 'kelulusan' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium transition-colors\">\r\n          \u2705<br><span class=\"text-xs\">Kelulusan</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/staff-ict/laporan/keseluruhan'\" class=\"text-center py-1 md:py-2 px-1 ${activePage === 'laporan' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium transition-colors\">\r\n          \uD83D\uDCCA<br><span class=\"text-xs\">Laporan</span>\r\n        </button>\r\n        <button onclick=\"window.location.href='/staff-ict/profile'\" class=\"text-center py-1 md:py-2 px-1 ${activePage === 'profile' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} rounded-lg text-xs font-medium transition-colors\">\r\n          \uD83D\uDC64<br><span class=\"text-xs\">Profil</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction getHomeHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Sistem i-Borrow - ILKKM Johor Bahru</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\r\n  <div class=\"max-w-sm w-full text-center space-y-6\">\r\n    <!-- Logo & Brand -->\r\n    <div class=\"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto shadow-lg\">\r\n      <span class=\"text-xl font-bold text-white\">iB</span>\r\n    </div>\r\n    \r\n    <div>\r\n      <h1 class=\"text-2xl font-bold text-gray-900 mb-2\">\r\n        Sistem Peminjaman Barang ICT\r\n      </h1>\r\n      <p class=\"text-gray-600 text-sm\">\r\n        Institut Kementerian Kesihatan Malaysia Johor Bahru\r\n      </p>\r\n    </div>\r\n\r\n    <!-- Login Button -->\r\n    <a\r\n      href=\"/login\"\r\n      class=\"block w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md hover:shadow-lg\"\r\n    >\r\n      Log Masuk\r\n    </a>\r\n\r\n    <!-- Quick Info -->\r\n    <div class=\"text-xs text-gray-500 space-y-1\">\r\n      <p>Gunakan: admin/admin, staff/staff, user/user</p>\r\n    </div>\r\n\r\n    <!-- COPYRIGHT -->\r\n    <div class=\"pt-4 border-t border-gray-200\">\r\n      <p class=\"text-xs text-gray-400\">\r\n        &copy; 2025 <a href=\"https://asyraaf.pages.dev/\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"hover:text-blue-600 transition-colors\">Asyraaf Samson</a>. All rights reserved.\r\n      </p>\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>`;\r\n}\r\n\r\nfunction getLoginHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Login - Sistem i-Borrow</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"min-h-screen bg-gray-50\">\r\n  <div class=\"min-h-screen flex items-center justify-center p-4\">\r\n    <div class=\"max-w-md w-full bg-white rounded-2xl shadow-lg p-8\">\r\n      \r\n      <!-- Header -->\r\n      <div class=\"text-center mb-8\">\r\n        <div class=\"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4\">\r\n          <span class=\"text-xl font-bold text-white\">iB</span>\r\n        </div>\r\n        <h1 class=\"text-2xl font-bold text-gray-900\">Sistem i-Borrow</h1>\r\n        <p class=\"text-gray-600 mt-2\">ILKKM Johor Bahru</p>\r\n      </div>\r\n\r\n      <!-- Error Message -->\r\n      <div id=\"errorMessage\" class=\"hidden mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-xl\"></div>\r\n\r\n      <!-- Success Message -->\r\n      <div id=\"successMessage\" class=\"hidden mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-xl\"></div>\r\n\r\n      <!-- Login Form -->\r\n      <form id=\"loginForm\" class=\"space-y-6\">\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Masukkan email\"\r\n            class=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Masukkan password\"\r\n            class=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          id=\"loginBtn\"\r\n          class=\"w-full bg-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          Log Masuk\r\n        </button>\r\n      </form>\r\n\r\n      <!-- Quick Test Buttons -->\r\n    </div>\r\n  </div>\r\n\r\n  <script>\r\n    // Login form handler\r\n    document.getElementById('loginForm').addEventListener('submit', async (e) => {\r\n      e.preventDefault();\r\n      \r\n      const email = document.getElementById('email').value;\r\n      const password = document.getElementById('password').value;\r\n      const loginBtn = document.getElementById('loginBtn');\r\n      const errorMsg = document.getElementById('errorMessage');\r\n      const successMsg = document.getElementById('successMessage');\r\n      \r\n      // Hide messages\r\n      errorMsg.classList.add('hidden');\r\n      successMsg.classList.add('hidden');\r\n      \r\n      // Disable button\r\n      loginBtn.disabled = true;\r\n      loginBtn.textContent = 'Logging in...';\r\n      \r\n      try {\r\n        const response = await fetch('/api/auth/login', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ email, password })\r\n        });\r\n        \r\n        const data = await response.json();\r\n        console.log('Login response:', data);\r\n        \r\n        if (data.success) {\r\n          // Show success\r\n          successMsg.textContent = data.message + ' - Redirecting...';\r\n          successMsg.classList.remove('hidden');\r\n          \r\n          // Store user data\r\n          localStorage.setItem('user', JSON.stringify(data.user));\r\n          \r\n          // Redirect\r\n          setTimeout(() => {\r\n            window.location.href = data.redirectTo;\r\n          }, 1000);\r\n        } else {\r\n          // Show error\r\n          errorMsg.textContent = data.error || 'Login failed';\r\n          errorMsg.classList.remove('hidden');\r\n          loginBtn.disabled = false;\r\n          loginBtn.textContent = 'Log Masuk';\r\n        }\r\n      } catch (error) {\r\n        console.error('Login error:', error);\r\n        errorMsg.textContent = 'Network error. Please try again.';\r\n        errorMsg.classList.remove('hidden');\r\n        loginBtn.disabled = false;\r\n        loginBtn.textContent = 'Log Masuk';\r\n      }\r\n    });\r\n  </script>\r\n</body>\r\n</html>`;\r\n}\r\n\r\nfunction getUserDashboardHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Dashboard - User</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"min-h-screen bg-gray-50 p-3 pb-20\">\r\n  <div class=\"max-w-6xl mx-auto\">\r\n    <!-- Header -->\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n      <div class=\"flex items-center justify-between mb-3\">\r\n        <div class=\"flex items-center gap-2\">\r\n          <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full\">\r\n            <span class=\"text-xs font-medium\">\uD83C\uDFE0 DASHBOARD</span>\r\n          </div>\r\n        </div>\r\n        <button \r\n          onclick=\"handleLogout()\"\r\n          class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\"\r\n        >\r\n          Log Keluar\r\n        </button>\r\n      </div>\r\n      \r\n      <div class=\"text-center\">\r\n        <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDC4B Dashboard Pengguna</h1>\r\n        <p class=\"text-gray-600 text-sm mt-1\">Pinjam barang ICT ILKKM dengan mudah</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Stats Cards -->\r\n    <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-blue-600\" id=\"totalTempahan\">-</div>\r\n        <div class=\"text-xs text-gray-600\">Tempahan Aktif</div>\r\n        <div class=\"text-xs text-blue-600 mt-1\">Menunggu kelulusan</div>\r\n      </div>\r\n      \r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-green-600\">23</div>\r\n        <div class=\"text-xs text-gray-600\">Sejarah</div>\r\n        <div class=\"text-xs text-green-600 mt-1\">Pinjaman lepas</div>\r\n      </div>\r\n      \r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-purple-600\" id=\"barangTersedia\">-</div>\r\n        <div class=\"text-xs text-gray-600\">Barang Tersedia</div>\r\n        <div class=\"text-xs text-purple-600 mt-1\">Boleh dipinjam</div>\r\n      </div>\r\n\r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-orange-600\">5</div>\r\n        <div class=\"text-xs text-gray-600\">Disetujui</div>\r\n        <div class=\"text-xs text-orange-600 mt-1\">Bulan ini</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Senarai Barang -->\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n      <div class=\"flex items-center justify-between mb-4\">\r\n        <h2 class=\"font-semibold text-gray-900 text-sm\">\uD83D\uDCE6 Barang Tersedia</h2>\r\n        <span class=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\" id=\"barangCount\">\r\n          Loading...\r\n        </span>\r\n      </div>\r\n      \r\n      <div id=\"barangList\" class=\"space-y-3\">\r\n        <p class=\"text-center text-gray-500 text-sm\">Loading barang...</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Info Section -->\r\n    <div class=\"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4\">\r\n      <div class=\"flex items-start gap-3\">\r\n        <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n          <span class=\"text-blue-600 text-sm\">\uD83D\uDCA1</span>\r\n        </div>\r\n        <div>\r\n          <h4 class=\"font-semibold text-blue-800 text-sm mb-2\">Cara Meminjam Barang</h4>\r\n          <ul class=\"text-blue-700 text-xs space-y-1\">\r\n            <li>\u2022 Klik \"Pinjam Sekarang\" pada barang yang ingin dipinjam</li>\r\n            <li>\u2022 Tempahan akan menunggu kelulusan Staff ICT</li>\r\n            <li>\u2022 Anda akan dimaklumkan melalui emel apabila diluluskan</li>\r\n            <li>\u2022 Ambil barang di Kaunter ICT dalam tempoh 24 jam</li>\r\n            <li>\u2022 Pastikan maklumat peribadi anda lengkap dalam profil</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    ${getUserBottomNavHTML('dashboard')}\r\n  </div>\r\n  \r\n  <script>\r\n    function handleLogout() {\r\n      if (confirm('Adakah anda pasti ingin log keluar?')) {\r\n        localStorage.removeItem('user');\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n\r\n    // Load stats\r\n    fetch('/api/user/dashboard')\r\n      .then(r => r.json())\r\n      .then(data => {\r\n        if (data.success) {\r\n          document.getElementById('totalTempahan').textContent = data.data.totalTempahan || 0;\r\n          document.getElementById('barangTersedia').textContent = data.data.barangTersedia || 0;\r\n        }\r\n      });\r\n\r\n    // Load barang list\r\n    fetch('/api/user/barang')\r\n      .then(r => r.json())\r\n      .then(data => {\r\n        const container = document.getElementById('barangList');\r\n        const countEl = document.getElementById('barangCount');\r\n        \r\n        if (data.success && data.barang && data.barang.length > 0) {\r\n          countEl.textContent = data.barang.length + ' barang';\r\n          container.innerHTML = data.barang.slice(0, 6).map(barang => \\`\r\n            <div class=\"border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow\">\r\n              <div class=\"flex flex-col gap-3\">\r\n                <div class=\"flex justify-between items-start\">\r\n                  <div class=\"flex-1\">\r\n                    <div class=\"flex items-center gap-2 mb-2\">\r\n                      <span class=\"text-lg\">\uD83D\uDCE6</span>\r\n                      <h3 class=\"font-semibold text-gray-900 text-sm\">\\${barang.namaBarang}</h3>\r\n                    </div>\r\n                    <p class=\"text-gray-600 text-xs mb-2\">\\${barang.catatan || 'Barang ICT'}</p>\r\n                    <div class=\"flex items-center gap-2 flex-wrap\">\r\n                      <span class=\"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded\">\r\n                        \\${barang.kategori}\r\n                      </span>\r\n                      <span class=\"bg-green-100 text-green-700 text-xs px-2 py-1 rounded\">\r\n                        \\${barang.status}\r\n                      </span>\r\n                      <span class=\"text-gray-500 text-xs\">\uD83D\uDCCD \\${barang.lokasi || 'Kaunter ICT'}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <button \r\n                  onclick=\"handlePinjam('\\${barang.namaBarang}')\"\r\n                  class=\"w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors bg-blue-500 text-white hover:bg-blue-600\"\r\n                >\r\n                  \uD83D\uDCCC Pinjam Sekarang\r\n                </button>\r\n              </div>\r\n            </div>\r\n          \\`).join('');\r\n        } else {\r\n          countEl.textContent = '0 barang';\r\n          container.innerHTML = '<p class=\"text-center text-gray-500 text-sm\">Tiada barang tersedia</p>';\r\n        }\r\n      });\r\n\r\n    async function handlePinjam(nama) {\r\n      // Find barang by name\r\n      const response = await fetch('/api/user/barang');\r\n      const data = await response.json();\r\n      const barang = data.barang.find(b => b.namaBarang === nama);\r\n      \r\n      if (!barang) {\r\n        alert('Barang tidak dijumpai');\r\n        return;\r\n      }\r\n\r\n      // Get user from localStorage\r\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n      if (!user.id) {\r\n        alert('Sila login semula');\r\n        window.location.href = '/login';\r\n        return;\r\n      }\r\n\r\n      // Create tempahan\r\n      try {\r\n        const tempahanResponse = await fetch('/api/user/tempahan', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            userId: user.id,\r\n            barangId: barang.id,\r\n            kuantiti: 1,\r\n            tarikhMula: new Date(Date.now() + 86400000).toISOString().split('T')[0],\r\n            tarikhTamat: new Date(Date.now() + 7*86400000).toISOString().split('T')[0],\r\n            tujuan: 'Tempahan dari dashboard'\r\n          })\r\n        });\r\n\r\n        if (!tempahanResponse.ok) {\r\n          const error = await tempahanResponse.json();\r\n          throw new Error(error.error || 'Gagal membuat tempahan');\r\n        }\r\n\r\n        alert('\u2705 BERJAYA MEMINJAM!\\\\n\\\\n\uD83D\uDCE6 ' + nama + '\\\\n\\\\nStatus: MENUNGGU KELULUSAN STAFF ICT');\r\n        location.reload();\r\n      } catch (error) {\r\n        console.error('Error creating tempahan:', error);\r\n        alert('\u274C Error: ' + error.message);\r\n      }\r\n    }\r\n  </script>\r\n</body>\r\n</html>`;\r\n}\r\n\r\nfunction getAdminDashboardHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Dashboard - Admin</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"min-h-screen bg-gray-50 p-3 pb-24\">\r\n  <div class=\"max-w-4xl mx-auto\">\r\n    <!-- Header -->\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n      <div class=\"flex items-center justify-between mb-3\">\r\n        <div class=\"flex items-center gap-2\">\r\n          <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full\">\r\n            <span class=\"text-xs font-medium\">\uD83C\uDFE0 DASHBOARD</span>\r\n          </div>\r\n        </div>\r\n        <button \r\n          onclick=\"handleLogout()\"\r\n          class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\"\r\n        >\r\n          Log Keluar\r\n        </button>\r\n      </div>\r\n      \r\n      <div class=\"text-center\">\r\n        <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDC68\u200D\uD83D\uDCBC Dashboard Admin</h1>\r\n        <p class=\"text-gray-600 text-sm mt-1\">Urus sistem i-Borrow ILKKM</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Stats Cards -->\r\n    <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-blue-600\" id=\"totalUsers\">-</div>\r\n        <div class=\"text-xs text-gray-600\">Total Pengguna</div>\r\n        <div class=\"text-xs text-blue-600 mt-1\" id=\"activeUsers\">- Aktif</div>\r\n      </div>\r\n      \r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-green-600\" id=\"totalBarang\">-</div>\r\n        <div class=\"text-xs text-gray-600\">Total Barang</div>\r\n        <div class=\"text-xs text-green-600 mt-1\" id=\"availableBarang\">- Tersedia</div>\r\n      </div>\r\n      \r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-purple-600\" id=\"tempahanAktif\">-</div>\r\n        <div class=\"text-xs text-gray-600\">Tempahan Aktif</div>\r\n        <div class=\"text-xs text-purple-600 mt-1\">8 Pending</div>\r\n      </div>\r\n\r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-red-600\">0</div>\r\n        <div class=\"text-xs text-gray-600\">Barang Rosak</div>\r\n        <div class=\"text-xs text-red-600 mt-1\">Perlu Baiki</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Quick Actions -->\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n      <h2 class=\"font-semibold text-gray-900 text-sm mb-3\">\u26A1 Akses Pantas</h2>\r\n      <div class=\"grid grid-cols-2 gap-2\">\r\n        <button \r\n          onclick=\"window.location.href='/admin/pengguna'\"\r\n          class=\"bg-blue-50 text-blue-700 py-3 rounded-lg text-xs font-medium hover:bg-blue-100 transition-colors border border-blue-200\"\r\n        >\r\n          \uD83D\uDC65 Urus Pengguna\r\n        </button>\r\n        <button \r\n          onclick=\"window.location.href='/admin/barang'\"\r\n          class=\"bg-green-50 text-green-700 py-3 rounded-lg text-xs font-medium hover:bg-green-100 transition-colors border border-green-200\"\r\n        >\r\n          \uD83D\uDCE6 Urus Barang\r\n        </button>\r\n        <button \r\n          onclick=\"window.location.href='/admin/laporan'\"\r\n          class=\"bg-purple-50 text-purple-700 py-3 rounded-lg text-xs font-medium hover:bg-purple-100 transition-colors border border-purple-200\"\r\n        >\r\n          \uD83D\uDCCA Lihat Laporan\r\n        </button>\r\n        <button \r\n          onclick=\"window.location.href='/admin/tetapan/sistem'\"\r\n          class=\"bg-orange-50 text-orange-700 py-3 rounded-lg text-xs font-medium hover:bg-orange-100 transition-colors border border-orange-200\"\r\n        >\r\n          \u2699\uFE0F Tetapan\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Database Status -->\r\n    <div class=\"bg-green-50 border border-green-200 rounded-xl p-4 mb-4\">\r\n      <div class=\"flex items-center gap-3\">\r\n        <div class=\"bg-green-100 p-2 rounded-lg\">\r\n          <span class=\"text-green-600 text-sm\">\u2705</span>\r\n        </div>\r\n        <div>\r\n          <h4 class=\"font-semibold text-green-800 text-sm\">Cloudflare D1 Database</h4>\r\n          <p class=\"text-green-700 text-xs mt-1\">Connected and operational</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Info Section -->\r\n    <div class=\"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4\">\r\n      <div class=\"flex items-start gap-3\">\r\n        <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n          <span class=\"text-blue-600 text-sm\">\uD83D\uDCA1</span>\r\n        </div>\r\n        <div>\r\n          <h4 class=\"font-semibold text-blue-800 text-sm mb-2\">Fungsi Dashboard Admin</h4>\r\n          <ul class=\"text-blue-700 text-xs space-y-1\">\r\n            <li>\u2022 <strong>Urus Pengguna</strong> - Aktifkan/nyahaktifkan akaun pengguna</li>\r\n            <li>\u2022 <strong>Urus Barang</strong> - Tambah dan kemaskini status inventori</li>\r\n            <li>\u2022 <strong>Pantau Tempahan</strong> - Lihat semua aktiviti pinjaman</li>\r\n            <li>\u2022 <strong>Laporan</strong> - Analisis penggunaan sistem</li>\r\n            <li>\u2022 <strong>Tetapan</strong> - Konfigurasi sistem dan keselamatan</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    ${getAdminBottomNavHTML('dashboard')}\r\n  </div>\r\n  \r\n  <script>\r\n    function handleLogout() {\r\n      if (confirm('Adakah anda pasti ingin log keluar?')) {\r\n        localStorage.removeItem('user');\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n\r\n    // Load stats from API\r\n    fetch('/api/admin/dashboard')\r\n      .then(r => r.json())\r\n      .then(data => {\r\n        if (data.success) {\r\n          document.getElementById('totalUsers').textContent = data.data.total_users || 0;\r\n          document.getElementById('totalBarang').textContent = data.data.total_barang || 0;\r\n          document.getElementById('tempahanAktif').textContent = data.data.tempahan_aktif || 0;\r\n          \r\n          // Calculate active users (assuming all are active for now)\r\n          document.getElementById('activeUsers').textContent = data.data.total_users + ' Aktif';\r\n          document.getElementById('availableBarang').textContent = data.data.total_barang + ' Tersedia';\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error('Failed to load dashboard stats:', err);\r\n      });\r\n  </script>\r\n</body>\r\n</html>`;\r\n}\r\n\r\nfunction getUserBarangHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Barang - User</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"min-h-screen bg-gray-50 p-3 pb-20\">\r\n  <div class=\"max-w-6xl mx-auto\">\r\n    <!-- Header -->\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n      <div class=\"flex items-center justify-between mb-3\">\r\n        <div class=\"flex items-center gap-2\">\r\n          <button \r\n            onclick=\"window.location.href='/user/dashboard'\"\r\n            class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors\"\r\n          >\r\n            \u2190 Dashboard\r\n          </button>\r\n          <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full\">\r\n            <span class=\"text-xs font-medium\">\uD83D\uDCE6 BARANG</span>\r\n          </div>\r\n        </div>\r\n        <button \r\n          onclick=\"handleLogout()\"\r\n          class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\"\r\n        >\r\n          Log Keluar\r\n        </button>\r\n      </div>\r\n      <div class=\"text-center\">\r\n        <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDCE6 Senarai Barang ICT</h1>\r\n        <p class=\"text-gray-600 text-sm mt-1\">Lihat dan buat tempahan barang</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Stats Cards -->\r\n    <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-blue-600\">8</div>\r\n        <div class=\"text-xs text-gray-600\">Total Barang</div>\r\n        <div class=\"text-xs text-blue-600 mt-1\">Dalam inventori</div>\r\n      </div>\r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-green-600\">7</div>\r\n        <div class=\"text-xs text-gray-600\">Tersedia</div>\r\n        <div class=\"text-xs text-green-600 mt-1\">Boleh dipinjam</div>\r\n      </div>\r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-yellow-600\" id=\"tempahanCount\">0</div>\r\n        <div class=\"text-xs text-gray-600\">Menunggu</div>\r\n        <div class=\"text-xs text-yellow-600 mt-1\">Kelulusan anda</div>\r\n      </div>\r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-purple-600\">0</div>\r\n        <div class=\"text-xs text-gray-600\">Diluluskan</div>\r\n        <div class=\"text-xs text-purple-600 mt-1\">Tempahan anda</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filters -->\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n      <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n        <div>\r\n          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Carian Barang</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"carianInput\"\r\n            placeholder=\"Cari nama barang...\"\r\n            onkeyup=\"filterBarang()\"\r\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Filter Kategori</label>\r\n          <select id=\"kategoriFilter\" onchange=\"filterBarang()\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm\">\r\n            <option value=\"semua\">Semua Kategori</option>\r\n            <option value=\"elektronik\">Elektronik</option>\r\n            <option value=\"fotografi\">Fotografi</option>\r\n            <option value=\"alat-tulis\">Alat Tulis</option>\r\n            <option value=\"buku\">Buku</option>\r\n            <option value=\"audio\">Audio</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Senarai Barang -->\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n      <div class=\"flex items-center justify-between mb-4\">\r\n        <h2 class=\"font-semibold text-gray-900 text-sm\">\uD83D\uDCE6 Senarai Barang ICT</h2>\r\n        <span class=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\" id=\"barangCount\">8 barang</span>\r\n      </div>\r\n      <div id=\"barangList\" class=\"space-y-3\">\r\n        <!-- Barang akan diload oleh JavaScript -->\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Info Section -->\r\n    <div class=\"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4\">\r\n      <div class=\"flex items-start gap-3\">\r\n        <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n          <span class=\"text-blue-600 text-sm\">\uD83D\uDCA1</span>\r\n        </div>\r\n        <div>\r\n          <h4 class=\"font-semibold text-blue-800 text-sm mb-2\">Proses Tempahan</h4>\r\n          <ul class=\"text-blue-700 text-xs space-y-1\">\r\n            <li>\u2022 <strong>Klik \"Buat Tempahan\"</strong> - Barang akan ditempah</li>\r\n            <li>\u2022 <strong>Menunggu Kelulusan</strong> - Staff ICT akan semak</li>\r\n            <li>\u2022 <strong>Notifikasi Email</strong> - Anda akan dapat email bila status berubah</li>\r\n            <li>\u2022 <strong>Ambil Barang</strong> - Di Kaunter ICT setelah diluluskan</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    ${getUserBottomNavHTML('barang')}\r\n  </div>\r\n\r\n  <script>\r\n    let senaraiBarang = [];\r\n    let tempahanSaya = [];\r\n\r\n    // Load barang from D1 database\r\n    async function loadBarang() {\r\n      try {\r\n        // Load barang\r\n        const response = await fetch('/api/user/barang');\r\n        if (!response.ok) throw new Error('Failed to load barang');\r\n        const data = await response.json();\r\n        senaraiBarang = data.barang || [];\r\n        \r\n        // Load user's tempahan\r\n        const tempahanResponse = await fetch('/api/user/tempahan');\r\n        if (tempahanResponse.ok) {\r\n          const tempahanData = await tempahanResponse.json();\r\n          const myTempahan = tempahanData.data || [];\r\n          tempahanSaya = myTempahan.map(t => t.barangId);\r\n          document.getElementById('tempahanCount').textContent = myTempahan.filter(t => t.status === 'Pending' || t.status === 'Diluluskan').length;\r\n        }\r\n        \r\n        // Update stats\r\n        const tersedia = senaraiBarang.filter(b => b.status.toLowerCase() === 'tersedia').length;\r\n        document.querySelector('.grid .bg-white:first-child .text-blue-600').textContent = senaraiBarang.length;\r\n        document.querySelector('.grid .bg-white:nth-child(2) .text-green-600').textContent = tersedia;\r\n        \r\n        renderBarang(senaraiBarang);\r\n      } catch (error) {\r\n        console.error('Error loading barang:', error);\r\n        document.getElementById('barangList').innerHTML = '<div class=\"text-center py-8\"><div class=\"text-4xl mb-2\">\u274C</div><p class=\"text-red-500 text-sm\">Error memuat barang. Sila refresh.</p></div>';\r\n      }\r\n    }\r\n\r\n    function handleLogout() {\r\n      if (confirm('Adakah anda pasti ingin log keluar?')) {\r\n        localStorage.removeItem('user');\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n\r\n    function getKategoriColor(kategori) {\r\n      const colors = {\r\n        'elektronik': 'bg-blue-100 text-blue-800',\r\n        'fotografi': 'bg-purple-100 text-purple-800',\r\n        'alat-tulis': 'bg-orange-100 text-orange-800',\r\n        'buku': 'bg-green-100 text-green-800',\r\n        'audio': 'bg-pink-100 text-pink-800'\r\n      };\r\n      return colors[kategori] || 'bg-gray-100 text-gray-800';\r\n    }\r\n\r\n    function getStatusColor(status) {\r\n      return status === 'tersedia' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800';\r\n    }\r\n\r\n    function getGambar(kategori) {\r\n      const gambar = {\r\n        'elektronik': '\uD83D\uDCBB',\r\n        'fotografi': '\uD83D\uDCF7',\r\n        'alat-tulis': '\uD83E\uDDEE',\r\n        'buku': '\uD83D\uDCDA',\r\n        'audio': '\uD83C\uDFA4'\r\n      };\r\n      return gambar[kategori] || '\uD83D\uDCE6';\r\n    }\r\n\r\n    async function handlePinjam(barang) {\r\n      if (tempahanSaya.includes(barang.id)) {\r\n        alert('Anda sudah meminjam ' + barang.namaBarang);\r\n        return;\r\n      }\r\n\r\n      // Get user from localStorage\r\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n      if (!user.id) {\r\n        alert('Sila login semula');\r\n        window.location.href = '/login';\r\n        return;\r\n      }\r\n\r\n      // Create tempahan\r\n      try {\r\n        const response = await fetch('/api/user/tempahan', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            userId: user.id,\r\n            barangId: barang.id,\r\n            kuantiti: 1,\r\n            tarikhMula: new Date(Date.now() + 86400000).toISOString().split('T')[0],\r\n            tarikhTamat: new Date(Date.now() + 7*86400000).toISOString().split('T')[0],\r\n            tujuan: 'Tempahan dari halaman barang'\r\n          })\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const error = await response.json();\r\n          throw new Error(error.error || 'Failed to create tempahan');\r\n        }\r\n\r\n        tempahanSaya.push(barang.id);\r\n        document.getElementById('tempahanCount').textContent = tempahanSaya.length;\r\n        alert('\u2705 BERJAYA MEMINJAM!\\\\n\\\\n\uD83D\uDCE6 ' + barang.namaBarang + '\\\\n\\\\nStatus: MENUNGGU KELULUSAN STAFF ICT');\r\n        renderBarang(senaraiBarang);\r\n      } catch (error) {\r\n        console.error('Error creating tempahan:', error);\r\n        alert('\u274C Error: ' + error.message);\r\n      }\r\n    }\r\n\r\n    function filterBarang() {\r\n      const carian = document.getElementById('carianInput').value.toLowerCase();\r\n      const kategori = document.getElementById('kategoriFilter').value;\r\n      \r\n      const filtered = senaraiBarang.filter(b => {\r\n        const matchCarian = b.nama.toLowerCase().includes(carian) || b.deskripsi.toLowerCase().includes(carian);\r\n        const matchKategori = kategori === 'semua' || b.kategori === kategori;\r\n        return matchCarian && matchKategori;\r\n      });\r\n      \r\n      renderBarang(filtered);\r\n      document.getElementById('barangCount').textContent = filtered.length + ' barang';\r\n    }\r\n\r\n    function renderBarang(barangList) {\r\n      const container = document.getElementById('barangList');\r\n      if (barangList.length === 0) {\r\n        container.innerHTML = '<div class=\"text-center py-8\"><div class=\"text-4xl mb-2\">\uD83D\uDCE6</div><p class=\"text-gray-500 text-sm\">Tiada barang ditemui</p></div>';\r\n        return;\r\n      }\r\n\r\n      container.innerHTML = barangList.map(barang => {\r\n        const sudahDipinjam = tempahanSaya.includes(barang.id);\r\n        const bolehPinjam = barang.status.toLowerCase() === 'tersedia' && !sudahDipinjam && barang.kuantitiTersedia > 0;\r\n        const gambar = getGambar(barang.kategori);\r\n        \r\n        return \\`\r\n          <div class=\"border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow\">\r\n            <div class=\"flex flex-col gap-3\">\r\n              <div class=\"flex justify-between items-start\">\r\n                <div class=\"flex-1\">\r\n                  <div class=\"flex items-center gap-2 mb-2\">\r\n                    <span class=\"text-lg\">\\${gambar}</span>\r\n                    <h3 class=\"font-semibold text-gray-900 text-sm\">\\${barang.namaBarang}</h3>\r\n                  </div>\r\n                  <p class=\"text-gray-600 text-xs mb-2\">\\${barang.catatan || 'Barang ICT ILKKM'}</p>\r\n                  <div class=\"flex items-center gap-2 flex-wrap\">\r\n                    <span class=\"text-gray-500 text-xs\">\uD83D\uDCCD \\${barang.lokasi}</span>\r\n                    <span class=\"text-gray-500 text-xs\">\uD83D\uDCCA Tersedia: \\${barang.kuantitiTersedia}</span>\r\n                    <span class=\"\\${getKategoriColor(barang.kategori)} text-xs px-2 py-1 rounded\">\r\n                      \\${barang.kategori.charAt(0).toUpperCase() + barang.kategori.slice(1)}\r\n                    </span>\r\n                    <span class=\"\\${getStatusColor(barang.status)} text-xs px-2 py-1 rounded\">\r\n                      \\${barang.status.charAt(0).toUpperCase() + barang.status.slice(1)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <button \r\n                onclick='handlePinjam(\\${JSON.stringify(barang).replace(/'/g, \"&apos;\")})'\r\n                \\${!bolehPinjam ? 'disabled' : ''}\r\n                class=\"w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors \\${\r\n                  bolehPinjam \r\n                    ? 'bg-blue-500 text-white hover:bg-blue-600' \r\n                    : sudahDipinjam \r\n                      ? 'bg-gray-300 text-gray-500 cursor-not-allowed' \r\n                      : 'bg-red-300 text-red-500 cursor-not-allowed'\r\n                }\"\r\n              >\r\n                \\${bolehPinjam ? '\uD83D\uDCCB Buat Tempahan' : sudahDipinjam ? '\u2705 Ditempah' : '\u274C Tidak Tersedia'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        \\`;\r\n      }).join('');\r\n    }\r\n\r\n    // Load barang on page load\r\n    loadBarang();\r\n  </script>\r\n</body>\r\n</html>`;\r\n}\r\n\r\nfunction getUserProfileHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Profil - User</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"min-h-screen bg-gray-50 p-3 pb-20\">\r\n  <div class=\"max-w-4xl mx-auto\">\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n      <div class=\"flex items-center justify-between mb-3\">\r\n        <div class=\"flex items-center gap-2\">\r\n          <button \r\n            onclick=\"window.location.href='/user/dashboard'\"\r\n            class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors\"\r\n          >\r\n            \u2190 Dashboard\r\n          </button>\r\n          <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full\">\r\n            <span class=\"text-xs font-medium\">\uD83D\uDC64 PROFIL</span>\r\n          </div>\r\n        </div>\r\n        <button \r\n          onclick=\"handleLogout()\"\r\n          class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\"\r\n        >\r\n          Log Keluar\r\n        </button>\r\n      </div>\r\n      <div class=\"text-center\">\r\n        <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDC64 Maklumat Peribadi</h1>\r\n        <p class=\"text-gray-600 text-sm mt-1\">Kemaskini maklumat profil anda</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n      <div class=\"flex items-center justify-between mb-6\">\r\n        <div class=\"flex items-center gap-3\">\r\n          <div class=\"bg-blue-100 p-3 rounded-full\">\r\n            <span class=\"text-blue-600 text-lg\">\uD83D\uDC64</span>\r\n          </div>\r\n          <div>\r\n            <h2 class=\"font-semibold text-gray-900 text-sm\" id=\"userName\">Loading...</h2>\r\n            <p class=\"text-gray-600 text-xs\" id=\"userInfo\">-</p>\r\n          </div>\r\n        </div>\r\n        <button \r\n          onclick=\"alert('Edit profile feature coming soon!')\"\r\n          class=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm\"\r\n        >\r\n          \u270F\uFE0F Edit Profil\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"space-y-4\" id=\"profileData\">\r\n        <div class=\"text-center py-8\">\r\n          <div class=\"animate-pulse\">Loading profile...</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4\">\r\n      <div class=\"flex items-start gap-3\">\r\n        <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n          <span class=\"text-blue-600 text-sm\">\uD83D\uDCA1</span>\r\n        </div>\r\n        <div>\r\n          <h4 class=\"font-semibold text-blue-800 text-sm mb-2\">Maklumat Profil</h4>\r\n          <ul class=\"text-blue-700 text-xs space-y-1\">\r\n            <li>\u2022 Maklumat profil digunakan untuk proses pinjaman barang</li>\r\n            <li>\u2022 Pastikan maklumat anda sentiasa dikemaskini</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    ${getUserBottomNavHTML('profile')}\r\n  </div>\r\n  <script>\r\n    // Fetch user profile from D1\r\n    async function loadProfile() {\r\n      try {\r\n        const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n        const userId = user.id || 'user_003';\r\n        const response = await fetch('/api/user/profile?userId=' + userId);\r\n        const result = await response.json();\r\n        \r\n        if (result.success) {\r\n          const user = result.data;\r\n          document.getElementById('userName').textContent = user.nama;\r\n          document.getElementById('userInfo').textContent = user.peranan.toUpperCase();\r\n          \r\n          const profileHTML = \\`\r\n            <div>\r\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">Nama Penuh</label>\r\n              <div class=\"w-full px-3 py-2 bg-gray-50 rounded-lg text-sm text-gray-900\">\\${user.nama}</div>\r\n            </div>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              \\${user.no_matrik ? \\`\r\n              <div>\r\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">No. Matrik</label>\r\n                <div class=\"w-full px-3 py-2 bg-gray-50 rounded-lg text-sm text-gray-900\">\\${user.no_matrik}</div>\r\n              </div>\r\n              \\` : ''}\r\n              \\${user.no_staf ? \\`\r\n              <div>\r\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">No. Staf</label>\r\n                <div class=\"w-full px-3 py-2 bg-gray-50 rounded-lg text-sm text-gray-900\">\\${user.no_staf}</div>\r\n              </div>\r\n              \\` : ''}\r\n              <div>\r\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Email</label>\r\n                <div class=\"w-full px-3 py-2 bg-gray-50 rounded-lg text-sm text-gray-900\">\\${user.email}</div>\r\n              </div>\r\n            </div>\r\n            \\${user.fakulti ? \\`\r\n            <div>\r\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">Fakulti</label>\r\n              <div class=\"w-full px-3 py-2 bg-gray-50 rounded-lg text-sm text-gray-900\">\\${user.fakulti}</div>\r\n            </div>\r\n            \\` : ''}\r\n            \\${user.no_telefon ? \\`\r\n            <div>\r\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">No. Telefon</label>\r\n              <div class=\"w-full px-3 py-2 bg-gray-50 rounded-lg text-sm text-gray-900\">\\${user.no_telefon}</div>\r\n            </div>\r\n            \\` : ''}\r\n          \\`;\r\n          \r\n          document.getElementById('profileData').innerHTML = profileHTML;\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading profile:', error);\r\n        document.getElementById('profileData').innerHTML = '<div class=\"text-center py-8 text-red-600\">Gagal memuatkan profil</div>';\r\n      }\r\n    }\r\n    \r\n    // Load profile on page load\r\n    loadProfile();\r\n    \r\n    function handleLogout() {\r\n      if (confirm('Adakah anda pasti ingin log keluar?')) {\r\n        localStorage.removeItem('user');\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n  </script>\r\n</body>\r\n</html>`;\r\n}\r\n\r\nfunction getUserSejarahHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Sejarah - User</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"min-h-screen bg-gray-50 p-3 pb-20\">\r\n  <div class=\"max-w-6xl mx-auto\">\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n      <div class=\"flex items-center justify-between mb-3\">\r\n        <div class=\"flex items-center gap-2\">\r\n          <button \r\n            onclick=\"window.location.href='/user/dashboard'\"\r\n            class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors\"\r\n          >\r\n            \u2190 Dashboard\r\n          </button>\r\n          <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full\">\r\n            <span class=\"text-xs font-medium\">\uD83D\uDCCA SEJARAH</span>\r\n          </div>\r\n        </div>\r\n        <button \r\n          onclick=\"handleLogout()\"\r\n          class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\"\r\n        >\r\n          Log Keluar\r\n        </button>\r\n      </div>\r\n      <div class=\"text-center\">\r\n        <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDCCA Sejarah Tempahan</h1>\r\n        <p class=\"text-gray-600 text-sm mt-1\">Lihat semua tempahan dan status terkini</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-blue-600\">6</div>\r\n        <div class=\"text-xs text-gray-600\">Total</div>\r\n        <div class=\"text-xs text-blue-600 mt-1\">Semua tempahan</div>\r\n      </div>\r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-yellow-600\">1</div>\r\n        <div class=\"text-xs text-gray-600\">Menunggu</div>\r\n        <div class=\"text-xs text-yellow-600 mt-1\">Sedang diproses</div>\r\n      </div>\r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-green-600\">2</div>\r\n        <div class=\"text-xs text-gray-600\">Diluluskan</div>\r\n        <div class=\"text-xs text-green-600 mt-1\">Boleh diambil</div>\r\n      </div>\r\n      <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n        <div class=\"text-lg font-bold text-red-600\">1</div>\r\n        <div class=\"text-xs text-gray-600\">Ditolak</div>\r\n        <div class=\"text-xs text-red-600 mt-1\">Tidak diluluskan</div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n      <h2 class=\"font-semibold text-gray-900 text-sm mb-4\">\uD83D\uDCCB Senarai Tempahan</h2>\r\n      <div class=\"space-y-3\">\r\n        <div class=\"border border-yellow-200 bg-yellow-50 rounded-lg p-3\">\r\n          <div class=\"flex justify-between items-start mb-2\">\r\n            <div class=\"flex-1\">\r\n              <div class=\"flex items-center gap-2 mb-1\">\r\n                <span class=\"text-lg\">\uD83D\uDCBB</span>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Laptop Dell XPS 13</h3>\r\n              </div>\r\n              <p class=\"text-gray-600 text-xs\">\uD83D\uDCCD Makmal Komputer 1</p>\r\n            </div>\r\n            <span class=\"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded border border-yellow-200 font-medium\">\r\n              \u23F3 Menunggu\r\n            </span>\r\n          </div>\r\n          <div class=\"grid grid-cols-2 gap-2 text-xs\">\r\n            <div class=\"bg-white rounded p-2\">\r\n              <span class=\"text-gray-500\">Pinjam:</span>\r\n              <p class=\"text-gray-900 mt-1\">16 Jan 2024</p>\r\n            </div>\r\n            <div class=\"bg-white rounded p-2\">\r\n              <span class=\"text-gray-500\">Pulang:</span>\r\n              <p class=\"text-gray-900 mt-1\">23 Jan 2024</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"border border-green-200 bg-green-50 rounded-lg p-3\">\r\n          <div class=\"flex justify-between items-start mb-2\">\r\n            <div class=\"flex-1\">\r\n              <div class=\"flex items-center gap-2 mb-1\">\r\n                <span class=\"text-lg\">\uD83D\uDCF7</span>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Kamera Canon EOS R6</h3>\r\n              </div>\r\n              <p class=\"text-gray-600 text-xs\">\uD83D\uDCCD Unit Media</p>\r\n            </div>\r\n            <span class=\"bg-green-100 text-green-800 text-xs px-2 py-1 rounded border border-green-200 font-medium\">\r\n              \u2705 Diluluskan\r\n            </span>\r\n          </div>\r\n          <div class=\"grid grid-cols-2 gap-2 text-xs\">\r\n            <div class=\"bg-white rounded p-2\">\r\n              <span class=\"text-gray-500\">Pinjam:</span>\r\n              <p class=\"text-gray-900 mt-1\">11 Jan 2024</p>\r\n            </div>\r\n            <div class=\"bg-white rounded p-2\">\r\n              <span class=\"text-gray-500\">Pulang:</span>\r\n              <p class=\"text-gray-900 mt-1\">18 Jan 2024</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-2 bg-green-100 border border-green-200 rounded-lg mt-2\">\r\n            <p class=\"text-green-700 text-xs\">\r\n              \u2705 <strong>Diluluskan oleh:</strong> Ahmad (Staff ICT)\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4\">\r\n      <div class=\"flex items-start gap-3\">\r\n        <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n          <span class=\"text-blue-600 text-sm\">\uD83D\uDCA1</span>\r\n        </div>\r\n        <div>\r\n          <h4 class=\"font-semibold text-blue-800 text-sm mb-2\">Maklumat Status</h4>\r\n          <ul class=\"text-blue-700 text-xs space-y-1\">\r\n            <li>\u2022 <strong>Menunggu</strong> - Staff ICT sedang proses permohonan</li>\r\n            <li>\u2022 <strong>Diluluskan</strong> - Tempahan diluluskan, boleh ambil barang</li>\r\n            <li>\u2022 <strong>Ditolak</strong> - Tempahan tidak diluluskan</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    ${getUserBottomNavHTML('sejarah')}\r\n  </div>\r\n  <script>\r\n    function handleLogout() {\r\n      if (confirm('Adakah anda pasti ingin log keluar?')) {\r\n        localStorage.removeItem('user');\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n  </script>\r\n</body>\r\n</html>`;\r\n}\r\n\r\nfunction getUserTempahanHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Tempahan - User</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"min-h-screen bg-gray-50 p-4\">\r\n  <div class=\"max-w-6xl mx-auto\">\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n      <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\r\n        <div class=\"text-center sm:text-left\">\r\n          <h1 class=\"text-xl sm:text-2xl font-bold text-gray-900\">\uD83D\uDCCB Buat Tempahan Baru</h1>\r\n          <p class=\"text-gray-600 text-sm\">Pinjam barang ICT ILKKM</p>\r\n        </div>\r\n        <button \r\n          onclick=\"window.location.href='/user/dashboard'\"\r\n          class=\"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors text-sm\"\r\n        >\r\n          \u2190 Kembali\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"bg-white rounded-xl shadow-sm p-4 mb-6\">\r\n      <h2 class=\"text-lg sm:text-xl font-semibold text-gray-900 mb-4\">Maklumat Tempahan</h2>\r\n      <div class=\"space-y-4\">\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">Pilih Barang *</label>\r\n          <select id=\"barangSelect\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm\">\r\n            <option value=\"\">-- Sila pilih barang --</option>\r\n            <option value=\"1\">\uD83D\uDCBB Laptop Dell XPS 13 - Makmal Komputer 1</option>\r\n            <option value=\"2\">\uD83D\uDCFD\uFE0F Projector Epson EB-X41 - Bilik Media</option>\r\n            <option value=\"3\">\uD83D\uDCF7 Kamera Canon EOS R6 - Unit Media</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Tarikh Pinjam *</label>\r\n            <input type=\"date\" id=\"tarikhPinjam\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm\">\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Tarikh Pulang *</label>\r\n            <input type=\"date\" id=\"tarikhPulang\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm\">\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">Nota Tambahan</label>\r\n          <textarea id=\"nota\" rows=\"4\" placeholder=\"Contoh: Untuk kelas multimedia...\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm\"></textarea>\r\n        </div>\r\n\r\n        <button \r\n          onclick=\"handleHantarTempahan()\"\r\n          class=\"w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium\"\r\n        >\r\n          \uD83D\uDCCB Hantar Tempahan untuk Kelulusan\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-20\">\r\n      <h3 class=\"font-semibold text-yellow-800 text-sm mb-3\">\uD83D\uDCA1 Makluman Penting</h3>\r\n      <ul class=\"text-yellow-700 text-xs space-y-2\">\r\n        <li>\u2022 <strong>Tempoh maksimum:</strong> 7 hari</li>\r\n        <li>\u2022 <strong>Kelulusan:</strong> Diperlukan dari Staff ICT</li>\r\n        <li>\u2022 <strong>Waktu ambil:</strong> 8:30 PG - 5:30 PTG</li>\r\n      </ul>\r\n    </div>\r\n\r\n    ${getUserBottomNavHTML('tempahan')}\r\n  </div>\r\n\r\n  <script>\r\n    function handleHantarTempahan() {\r\n      const barang = document.getElementById('barangSelect').value;\r\n      const tarikhPinjam = document.getElementById('tarikhPinjam').value;\r\n      const tarikhPulang = document.getElementById('tarikhPulang').value;\r\n      \r\n      if (!barang || !tarikhPinjam || !tarikhPulang) {\r\n        alert('Sila lengkapkan semua maklumat bertanda (*)!');\r\n        return;\r\n      }\r\n      \r\n      alert('\u2705 TEMPAHAN BERJAYA DIBUAT!\\\\n\\\\nStatus: MENUNGGU KELULUSAN STAFF ICT\\\\n\\\\nStaff ICT akan semak tempahan anda dalam 24 jam.');\r\n      window.location.href = '/user/sejarah';\r\n    }\r\n  </script>\r\n</body>\r\n</html>`;\r\n}\r\n\r\n// ============================================\r\n// STAFF-ICT PAGES\r\n// ============================================\r\n\r\nfunction getStaffDashboardHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Staff ICT Dashboard - iBorrow</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-6xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full flex items-center gap-1\">\r\n              <span class=\"text-sm\">\uD83C\uDFE0</span>\r\n              <span class=\"text-xs font-medium\">STAFF ICT</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"handleLogKeluar()\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">Dashboard Staff ICT</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Urus tempahan dan barang ICT ILKKM</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Stats Cards -->\r\n      <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-blue-600\" id=\"tempahanBaru\">3</div>\r\n          <div class=\"text-xs text-gray-600\">Tempahan Baru</div>\r\n          <div class=\"text-xs text-yellow-600 mt-1\">Perlu kelulusan</div>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-green-600\" id=\"pinjamanAktif\">1</div>\r\n          <div class=\"text-xs text-gray-600\">Pinjaman Aktif</div>\r\n          <div class=\"text-xs text-blue-600 mt-1\">Sedang dipinjam</div>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-purple-600\" id=\"totalBarang\">5</div>\r\n          <div class=\"text-xs text-gray-600\">Total Barang</div>\r\n          <div class=\"text-xs text-green-600 mt-1\"><span id=\"barangTersedia\">3</span> Tersedia</div>\r\n        </div>\r\n\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-red-600\" id=\"barangRosak\">1</div>\r\n          <div class=\"text-xs text-gray-600\">Barang Rosak</div>\r\n          <div class=\"text-xs text-red-600 mt-1\">Perbaikan diperlukan</div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Tempahan Perlu Kelulusan -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <h2 class=\"font-semibold text-gray-900 text-sm\">\uD83D\uDCCB Tempahan Perlu Kelulusan</h2>\r\n          <div class=\"flex items-center gap-2\">\r\n            <span class=\"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full\" id=\"countMenunggu\">3 menunggu</span>\r\n            <button onclick=\"window.location.href='/staff-ict/kelulusan'\" class=\"bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600 transition-colors\">\r\n              Lihat Semua\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <div id=\"tempahanList\" class=\"space-y-2\"></div>\r\n      </div>\r\n\r\n      <!-- Urus Status Barang -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-20\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <h2 class=\"font-semibold text-gray-900 text-sm\">\uD83D\uDCE6 Urus Status Barang</h2>\r\n            <button onclick=\"window.location.href='/staff-ict/barang'\" class=\"bg-green-500 text-white px-2 py-1 rounded text-xs hover:bg-green-600 transition-colors\">\r\n              Urus Barang\r\n            </button>\r\n          </div>\r\n          <span class=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\" id=\"countBarang\">5 barang</span>\r\n        </div>\r\n        \r\n        <div id=\"barangList\" class=\"space-y-2\"></div>\r\n      </div>\r\n\r\n      ${getStaffBottomNavHTML('dashboard')}\r\n    </div>\r\n  </div>\r\n\r\n  <script>\r\n    let tempahan = [];\r\n    let senaraiBarang = [];\r\n\r\n    // Load real data from D1\r\n    async function loadDashboardData() {\r\n      try {\r\n        // Load tempahan pending\r\n        const tempahanRes = await fetch('/api/staff-ict/kelulusan');\r\n        const tempahanData = await tempahanRes.json();\r\n        tempahan = tempahanData.data || [];\r\n        console.log('Loaded tempahan:', tempahan.length, tempahan);\r\n\r\n        // Load barang\r\n        const barangRes = await fetch('/api/admin/barang');\r\n        const barangData = await barangRes.json();\r\n        senaraiBarang = barangData.barang || [];\r\n        console.log('Loaded barang:', senaraiBarang.length);\r\n\r\n        // Update stats\r\n        document.getElementById('perluKelulusan').textContent = tempahan.length;\r\n        document.getElementById('totalBarang').textContent = senaraiBarang.length;\r\n        \r\n        renderTempahan();\r\n        renderBarang();\r\n      } catch (error) {\r\n        console.error('Error loading dashboard:', error);\r\n      }\r\n    }\r\n\r\n    function handleLogKeluar() {\r\n      if (confirm('Adakah anda pasti ingin log keluar?')) {\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n\r\n    function getStatusColor(status) {\r\n      const colors = {\r\n        tersedia: 'bg-green-100 text-green-800',\r\n        dipinjam: 'bg-blue-100 text-blue-800',\r\n        rosak: 'bg-red-100 text-red-800',\r\n        menunggu: 'bg-yellow-100 text-yellow-800'\r\n      };\r\n      return colors[status] || 'bg-gray-100 text-gray-800';\r\n    }\r\n\r\n    function getStatusText(status) {\r\n      const texts = {\r\n        tersedia: 'Tersedia',\r\n        dipinjam: 'Dipinjam',\r\n        rosak: 'Rosak',\r\n        menunggu: 'Menunggu'\r\n      };\r\n      return texts[status] || status;\r\n    }\r\n\r\n    function handleKelulusan(id, status) {\r\n      const item = tempahan.find(t => t.id === id);\r\n      if (!item) return;\r\n      \r\n      if (confirm(\\`Adakah anda pasti ingin \\${status === 'lulus' ? 'meluluskan' : 'menolak'} tempahan ini?\\`)) {\r\n        alert(\\`Tempahan \\${status === 'lulus' ? 'diluluskan' : 'ditolak'}!\\`);\r\n        window.location.reload();\r\n      }\r\n    }\r\n\r\n    function handleUpdateStatusBarang(id, statusBaru) {\r\n      if (confirm('Adakah anda pasti ingin mengemas kini status barang ini?')) {\r\n        alert('Status barang berjaya dikemaskini!');\r\n        window.location.reload();\r\n      }\r\n    }\r\n\r\n    // Render tempahan list\r\n    function renderTempahan() {\r\n      const container = document.getElementById('tempahanList');\r\n      const tempahanMenunggu = tempahan.filter(t => t.status === 'Pending');\r\n      \r\n      if (tempahanMenunggu.length === 0) {\r\n        container.innerHTML = \\`\r\n          <div class=\"text-center py-4\">\r\n            <p class=\"text-gray-500 text-sm\">Tiada tempahan menunggu kelulusan</p>\r\n            <button onclick=\"window.location.href='/staff-ict/kelulusan'\" class=\"text-blue-500 text-xs hover:text-blue-600 mt-2\">\r\n              Pergi ke halaman kelulusan \u2192\r\n            </button>\r\n          </div>\r\n        \\`;\r\n        return;\r\n      }\r\n\r\n      container.innerHTML = tempahanMenunggu.map(item => \\`\r\n        <div class=\"border border-gray-200 rounded-lg p-2\">\r\n          <div class=\"flex flex-col gap-2\">\r\n            <div class=\"flex justify-between items-start\">\r\n              <div>\r\n                <h3 class=\"font-medium text-gray-900 text-sm\">\\${item.namaPemohon}</h3>\r\n                <p class=\"text-gray-600 text-xs\">\\${item.namaBarang}</p>\r\n                <p class=\"text-gray-500 text-xs\">Tarikh: \\${new Date(item.createdAt).toLocaleDateString('ms-MY')}</p>\r\n              </div>\r\n              <span class=\"\\${getStatusColor(item.status.toLowerCase())} text-xs px-2 py-1 rounded\">\r\n                \\${getStatusText(item.status.toLowerCase())}\r\n              </span>\r\n            </div>\r\n            \r\n            <div class=\"flex gap-2\">\r\n              <button onclick=\"handleKelulusan('\\${item.id}', 'lulus')\" class=\"flex-1 bg-green-500 text-white py-1 rounded text-xs hover:bg-green-600 transition-colors\">\r\n                \u2705 Lulus\r\n              </button>\r\n              <button onclick=\"handleKelulusan('\\${item.id}', 'tolak')\" class=\"flex-1 bg-red-500 text-white py-1 rounded text-xs hover:bg-red-600 transition-colors\">\r\n                \u274C Tolak\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      \\`).join('');\r\n    }\r\n\r\n    // Render barang list\r\n    function renderBarang() {\r\n      const container = document.getElementById('barangList');\r\n      if (!senaraiBarang || senaraiBarang.length === 0) {\r\n        container.innerHTML = '<p class=\"text-gray-500 text-xs text-center py-2\">Tiada barang</p>';\r\n        return;\r\n      }\r\n      \r\n      container.innerHTML = senaraiBarang.slice(0, 3).map(barang => \\`\r\n        <div class=\"border border-gray-200 rounded-lg p-2\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex-1\">\r\n              <h3 class=\"font-medium text-gray-900 text-sm\">\\${barang.namaBarang}</h3>\r\n              <div class=\"flex items-center gap-1 mt-1\">\r\n                <span class=\"bg-gray-100 text-gray-700 text-xs px-1 py-0.5 rounded\">\r\n                  \\${barang.kategori}\r\n                </span>\r\n                <span class=\"\\${getStatusColor(barang.status.toLowerCase())} text-xs px-1 py-0.5 rounded\">\r\n                  \\${getStatusText(barang.status.toLowerCase())}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            \r\n            <select onchange=\"handleUpdateStatusBarang('\\${barang.id}', this.value)\" class=\"border border-gray-300 rounded-lg px-2 py-1 text-xs focus:ring-1 focus:ring-blue-500\">\r\n              <option value=\"Tersedia\" \\${barang.status === 'Tersedia' ? 'selected' : ''}>Tersedia</option>\r\n              <option value=\"Dipinjam\" \\${barang.status === 'Dipinjam' ? 'selected' : ''}>Dipinjam</option>\r\n              <option value=\"Rosak\" \\${barang.status === 'Rosak' ? 'selected' : ''}>Rosak</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      \\`).join('');\r\n      \r\n      container.innerHTML += \\`\r\n        <button onclick=\"window.location.href='/staff-ict/barang'\" class=\"w-full bg-green-50 text-green-700 py-2 rounded-lg text-xs font-medium hover:bg-green-100 transition-colors\">\r\n          Lihat Semua Barang \u2192\r\n        </button>\r\n      \\`;\r\n    }\r\n\r\n    // Initialize\r\n    loadDashboardData();\r\n  </script>\r\n</body>\r\n</html>`;\r\n}\r\n\r\nfunction getStaffBarangHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Urus Barang - Staff ICT - iBorrow</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-6xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/staff-ict/dashboard'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors flex items-center gap-1\">\r\n              \u2190 Dashboard\r\n            </button>\r\n            <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\uD83D\uDCE6 BARANG</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"handleLogKeluar()\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDCE6 Urus Barang ICT</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Manage inventori barang ICT ILKKM</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Stats Cards -->\r\n      <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-blue-600\" id=\"statTotal\">8</div>\r\n          <div class=\"text-xs text-gray-600\">Total Barang</div>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-green-600\" id=\"statTersedia\">6</div>\r\n          <div class=\"text-xs text-gray-600\">Tersedia</div>\r\n          <div class=\"text-xs text-green-600 mt-1\">Boleh dipinjam</div>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-orange-600\" id=\"statDipinjam\">1</div>\r\n          <div class=\"text-xs text-gray-600\">Dipinjam</div>\r\n        </div>\r\n\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-red-600\" id=\"statRosak\">1</div>\r\n          <div class=\"text-xs text-gray-600\">Rosak</div>\r\n          <div class=\"text-xs text-red-600 mt-1\">Perbaikan</div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Bulk Actions (hidden initially) -->\r\n      <div id=\"bulkActions\" class=\"hidden bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-4\">\r\n        <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\r\n          <div>\r\n            <h3 class=\"font-semibold text-yellow-800 text-sm\">\r\n              \uD83D\uDCCB <span id=\"selectedCount\">0</span> barang dipilih\r\n            </h3>\r\n            <p class=\"text-yellow-700 text-xs mt-1\">Pilih tindakan yang ingin dilakukan</p>\r\n          </div>\r\n          <div class=\"flex gap-2\">\r\n            <button onclick=\"handleBulkDelete()\" class=\"bg-red-500 text-white px-3 py-2 rounded-lg hover:bg-red-600 transition-colors text-xs\">\r\n              \uD83D\uDDD1\uFE0F Padam Dipilih\r\n            </button>\r\n            <button onclick=\"clearSelection()\" class=\"bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors text-xs\">\r\n              \u2717 Batal Pilih\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Filters & Search -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4\">\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Carian Barang</label>\r\n            <input type=\"text\" id=\"searchInput\" placeholder=\"Cari nama, kod atau deskripsi...\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\" oninput=\"filterBarang()\">\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Kategori</label>\r\n            <select id=\"filterKategori\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\" onchange=\"filterBarang()\">\r\n              <option value=\"semua\">Semua Kategori</option>\r\n              <option value=\"elektronik\">Elektronik</option>\r\n              <option value=\"fotografi\">Fotografi</option>\r\n              <option value=\"alat-tulis\">Alat Tulis</option>\r\n              <option value=\"audio\">Audio</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Status</label>\r\n            <select id=\"filterStatus\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\" onchange=\"filterBarang()\">\r\n              <option value=\"semua\">Semua Status</option>\r\n              <option value=\"tersedia\">Tersedia</option>\r\n              <option value=\"dipinjam\">Dipinjam</option>\r\n              <option value=\"rosak\">Rosak</option>\r\n              <option value=\"servis\">Servis</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200\">\r\n          <div class=\"flex-1\">\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Tambah Barang</label>\r\n            <button onclick=\"openModalTambah()\" class=\"w-full bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 transition-colors text-sm\">\r\n              + Tambah Barang\r\n            </button>\r\n          </div>\r\n          \r\n          <div class=\"flex-1\">\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Hasil Carian</label>\r\n            <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center w-full\">\r\n              <p class=\"text-blue-800 font-semibold text-sm\">\r\n                <span id=\"countDitemui\">8</span> barang\r\n              </p>\r\n              <p class=\"text-blue-600 text-xs\">ditemui</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Senarai Barang -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-6\">\r\n        <div class=\"flex items-center justify-between mb-4\">\r\n          <h2 class=\"font-semibold text-gray-900 text-sm\">Senarai Barang ICT</h2>\r\n          <div class=\"flex items-center gap-3\">\r\n            <span class=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\" id=\"countBarang\">8 barang</span>\r\n            <div class=\"flex items-center gap-2\">\r\n              <input type=\"checkbox\" id=\"selectAll\" onchange=\"toggleSelectAll()\" class=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\">\r\n              <span class=\"text-xs text-gray-600\">Pilih Semua</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div id=\"barangList\" class=\"space-y-3\"></div>\r\n      </div>\r\n\r\n      ${getStaffBottomNavHTML('barang')}\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Modal Tambah Barang -->\r\n  <div id=\"modalTambah\" class=\"hidden fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\r\n    <div class=\"bg-white rounded-xl shadow-xl p-4 w-full max-w-sm mx-4 border border-gray-200\">\r\n      <div class=\"flex items-center justify-between mb-4\">\r\n        <h3 class=\"text-base font-semibold text-gray-900\">Tambah Barang Baru</h3>\r\n        <button onclick=\"closeModalTambah()\" class=\"text-gray-400 hover:text-gray-600 transition-colors\">\r\n          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      \r\n      <div class=\"space-y-3\">\r\n        <div>\r\n          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Nama Barang *</label>\r\n          <input type=\"text\" id=\"tambahNama\" placeholder=\"Laptop Dell XPS 13\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Kod Barang *</label>\r\n          <input type=\"text\" id=\"tambahKod\" placeholder=\"ICT-LAP-001\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-2 gap-2\">\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Kategori</label>\r\n            <select id=\"tambahKategori\" class=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n              <option value=\"elektronik\">Elektronik</option>\r\n              <option value=\"fotografi\">Fotografi</option>\r\n              <option value=\"alat-tulis\">Alat Tulis</option>\r\n              <option value=\"audio\">Audio</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Status</label>\r\n            <select id=\"tambahStatus\" class=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n              <option value=\"Tersedia\">Tersedia</option>\r\n              <option value=\"Rosak\">Rosak</option>\r\n              <option value=\"Diselenggara\">Diselenggara</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-2 gap-2\">\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Kuantiti Total *</label>\r\n            <input type=\"number\" id=\"tambahKuantitiTotal\" value=\"1\" min=\"1\" class=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Kuantiti Tersedia *</label>\r\n            <input type=\"number\" id=\"tambahKuantitiTersedia\" value=\"1\" min=\"0\" class=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Lokasi *</label>\r\n          <input type=\"text\" id=\"tambahLokasi\" placeholder=\"Makmal Komputer 1\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Deskripsi</label>\r\n          <textarea id=\"tambahDeskripsi\" rows=\"2\" placeholder=\"Deskripsi barang...\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\"></textarea>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Nota (Optional)</label>\r\n          <textarea id=\"tambahNota\" rows=\"2\" placeholder=\"Nota tambahan...\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\"></textarea>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"flex gap-2 mt-4\">\r\n        <button onclick=\"closeModalTambah()\" class=\"flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors text-xs font-medium\">\r\n          Batal\r\n        </button>\r\n        <button onclick=\"handleTambahBarang()\" class=\"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors text-xs font-medium\">\r\n          Tambah Barang\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Modal Edit Barang -->\r\n  <div id=\"modalEdit\" class=\"hidden fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\r\n    <div class=\"bg-white rounded-xl shadow-xl p-4 w-full max-w-sm mx-4 border border-gray-200\">\r\n      <div class=\"flex items-center justify-between mb-4\">\r\n        <h3 class=\"text-base font-semibold text-gray-900\">Edit Barang</h3>\r\n        <button onclick=\"closeModalEdit()\" class=\"text-gray-400 hover:text-gray-600 transition-colors\">\r\n          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      \r\n      <div class=\"space-y-3\">\r\n        <input type=\"hidden\" id=\"editId\">\r\n        <div>\r\n          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Nama Barang *</label>\r\n          <input type=\"text\" id=\"editNama\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Kod Barang *</label>\r\n          <input type=\"text\" id=\"editKod\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-2 gap-2\">\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Kategori</label>\r\n            <select id=\"editKategori\" class=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n              <option value=\"elektronik\">Elektronik</option>\r\n              <option value=\"fotografi\">Fotografi</option>\r\n              <option value=\"alat-tulis\">Alat Tulis</option>\r\n              <option value=\"audio\">Audio</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Status</label>\r\n            <select id=\"editStatus\" class=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n              <option value=\"Tersedia\">Tersedia</option>\r\n              <option value=\"Dipinjam\">Dipinjam</option>\r\n              <option value=\"Rosak\">Rosak</option>\r\n              <option value=\"Diselenggara\">Diselenggara</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-2 gap-2\">\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Kuantiti Total *</label>\r\n            <input type=\"number\" id=\"editKuantitiTotal\" min=\"1\" class=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Kuantiti Tersedia *</label>\r\n            <input type=\"number\" id=\"editKuantitiTersedia\" min=\"0\" class=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Lokasi *</label>\r\n          <input type=\"text\" id=\"editLokasi\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Deskripsi</label>\r\n          <textarea id=\"editDeskripsi\" rows=\"2\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\"></textarea>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Nota (Optional)</label>\r\n          <textarea id=\"editNota\" rows=\"2\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\"></textarea>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"flex gap-2 mt-4\">\r\n        <button onclick=\"closeModalEdit()\" class=\"flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors text-xs font-medium\">\r\n          Batal\r\n        </button>\r\n        <button onclick=\"handleUpdateBarang()\" class=\"flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors text-xs font-medium\">\r\n          Kemaskini\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <script>\r\n    let senaraiBarang = [];\r\n    let selectedBarang = [];\r\n\r\n    // Load barang from D1 database\r\n    async function loadBarang() {\r\n      try {\r\n        const response = await fetch('/api/admin/barang');\r\n        if (!response.ok) throw new Error('Failed to load barang');\r\n        const data = await response.json();\r\n        senaraiBarang = data.barang || [];\r\n        \r\n        updateStats();\r\n        filterBarang();\r\n      } catch (error) {\r\n        console.error('Error loading barang:', error);\r\n        document.getElementById('barangList').innerHTML = '<div class=\"text-center py-8\"><div class=\"text-4xl mb-2\">\u274C</div><p class=\"text-red-500 text-sm\">Error memuat barang. Sila refresh.</p></div>';\r\n      }\r\n    }\r\n\r\n    function handleLogKeluar() {\r\n      if (confirm('Adakah anda pasti ingin log keluar?')) {\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n\r\n    function getGambar(kategori) {\r\n      const icons = {\r\n        elektronik: '\uD83D\uDCBB',\r\n        fotografi: '\uD83D\uDCF7',\r\n        'alat-tulis': '\u270F\uFE0F',\r\n        buku: '\uD83D\uDCDA',\r\n        audio: '\uD83C\uDFA4'\r\n      };\r\n      return icons[kategori] || '\uD83D\uDCE6';\r\n    }\r\n\r\n    function getKategoriColor(kategori) {\r\n      const colors = {\r\n        elektronik: 'bg-blue-100 text-blue-800',\r\n        fotografi: 'bg-purple-100 text-purple-800',\r\n        'alat-tulis': 'bg-orange-100 text-orange-800',\r\n        audio: 'bg-pink-100 text-pink-800'\r\n      };\r\n      return colors[kategori] || 'bg-gray-100 text-gray-800';\r\n    }\r\n\r\n    function getKategoriText(kategori) {\r\n      const texts = {\r\n        elektronik: 'Elektronik',\r\n        fotografi: 'Fotografi',\r\n        'alat-tulis': 'Alat Tulis',\r\n        audio: 'Audio'\r\n      };\r\n      return texts[kategori] || kategori;\r\n    }\r\n\r\n    function getStatusColor(status) {\r\n      const s = status.toLowerCase();\r\n      const colors = {\r\n        tersedia: 'bg-green-100 text-green-800',\r\n        dipinjam: 'bg-blue-100 text-blue-800',\r\n        rosak: 'bg-red-100 text-red-800',\r\n        servis: 'bg-yellow-100 text-yellow-800',\r\n        diselenggara: 'bg-yellow-100 text-yellow-800'\r\n      };\r\n      return colors[s] || 'bg-gray-100 text-gray-800';\r\n    }\r\n\r\n    function getStatusText(status) {\r\n      return status;\r\n    }\r\n\r\n    function updateStats() {\r\n      const stats = {\r\n        total: senaraiBarang.length,\r\n        tersedia: senaraiBarang.filter(b => b.status.toLowerCase() === 'tersedia').length,\r\n        dipinjam: senaraiBarang.filter(b => b.status.toLowerCase() === 'dipinjam').length,\r\n        rosak: senaraiBarang.filter(b => b.status.toLowerCase() === 'rosak').length\r\n      };\r\n      \r\n      document.getElementById('statTotal').textContent = stats.total;\r\n      document.getElementById('statTersedia').textContent = stats.tersedia;\r\n      document.getElementById('statDipinjam').textContent = stats.dipinjam;\r\n      document.getElementById('statRosak').textContent = stats.rosak;\r\n    }\r\n\r\n    function filterBarang() {\r\n      const search = document.getElementById('searchInput').value.toLowerCase();\r\n      const kategori = document.getElementById('filterKategori').value;\r\n      const status = document.getElementById('filterStatus').value;\r\n\r\n      const filtered = senaraiBarang.filter(barang => {\r\n        const matchSearch = barang.namaBarang.toLowerCase().includes(search) || \r\n                           barang.kodBarang.toLowerCase().includes(search) ||\r\n                           (barang.catatan || '').toLowerCase().includes(search);\r\n        const matchKategori = kategori === 'semua' || barang.kategori === kategori;\r\n        const matchStatus = status === 'semua' || barang.status === status;\r\n        return matchSearch && matchKategori && matchStatus;\r\n      });\r\n\r\n      renderBarang(filtered);\r\n      document.getElementById('countDitemui').textContent = filtered.length;\r\n      document.getElementById('countBarang').textContent = filtered.length + ' barang';\r\n    }\r\n\r\n    function renderBarang(barangList = senaraiBarang) {\r\n      const container = document.getElementById('barangList');\r\n      \r\n      if (barangList.length === 0) {\r\n        container.innerHTML = \\`\r\n          <div class=\"text-center py-8\">\r\n            <div class=\"text-4xl mb-2\">\uD83D\uDCE6</div>\r\n            <p class=\"text-gray-500 text-sm\">Tiada barang ditemui</p>\r\n            <p class=\"text-gray-400 text-xs mt-1\">Cuba ubah carian atau filter</p>\r\n          </div>\r\n        \\`;\r\n        return;\r\n      }\r\n\r\n      container.innerHTML = barangList.map(barang => {\r\n        const gambar = getGambar(barang.kategori);\r\n        return \\`\r\n        <div class=\"\\${selectedBarang.includes(barang.id) ? 'ring-2 ring-blue-500' : ''} border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow\">\r\n          <div class=\"flex flex-col gap-3\">\r\n            <div class=\"flex items-start justify-between\">\r\n              <div class=\"flex items-center gap-3\">\r\n                <input type=\"checkbox\" \\${selectedBarang.includes(barang.id) ? 'checked' : ''} onchange=\"toggleSelect('\\${barang.id}')\" class=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 mt-1\">\r\n                <div class=\"text-3xl\">\\${gambar}</div>\r\n                <div>\r\n                  <h3 class=\"font-semibold text-gray-900 text-sm\">\\${barang.namaBarang}</h3>\r\n                  <p class=\"text-gray-600 text-xs\">\\${barang.catatan || 'Barang ICT'}</p>\r\n                </div>\r\n              </div>\r\n              <span class=\"\\${getStatusColor(barang.status)} text-xs px-2 py-1 rounded font-medium\">\r\n                \\${getStatusText(barang.status)}\r\n              </span>\r\n            </div>\r\n\r\n            <div class=\"grid grid-cols-2 gap-2 text-xs\">\r\n              <div class=\"bg-gray-50 rounded p-2\">\r\n                <span class=\"text-gray-500\">Kod Barang:</span>\r\n                <p class=\"font-mono text-gray-700 mt-1\">\\${barang.kodBarang}</p>\r\n              </div>\r\n              <div class=\"bg-gray-50 rounded p-2\">\r\n                <span class=\"text-gray-500\">Lokasi:</span>\r\n                <p class=\"text-gray-700 mt-1\">\uD83D\uDCCD \\${barang.lokasi}</p>\r\n              </div>\r\n              <div class=\"bg-gray-50 rounded p-2\">\r\n                <span class=\"text-gray-500\">Tersedia:</span>\r\n                <p class=\"text-gray-700 mt-1\">\uD83D\uDCCA \\${barang.kuantitiTersedia}</p>\r\n              </div>\r\n              <div class=\"bg-gray-50 rounded p-2\">\r\n                <span class=\"text-gray-500\">Kategori:</span>\r\n                <p class=\"text-gray-700 mt-1\">\r\n                  <span class=\"\\${getKategoriColor(barang.kategori)} text-xs px-1 py-0.5 rounded\">\r\n                    \\${getKategoriText(barang.kategori)}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            \\${barang.nota ? \\`\r\n              <div class=\"bg-yellow-50 border border-yellow-200 rounded p-2\">\r\n                <p class=\"text-yellow-700 text-xs\">\uD83D\uDCDD \\${barang.nota}</p>\r\n              </div>\r\n            \\` : ''}\r\n\r\n            <div class=\"flex flex-col gap-2 pt-2 border-t border-gray-100\">\r\n              <div class=\"flex-1\">\r\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Update Status</label>\r\n                <select onchange=\"handleUpdateStatus('\\${barang.id}', this.value)\" class=\"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-blue-500\">\r\n                  <option value=\"Tersedia\" \\${barang.status === 'Tersedia' ? 'selected' : ''}>Tersedia</option>\r\n                  <option value=\"Dipinjam\" \\${barang.status === 'Dipinjam' ? 'selected' : ''}>Dipinjam</option>\r\n                  <option value=\"Rosak\" \\${barang.status === 'Rosak' ? 'selected' : ''}>Rosak</option>\r\n                  <option value=\"Diselenggara\" \\${barang.status === 'Diselenggara' ? 'selected' : ''}>Diselenggara</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div class=\"flex gap-2\">\r\n                <button onclick=\"openModalEdit('\\${barang.id}')\" class=\"flex-1 bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600 transition-colors\">\r\n                  Edit\r\n                </button>\r\n                <button onclick=\"handleHapusBarang('\\${barang.id}', '\\${barang.namaBarang.replace(/'/g, \\\"&apos;\\\")}')\" class=\"flex-1 bg-red-500 text-white px-2 py-1 rounded text-xs hover:bg-red-600 transition-colors\">\r\n                  Padam\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      \\`;}).join('');\r\n    }\r\n\r\n    function toggleSelect(id) {\r\n      if (selectedBarang.includes(id)) {\r\n        selectedBarang = selectedBarang.filter(itemId => itemId !== id);\r\n      } else {\r\n        selectedBarang.push(id);\r\n      }\r\n      updateBulkActions();\r\n      renderBarang();\r\n    }\r\n\r\n    function toggleSelectAll() {\r\n      const selectAll = document.getElementById('selectAll').checked;\r\n      if (selectAll) {\r\n        selectedBarang = senaraiBarang.map(b => b.id);\r\n      } else {\r\n        selectedBarang = [];\r\n      }\r\n      updateBulkActions();\r\n      renderBarang();\r\n    }\r\n\r\n    function updateBulkActions() {\r\n      const bulkActions = document.getElementById('bulkActions');\r\n      if (selectedBarang.length > 0) {\r\n        bulkActions.classList.remove('hidden');\r\n        document.getElementById('selectedCount').textContent = selectedBarang.length;\r\n      } else {\r\n        bulkActions.classList.add('hidden');\r\n      }\r\n    }\r\n\r\n    function clearSelection() {\r\n      selectedBarang = [];\r\n      document.getElementById('selectAll').checked = false;\r\n      updateBulkActions();\r\n      renderBarang();\r\n    }\r\n\r\n    async function handleBulkDelete() {\r\n      if (selectedBarang.length === 0) {\r\n        alert('Sila pilih sekurang-kurangnya satu barang untuk dipadam!');\r\n        return;\r\n      }\r\n\r\n      if (!confirm(\\`Adakah anda pasti ingin padam \\${selectedBarang.length} barang?\\`)) return;\r\n\r\n      try {\r\n        const response = await fetch('/api/admin/barang', {\r\n          method: 'DELETE',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ ids: selectedBarang })\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const error = await response.json();\r\n          throw new Error(error.error || 'Failed to delete barang');\r\n        }\r\n\r\n        alert(\\`\u2705 \\${selectedBarang.length} barang berjaya dipadam!\\`);\r\n        clearSelection();\r\n        await loadBarang();\r\n      } catch (error) {\r\n        console.error('Error bulk deleting barang:', error);\r\n        alert('\u274C Error: ' + error.message);\r\n      }\r\n    }\r\n\r\n    async function handleUpdateStatus(id, statusBaru) {\r\n      const barang = senaraiBarang.find(b => b.id === id);\r\n      if (!barang) return;\r\n\r\n      try {\r\n        const response = await fetch('/api/admin/barang', {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            id: id,\r\n            namaBarang: barang.namaBarang,\r\n            kodBarang: barang.kodBarang,\r\n            kategori: barang.kategori,\r\n            status: statusBaru,\r\n            lokasi: barang.lokasi,\r\n            catatan: barang.catatan,\r\n            nota: barang.nota\r\n          })\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const error = await response.json();\r\n          throw new Error(error.error || 'Failed to update status');\r\n        }\r\n\r\n        await loadBarang();\r\n      } catch (error) {\r\n        console.error('Error updating status:', error);\r\n        alert('\u274C Error: ' + error.message);\r\n      }\r\n    }\r\n\r\n    async function handleHapusBarang(id, nama) {\r\n      if (!confirm(\\`Adakah anda pasti ingin hapus barang \"\\${nama}\"?\\`)) return;\r\n\r\n      try {\r\n        const response = await fetch('/api/admin/barang', {\r\n          method: 'DELETE',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ id: id })\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const error = await response.json();\r\n          throw new Error(error.error || 'Failed to delete barang');\r\n        }\r\n\r\n        alert('\u2705 Barang berjaya dipadam!');\r\n        selectedBarang = selectedBarang.filter(itemId => itemId !== id);\r\n        updateBulkActions();\r\n        await loadBarang();\r\n      } catch (error) {\r\n        console.error('Error deleting barang:', error);\r\n        alert('\u274C Error: ' + error.message);\r\n      }\r\n    }\r\n\r\n    function openModalTambah() {\r\n      document.getElementById('modalTambah').classList.remove('hidden');\r\n    }\r\n\r\n    function closeModalTambah() {\r\n      document.getElementById('modalTambah').classList.add('hidden');\r\n      // Reset form\r\n      document.getElementById('tambahNama').value = '';\r\n      document.getElementById('tambahKod').value = '';\r\n      document.getElementById('tambahKategori').value = 'elektronik';\r\n      document.getElementById('tambahStatus').value = 'tersedia';\r\n      document.getElementById('tambahKuantitiTotal').value = '1';\r\n      document.getElementById('tambahKuantitiTersedia').value = '1';\r\n      document.getElementById('tambahLokasi').value = '';\r\n      document.getElementById('tambahDeskripsi').value = '';\r\n      document.getElementById('tambahNota').value = '';\r\n    }\r\n\r\n    async function handleTambahBarang() {\r\n      const nama = document.getElementById('tambahNama').value.trim();\r\n      const kodBarang = document.getElementById('tambahKod').value.trim();\r\n      const kategori = document.getElementById('tambahKategori').value;\r\n      const status = document.getElementById('tambahStatus').value;\r\n      const kuantitiTotal = parseInt(document.getElementById('tambahKuantitiTotal').value) || 1;\r\n      const kuantitiTersedia = parseInt(document.getElementById('tambahKuantitiTersedia').value) || 1;\r\n      const lokasi = document.getElementById('tambahLokasi').value.trim();\r\n      const deskripsi = document.getElementById('tambahDeskripsi').value.trim();\r\n      const nota = document.getElementById('tambahNota').value.trim();\r\n\r\n      if (!nama || !kodBarang || !lokasi) {\r\n        alert('Sila isi semua maklumat bertanda (*)!');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch('/api/admin/barang', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            namaBarang: nama,\r\n            kodBarang: kodBarang,\r\n            kategori: kategori,\r\n            kuantitiTotal: kuantitiTotal,\r\n            kuantitiTersedia: kuantitiTersedia,\r\n            status: status,\r\n            lokasi: lokasi,\r\n            catatan: deskripsi || nota || ''\r\n          })\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const error = await response.json();\r\n          throw new Error(error.error || 'Failed to add barang');\r\n        }\r\n\r\n        alert('\u2705 Barang baru berjaya ditambah!');\r\n        closeModalTambah();\r\n        await loadBarang();\r\n      } catch (error) {\r\n        console.error('Error adding barang:', error);\r\n        alert('\u274C Error: ' + error.message);\r\n      }\r\n    }\r\n\r\n    function openModalEdit(id) {\r\n      const barang = senaraiBarang.find(b => b.id === id);\r\n      if (!barang) return;\r\n\r\n      document.getElementById('editId').value = barang.id;\r\n      document.getElementById('editNama').value = barang.namaBarang;\r\n      document.getElementById('editKod').value = barang.kodBarang;\r\n      document.getElementById('editKategori').value = barang.kategori;\r\n      document.getElementById('editStatus').value = barang.status;\r\n      document.getElementById('editKuantitiTotal').value = barang.kuantitiTotal || 1;\r\n      document.getElementById('editKuantitiTersedia').value = barang.kuantitiTersedia || 1;\r\n      document.getElementById('editLokasi').value = barang.lokasi;\r\n      document.getElementById('editDeskripsi').value = barang.catatan || '';\r\n      document.getElementById('editNota').value = '';\r\n      \r\n      document.getElementById('modalEdit').classList.remove('hidden');\r\n    }\r\n\r\n    function closeModalEdit() {\r\n      document.getElementById('modalEdit').classList.add('hidden');\r\n    }\r\n\r\n    async function handleUpdateBarang() {\r\n      const id = document.getElementById('editId').value; // Keep as string\r\n      const nama = document.getElementById('editNama').value.trim();\r\n      const kodBarang = document.getElementById('editKod').value.trim();\r\n      const kategori = document.getElementById('editKategori').value;\r\n      const status = document.getElementById('editStatus').value;\r\n      const kuantitiTotal = parseInt(document.getElementById('editKuantitiTotal').value) || 1;\r\n      const kuantitiTersedia = parseInt(document.getElementById('editKuantitiTersedia').value) || 1;\r\n      const lokasi = document.getElementById('editLokasi').value.trim();\r\n      const deskripsi = document.getElementById('editDeskripsi').value.trim();\r\n      const nota = document.getElementById('editNota').value.trim();\r\n\r\n      if (!nama || !kodBarang || !lokasi) {\r\n        alert('Sila isi semua maklumat bertanda (*)!');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const payload = {\r\n          id: id,\r\n          namaBarang: nama,\r\n          kodBarang: kodBarang,\r\n          kategori: kategori,\r\n          kuantitiTotal: kuantitiTotal,\r\n          kuantitiTersedia: kuantitiTersedia,\r\n          status: status,\r\n          lokasi: lokasi,\r\n          deskripsi: deskripsi || nota || ''\r\n        };\r\n        console.log('Update payload:', payload);\r\n        \r\n        const response = await fetch('/api/admin/barang', {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(payload)\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const error = await response.json();\r\n          throw new Error(error.error || 'Failed to update barang');\r\n        }\r\n\r\n        alert('\u2705 Barang berjaya dikemaskini!');\r\n        closeModalEdit();\r\n        await loadBarang();\r\n      } catch (error) {\r\n        console.error('Error updating barang:', error);\r\n        alert('\u274C Error: ' + error.message);\r\n      }\r\n    }\r\n\r\n    // Initialize - Load barang from D1\r\n    loadBarang();\r\n  </script>\r\n</body>\r\n</html>`;\r\n}\r\n\r\nfunction getStaffKelulusanHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Urus Kelulusan - Staff ICT - iBorrow</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-6xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/staff-ict/dashboard'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors flex items-center gap-1\">\r\n              \u2190 Dashboard\r\n            </button>\r\n            <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\uD83D\uDCCB KELULUSAN</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"handleLogKeluar()\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDCCB Urus Kelulusan</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Luluskan atau tolak tempahan barang ICT</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Stats Cards -->\r\n      <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-blue-600\" id=\"statTotal\">6</div>\r\n          <div class=\"text-xs text-gray-600\">Total Tempahan</div>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-yellow-600\" id=\"statMenunggu\">4</div>\r\n          <div class=\"text-xs text-gray-600\">Menunggu</div>\r\n          <div class=\"text-xs text-yellow-600 mt-1\">Perlu tindakan</div>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-green-600\" id=\"statDiluluskan\">1</div>\r\n          <div class=\"text-xs text-gray-600\">Diluluskan</div>\r\n        </div>\r\n\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-red-600\" id=\"statDitolak\">1</div>\r\n          <div class=\"text-xs text-gray-600\">Ditolak</div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Filters & Search -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"grid grid-cols-1 sm:grid-cols-3 gap-3\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Carian</label>\r\n            <input type=\"text\" id=\"searchInput\" placeholder=\"Cari nama, barang atau email...\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\" oninput=\"filterTempahan()\">\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Filter Status</label>\r\n            <select id=\"filterStatus\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\" onchange=\"filterTempahan()\">\r\n              <option value=\"Pending\">Menunggu Kelulusan</option>\r\n              <option value=\"Diluluskan\">Diluluskan</option>\r\n              <option value=\"Ditolak\">Ditolak</option>\r\n              <option value=\"semua\">Semua Status</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"flex items-end\">\r\n            <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center w-full\">\r\n              <p class=\"text-blue-800 font-semibold text-sm\">\r\n                <span id=\"countDitemui\">4</span> tempahan\r\n              </p>\r\n              <p class=\"text-blue-600 text-xs\">ditemui</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Senarai Tempahan -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-20\">\r\n        <div class=\"flex items-center justify-between mb-4\">\r\n          <h2 class=\"font-semibold text-gray-900 text-sm\">\uD83D\uDCCB Senarai Tempahan</h2>\r\n          <span class=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\" id=\"countTempahan\">4 ditemui</span>\r\n        </div>\r\n        \r\n        <div id=\"tempahanList\" class=\"space-y-3\"></div>\r\n      </div>\r\n\r\n      ${getStaffBottomNavHTML('kelulusan')}\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Modal Tolak Tempahan -->\r\n  <div id=\"modalTolak\" class=\"hidden fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\r\n    <div class=\"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md mx-4 border border-gray-200\">\r\n      <div class=\"flex items-center justify-between mb-4\">\r\n        <h3 class=\"text-lg font-semibold text-gray-900\">Tolak Tempahan</h3>\r\n        <button onclick=\"closeModalTolak()\" class=\"text-gray-400 hover:text-gray-600 transition-colors\">\r\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      \r\n      <div class=\"space-y-4\">\r\n        <div id=\"tolakInfo\"></div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Sebab Penolakan *\r\n          </label>\r\n          <textarea id=\"sebabTolakan\" rows=\"4\" placeholder=\"Berikan sebab mengapa tempahan ini ditolak...\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"></textarea>\r\n          <p class=\"text-xs text-gray-500 mt-1\">Sebab ini akan dihantar kepada pengguna melalui email</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"flex gap-3 mt-6\">\r\n        <button onclick=\"closeModalTolak()\" class=\"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium\">\r\n          Batal\r\n        </button>\r\n        <button onclick=\"handleTolakTempahan()\" class=\"flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 transition-colors text-sm font-medium\">\r\n          Tolak Tempahan\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <script>\r\n    let tempahan = [];\r\n    let tempahanDipilih = null;\r\n\r\n    // Load tempahan from D1 database\r\n    async function loadTempahan() {\r\n      try {\r\n        console.log('Fetching tempahan...');\r\n        const response = await fetch('/api/staff-ict/kelulusan');\r\n        console.log('Response status:', response.status);\r\n        if (!response.ok) throw new Error('Failed to load tempahan');\r\n        const data = await response.json();\r\n        console.log('Tempahan data:', data);\r\n        tempahan = data.data || [];\r\n        console.log('Loaded tempahan:', tempahan.length);\r\n        \r\n        updateStats();\r\n        filterTempahan();\r\n      } catch (error) {\r\n        console.error('Error loading tempahan:', error);\r\n        document.getElementById('tempahanList').innerHTML = '<div class=\"text-center py-8\"><div class=\"text-4xl mb-2\">\u274C</div><p class=\"text-red-500 text-sm\">Error: ' + error.message + '</p></div>';\r\n      }\r\n    }\r\n\r\n    function handleLogKeluar() {\r\n      if (confirm('Adakah anda pasti ingin log keluar?')) {\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n\r\n    function getStatusColor(status) {\r\n      const colors = {\r\n        menunggu: 'bg-yellow-100 text-yellow-800 border-yellow-200',\r\n        diluluskan: 'bg-green-100 text-green-800 border-green-200',\r\n        ditolak: 'bg-red-100 text-red-800 border-red-200'\r\n      };\r\n      return colors[status] || 'bg-gray-100 text-gray-800 border-gray-200';\r\n    }\r\n\r\n    function getStatusText(status) {\r\n      const texts = {\r\n        menunggu: 'Menunggu Kelulusan',\r\n        diluluskan: 'Diluluskan',\r\n        ditolak: 'Ditolak'\r\n      };\r\n      return texts[status] || status;\r\n    }\r\n\r\n    function getStatusIcon(status) {\r\n      const icons = {\r\n        menunggu: '\u23F3',\r\n        diluluskan: '\u2705',\r\n        ditolak: '\u274C'\r\n      };\r\n      return icons[status] || '\uD83D\uDCCB';\r\n    }\r\n\r\n    function getKategoriColor(kategori) {\r\n      const colors = {\r\n        elektronik: 'bg-blue-100 text-blue-800',\r\n        fotografi: 'bg-purple-100 text-purple-800',\r\n        'alat-tulis': 'bg-orange-100 text-orange-800',\r\n        audio: 'bg-pink-100 text-pink-800'\r\n      };\r\n      return colors[kategori] || 'bg-gray-100 text-gray-800';\r\n    }\r\n\r\n    function getKategoriText(kategori) {\r\n      const texts = {\r\n        elektronik: 'Elektronik',\r\n        fotografi: 'Fotografi',\r\n        'alat-tulis': 'Alat Tulis',\r\n        audio: 'Audio'\r\n      };\r\n      return texts[kategori] || kategori;\r\n    }\r\n\r\n    function formatTarikh(tarikh) {\r\n      return new Date(tarikh).toLocaleDateString('ms-MY', {\r\n        day: 'numeric',\r\n        month: 'short',\r\n        year: 'numeric'\r\n      });\r\n    }\r\n\r\n    function formatTarikhMasa(tarikh) {\r\n      return new Date(tarikh).toLocaleDateString('ms-MY', {\r\n        day: 'numeric',\r\n        month: 'short',\r\n        year: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    }\r\n\r\n    function updateStats() {\r\n      const stats = {\r\n        total: tempahan.length,\r\n        menunggu: tempahan.filter(t => t.status === 'Pending').length,\r\n        diluluskan: tempahan.filter(t => t.status === 'Diluluskan').length,\r\n        ditolak: tempahan.filter(t => t.status === 'Ditolak').length\r\n      };\r\n      \r\n      document.getElementById('statTotal').textContent = stats.total;\r\n      document.getElementById('statMenunggu').textContent = stats.menunggu;\r\n      document.getElementById('statDiluluskan').textContent = stats.diluluskan;\r\n      document.getElementById('statDitolak').textContent = stats.ditolak;\r\n    }\r\n\r\n    async function handleLuluskanTempahan(id) {\r\n      if (!confirm('Adakah anda pasti ingin meluluskan tempahan ini?')) return;\r\n\r\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n      if (!user.id) {\r\n        alert('Sila login semula');\r\n        window.location.href = '/login';\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch('/api/staff-ict/kelulusan', {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            tempahanId: id,\r\n            status: 'diluluskan',\r\n            staffId: user.id\r\n          })\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const error = await response.json();\r\n          throw new Error(error.error || 'Failed to approve');\r\n        }\r\n\r\n        alert('\u2705 Tempahan berjaya diluluskan!');\r\n        await loadTempahan();\r\n      } catch (error) {\r\n        console.error('Error approving tempahan:', error);\r\n        alert('\u274C Error: ' + error.message);\r\n      }\r\n    }\r\n\r\n    async function handleTolakTempahan() {\r\n      if (!tempahanDipilih) return;\r\n\r\n      const sebab = document.getElementById('sebabTolakan').value;\r\n      if (!sebab.trim()) {\r\n        alert('Sila berikan sebab penolakan');\r\n        return;\r\n      }\r\n\r\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n      if (!user.id) {\r\n        alert('Sila login semula');\r\n        window.location.href = '/login';\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch('/api/staff-ict/kelulusan', {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            tempahanId: tempahanDipilih.id,\r\n            status: 'ditolak',\r\n            staffId: user.id,\r\n            sebabTolakan: sebab\r\n          })\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const error = await response.json();\r\n          throw new Error(error.error || 'Failed to reject');\r\n        }\r\n\r\n        alert('\u274C Tempahan berjaya ditolak!');\r\n        closeModalTolak();\r\n        await loadTempahan();\r\n      } catch (error) {\r\n        console.error('Error rejecting tempahan:', error);\r\n        alert('\u274C Error: ' + error.message);\r\n      }\r\n    }\r\n\r\n    function filterTempahan() {\r\n      const search = document.getElementById('searchInput').value.toLowerCase();\r\n      const status = document.getElementById('filterStatus').value;\r\n\r\n      const filtered = tempahan.filter(item => {\r\n        const matchSearch = (item.namaPemohon || '').toLowerCase().includes(search) ||\r\n                           (item.namaBarang || '').toLowerCase().includes(search) ||\r\n                           (item.emailPemohon || '').toLowerCase().includes(search);\r\n        const matchStatus = status === 'semua' || item.status === status;\r\n        return matchSearch && matchStatus;\r\n      });\r\n\r\n      renderTempahan(filtered);\r\n      document.getElementById('countDitemui').textContent = filtered.length;\r\n      document.getElementById('countTempahan').textContent = filtered.length + ' ditemui';\r\n    }\r\n\r\n    function renderTempahan(tempahanList = tempahan.filter(t => t.status === 'Pending')) {\r\n      const container = document.getElementById('tempahanList');\r\n      \r\n      if (tempahanList.length === 0) {\r\n        container.innerHTML = \\`\r\n          <div class=\"text-center py-8\">\r\n            <div class=\"text-4xl mb-2\">\uD83D\uDCCB</div>\r\n            <p class=\"text-gray-500 text-sm\">Tiada tempahan ditemui</p>\r\n            <p class=\"text-gray-400 text-xs mt-1\">Cuba ubah carian atau filter anda</p>\r\n          </div>\r\n        \\`;\r\n        return;\r\n      }\r\n\r\n      container.innerHTML = tempahanList.map(item => \\`\r\n        <div class=\"border rounded-lg p-3 \\${getStatusColor(item.status)}\">\r\n          <div class=\"flex flex-col gap-3\">\r\n            <div class=\"flex justify-between items-start\">\r\n              <div class=\"flex-1\">\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">\\${item.namaBarang}</h3>\r\n                <p class=\"text-gray-600 text-xs mt-1\">\r\n                  <strong>Pemohon:</strong> \\${item.namaPemohon} (\\${item.emailPemohon || 'N/A'})\r\n                </p>\r\n                <p class=\"text-gray-500 text-xs mt-1\">\uD83D\uDCCD \\${item.lokasi || 'N/A'}</p>\r\n                \\${item.tujuan ? \\`<p class=\"text-gray-500 text-xs mt-1\">\uD83D\uDCDD \\${item.tujuan}</p>\\` : ''}\r\n              </div>\r\n              <div class=\"flex flex-col items-end gap-1\">\r\n                <span class=\"\\${getStatusColor(item.status)} text-xs px-2 py-1 rounded border font-medium\">\r\n                  \\${getStatusIcon(item.status)} \\${getStatusText(item.status)}\r\n                </span>\r\n                <span class=\"\\${getKategoriColor(item.kategori)} text-xs px-2 py-1 rounded\">\r\n                  \\${getKategoriText(item.kategori)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid grid-cols-1 gap-2 text-xs\">\r\n              <div class=\"bg-white rounded p-2 border\">\r\n                <span class=\"font-medium text-gray-700\">Tarikh Tempah:</span>\r\n                <p class=\"text-gray-900 mt-1\">\\${formatTarikhMasa(item.createdAt)}</p>\r\n              </div>\r\n              <div class=\"grid grid-cols-2 gap-2\">\r\n                <div class=\"bg-white rounded p-2 border\">\r\n                  <span class=\"font-medium text-gray-700\">Tarikh Pinjam:</span>\r\n                  <p class=\"text-gray-900 mt-1\">\\${formatTarikh(item.tarikhMula)}</p>\r\n                </div>\r\n                <div class=\"bg-white rounded p-2 border\">\r\n                  <span class=\"font-medium text-gray-700\">Tarikh Pulang:</span>\r\n                  <p class=\"text-gray-900 mt-1\">\\${formatTarikh(item.tarikhTamat)}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            \\${item.status === 'Diluluskan' && item.diluluskanOleh ? \\`\r\n              <div class=\"p-2 bg-green-50 border border-green-200 rounded-lg\">\r\n                <p class=\"text-green-700 text-xs\">\r\n                  \u2705 <strong>Diluluskan oleh:</strong> \\${item.diluluskanOleh} pada \\${formatTarikhMasa(item.tarikhKelulusan)}\r\n                </p>\r\n              </div>\r\n            \\` : ''}\r\n            \r\n            \\${item.status === 'Ditolak' && item.catatanKelulusan ? \\`\r\n              <div class=\"p-2 bg-red-50 border border-red-200 rounded-lg\">\r\n                <p class=\"text-red-700 text-xs\">\r\n                  \u274C <strong>Ditolak:</strong> \\${item.catatanKelulusan}\r\n                </p>\r\n                \\${item.diluluskanOleh ? \\`\r\n                  <p class=\"text-red-600 text-xs mt-1\">\r\n                    Oleh: \\${item.diluluskanOleh} pada \\${formatTarikhMasa(item.tarikhKelulusan)}\r\n                  </p>\r\n                \\` : ''}\r\n              </div>\r\n            \\` : ''}\r\n\r\n            \\${item.status === 'Pending' ? \\`\r\n              <div class=\"flex gap-2\">\r\n                <button onclick=\"handleLulusTempahan('\\${item.id}')\" class=\"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors text-sm\">\r\n                  \u2705 Luluskan\r\n                </button>\r\n                <button onclick=\"openModalTolak('\\${item.id}')\" class=\"flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors text-sm\">\r\n                  \u274C Tolak\r\n                </button>\r\n              </div>\r\n            \\` : ''}\r\n          </div>\r\n        </div>\r\n      \\`).join('');\r\n    }\r\n\r\n    async function handleLulusTempahan(tempahanId) {\r\n      if (!confirm('Adakah anda pasti ingin meluluskan tempahan ini?')) return;\r\n\r\n      try {\r\n        const response = await fetch('/api/staff-ict/kelulusan', {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            id: tempahanId,\r\n            status: 'Diluluskan',\r\n            catatan: 'Diluluskan oleh staff ICT'\r\n          })\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const error = await response.json();\r\n          throw new Error(error.error || 'Failed to approve');\r\n        }\r\n\r\n        alert('\u2705 Tempahan berjaya diluluskan! Kuantiti barang telah dikurangkan.');\r\n        await loadTempahan();\r\n      } catch (error) {\r\n        console.error('Error approving tempahan:', error);\r\n        alert('\u274C Error: ' + error.message);\r\n      }\r\n    }\r\n\r\n    function openModalTolak(tempahanId) {\r\n      const item = tempahan.find(t => t.id === tempahanId);\r\n      if (!item) return;\r\n\r\n      tempahanDipilih = item;\r\n      document.getElementById('sebabTolakan').value = '';\r\n      \r\n      document.getElementById('tolakInfo').innerHTML = \\`\r\n        <div>\r\n          <p class=\"text-sm text-gray-700 mb-2\">Anda akan menolak tempahan untuk:</p>\r\n          <p class=\"font-semibold text-gray-900\">\\${item.namaBarang}</p>\r\n          <p class=\"text-sm text-gray-600\">Oleh: \\${item.namaUser}</p>\r\n        </div>\r\n      \\`;\r\n      \r\n      document.getElementById('modalTolak').classList.remove('hidden');\r\n    }\r\n\r\n    function closeModalTolak() {\r\n      document.getElementById('modalTolak').classList.add('hidden');\r\n      tempahanDipilih = null;\r\n      document.getElementById('sebabTolakan').value = '';\r\n    }\r\n\r\n    async function handleTolakTempahan() {\r\n      if (!tempahanDipilih) return;\r\n      \r\n      const sebabTolakan = document.getElementById('sebabTolakan').value.trim();\r\n      if (!sebabTolakan) {\r\n        alert('Sila berikan sebab penolakan!');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch('/api/staff-ict/kelulusan', {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            id: tempahanDipilih.id,\r\n            status: 'Ditolak',\r\n            catatan: sebabTolakan\r\n          })\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const error = await response.json();\r\n          throw new Error(error.error || 'Failed to reject');\r\n        }\r\n\r\n        alert('\u274C Tempahan berjaya ditolak!');\r\n        closeModalTolak();\r\n        await loadTempahan();\r\n      } catch (error) {\r\n        console.error('Error rejecting tempahan:', error);\r\n        alert('\u274C Error: ' + error.message);\r\n      }\r\n    }\r\n\r\n    // Initialize\r\n    loadTempahan();\r\n  </script>\r\n</body>\r\n</html>`;\r\n}\r\n\r\nfunction getStaffProfileHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Profil Staff ICT - iBorrow</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-4xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/staff-ict/dashboard'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors flex items-center gap-1\">\r\n              \u2190 Dashboard\r\n            </button>\r\n            <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full flex items-center gap-1\">\r\n              <span class=\"text-sm\">\uD83D\uDC64</span>\r\n              <span class=\"text-xs font-medium\">PROFIL</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"handleLogKeluar()\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDC64 Profil Staff ICT</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Maklumat peribadi dan akaun</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Profile Card -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-4\">\r\n          <h2 class=\"font-semibold text-gray-900 text-sm\">\uD83D\uDCDD Maklumat Peribadi</h2>\r\n          <button id=\"btnEdit\" onclick=\"toggleEdit()\" class=\"bg-blue-500 text-white px-3 py-1 rounded-lg text-xs hover:bg-blue-600 transition-colors\">\r\n            \u270F\uFE0F Edit Profil\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"space-y-4\">\r\n          <!-- Profile Picture & Basic Info -->\r\n          <div class=\"flex items-center gap-4 p-3 bg-blue-50 rounded-lg border border-blue-200\">\r\n            <div class=\"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg\" id=\"avatar\">\r\n              AI\r\n            </div>\r\n            <div class=\"flex-1\">\r\n              <h3 class=\"font-bold text-gray-900 text-sm\" id=\"displayNama\">Ahmad bin Ismail</h3>\r\n              <p class=\"text-gray-600 text-xs\" id=\"displayJawatan\">Staff ICT</p>\r\n              <p class=\"text-gray-500 text-xs\" id=\"displayJabatan\">Bahagian Teknologi Maklumat</p>\r\n              <span class=\"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full mt-1 inline-block\">\r\n                Aktif\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Editable Fields -->\r\n          <div class=\"grid grid-cols-1 gap-3\">\r\n            <div>\r\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">Nama Penuh</label>\r\n              <input type=\"text\" id=\"inputNama\" value=\"Ahmad bin Ismail\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\" disabled>\r\n            </div>\r\n\r\n            <div class=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Email</label>\r\n                <input type=\"email\" id=\"inputEmail\" value=\"ahmad.ismail@ilkkm.edu.my\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\" disabled>\r\n              </div>\r\n\r\n              <div>\r\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">No. Telefon</label>\r\n                <input type=\"tel\" id=\"inputTelefon\" value=\"+6012-345 6789\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\" disabled>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">No. Staf</label>\r\n                <input type=\"text\" value=\"STF2024001\" class=\"w-full px-3 py-2 bg-gray-50 rounded-lg text-sm text-gray-900\" disabled>\r\n              </div>\r\n\r\n              <div>\r\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Jawatan</label>\r\n                <input type=\"text\" value=\"Staff ICT\" class=\"w-full px-3 py-2 bg-gray-50 rounded-lg text-sm text-gray-900\" disabled>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">Jabatan</label>\r\n              <input type=\"text\" id=\"inputJabatan\" value=\"Bahagian Teknologi Maklumat\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\" disabled>\r\n            </div>\r\n\r\n            <div class=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Tarikh Join</label>\r\n                <input type=\"text\" value=\"15/01/2024\" class=\"w-full px-3 py-2 bg-gray-50 rounded-lg text-sm text-gray-900\" disabled>\r\n              </div>\r\n\r\n              <div>\r\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Status</label>\r\n                <div class=\"w-full px-3 py-2 bg-gray-50 rounded-lg text-sm\">\r\n                  <span class=\"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs\">\r\n                    Aktif\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Save/Cancel buttons (hidden by default) -->\r\n          <div id=\"editButtons\" class=\"hidden flex gap-2\">\r\n            <button onclick=\"cancelEdit()\" class=\"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors text-sm font-medium\">\r\n              \u274C Batal\r\n            </button>\r\n            <button onclick=\"saveProfile()\" class=\"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors text-sm font-medium\">\r\n              \uD83D\uDCBE Simpan\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Quick Stats -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h3 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDCC8 Statistik Staff ICT</h3>\r\n        <div class=\"grid grid-cols-2 gap-3\">\r\n          <div class=\"text-center\">\r\n            <div class=\"text-lg font-bold text-blue-600\">12</div>\r\n            <div class=\"text-xs text-gray-600\">Kelulusan</div>\r\n            <div class=\"text-xs text-blue-600 mt-1\">Bulan Ini</div>\r\n          </div>\r\n          <div class=\"text-center\">\r\n            <div class=\"text-lg font-bold text-green-600\">45</div>\r\n            <div class=\"text-xs text-gray-600\">Tempahan</div>\r\n            <div class=\"text-xs text-green-600 mt-1\">Diluluskan</div>\r\n          </div>\r\n          <div class=\"text-center\">\r\n            <div class=\"text-lg font-bold text-purple-600\">3</div>\r\n            <div class=\"text-xs text-gray-600\">Barang</div>\r\n            <div class=\"text-xs text-purple-600 mt-1\">Diurus</div>\r\n          </div>\r\n          <div class=\"text-center\">\r\n            <div class=\"text-lg font-bold text-orange-600\">8</div>\r\n            <div class=\"text-xs text-gray-600\">Laporan</div>\r\n            <div class=\"text-xs text-orange-600 mt-1\">Dihasilkan</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Account Actions -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h3 class=\"font-semibold text-gray-900 text-sm mb-3\">\u2699\uFE0F Tindakan Akaun</h3>\r\n        <div class=\"space-y-2\">\r\n          <button class=\"w-full bg-blue-50 text-blue-700 py-2 px-3 rounded-lg text-xs font-medium text-left hover:bg-blue-100 transition-colors flex items-center justify-between\">\r\n            <span>\uD83D\uDD10 Tukar Kata Laluan</span>\r\n            <span>\u2192</span>\r\n          </button>\r\n          <button class=\"w-full bg-yellow-50 text-yellow-700 py-2 px-3 rounded-lg text-xs font-medium text-left hover:bg-yellow-100 transition-colors flex items-center justify-between\">\r\n            <span>\uD83D\uDCE7 Tetapan Notifikasi</span>\r\n            <span>\u2192</span>\r\n          </button>\r\n          <button class=\"w-full bg-red-50 text-red-700 py-2 px-3 rounded-lg text-xs font-medium text-left hover:bg-red-100 transition-colors flex items-center justify-between\">\r\n            <span>\uD83D\uDEAB Tutup Akaun</span>\r\n            <span>\u2192</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Recent Activity -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h3 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDCCB Aktiviti Terkini</h3>\r\n        <div class=\"space-y-3\">\r\n          <div class=\"flex items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n            <div class=\"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0\"></div>\r\n            <div class=\"flex-1 min-w-0\">\r\n              <p class=\"text-xs font-medium text-gray-900\">Meluluskan tempahan #T001</p>\r\n              <div class=\"flex items-center gap-2 mt-1\">\r\n                <p class=\"text-xs text-gray-500\">Hari ini, 10:30 AM</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n            <div class=\"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0\"></div>\r\n            <div class=\"flex-1 min-w-0\">\r\n              <p class=\"text-xs font-medium text-gray-900\">Update status barang Laptop Dell</p>\r\n              <div class=\"flex items-center gap-2 mt-1\">\r\n                <p class=\"text-xs text-gray-500\">Semalam, 14:20 PM</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n            <div class=\"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0\"></div>\r\n            <div class=\"flex-1 min-w-0\">\r\n              <p class=\"text-xs font-medium text-gray-900\">Menghasilkan laporan bulanan</p>\r\n              <div class=\"flex items-center gap-2 mt-1\">\r\n                <p class=\"text-xs text-gray-500\">2 hari lalu, 09:15 AM</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Information Section -->\r\n      <div class=\"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4\">\r\n        <div class=\"flex items-start gap-3\">\r\n          <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n            <span class=\"text-blue-600 text-sm\">\uD83D\uDCA1</span>\r\n          </div>\r\n          <div>\r\n            <h4 class=\"font-semibold text-blue-800 text-sm mb-2\">Maklumat Profil Staff ICT</h4>\r\n            <ul class=\"text-blue-700 text-xs space-y-1\">\r\n              <li>\u2022 <strong>No. Staf</strong> - Pengenalan unik untuk staff ICT</li>\r\n              <li>\u2022 <strong>Jabatan</strong> - Bahagian tempat anda bertugas</li>\r\n              <li>\u2022 <strong>Status Aktif</strong> - Menunjukkan akaun aktif dalam sistem</li>\r\n              <li>\u2022 <strong>Edit Profil</strong> - Kemaskini maklumat peribadi jika perlu</li>\r\n              <li>\u2022 <strong>Statistik</strong> - Prestasi dan aktiviti terkini</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      ${getStaffBottomNavHTML('profile')}\r\n    </div>\r\n  </div>\r\n\r\n  <script>\r\n    let isEditing = false;\r\n    let originalData = {\r\n      nama: 'Ahmad bin Ismail',\r\n      email: 'ahmad.ismail@ilkkm.edu.my',\r\n      telefon: '+6012-345 6789',\r\n      jabatan: 'Bahagian Teknologi Maklumat'\r\n    };\r\n\r\n    function handleLogKeluar() {\r\n      if (confirm('Adakah anda pasti ingin log keluar?')) {\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n\r\n    function toggleEdit() {\r\n      isEditing = !isEditing;\r\n      updateEditMode();\r\n    }\r\n\r\n    function updateEditMode() {\r\n      const fields = ['inputNama', 'inputEmail', 'inputTelefon', 'inputJabatan'];\r\n      const btnEdit = document.getElementById('btnEdit');\r\n      const editButtons = document.getElementById('editButtons');\r\n\r\n      fields.forEach(fieldId => {\r\n        document.getElementById(fieldId).disabled = !isEditing;\r\n      });\r\n\r\n      if (isEditing) {\r\n        btnEdit.classList.add('hidden');\r\n        editButtons.classList.remove('hidden');\r\n      } else {\r\n        btnEdit.classList.remove('hidden');\r\n        editButtons.classList.add('hidden');\r\n      }\r\n    }\r\n\r\n    function cancelEdit() {\r\n      // Reset to original data\r\n      document.getElementById('inputNama').value = originalData.nama;\r\n      document.getElementById('inputEmail').value = originalData.email;\r\n      document.getElementById('inputTelefon').value = originalData.telefon;\r\n      document.getElementById('inputJabatan').value = originalData.jabatan;\r\n      \r\n      isEditing = false;\r\n      updateEditMode();\r\n    }\r\n\r\n    function saveProfile() {\r\n      const nama = document.getElementById('inputNama').value;\r\n      const email = document.getElementById('inputEmail').value;\r\n      const telefon = document.getElementById('inputTelefon').value;\r\n      const jabatan = document.getElementById('inputJabatan').value;\r\n\r\n      if (!nama || !email || !telefon || !jabatan) {\r\n        alert('Sila isi semua maklumat!');\r\n        return;\r\n      }\r\n\r\n      // Update original data\r\n      originalData = { nama, email, telefon, jabatan };\r\n      \r\n      // Update display\r\n      document.getElementById('displayNama').textContent = nama;\r\n      document.getElementById('displayJabatan').textContent = jabatan;\r\n      \r\n      // Update avatar\r\n      const initials = nama.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase();\r\n      document.getElementById('avatar').textContent = initials;\r\n\r\n      isEditing = false;\r\n      updateEditMode();\r\n      \r\n      alert('Profil berjaya dikemaskini!');\r\n    }\r\n  </script>\r\n</body>\r\n</html>`;\r\n}\r\n\r\nfunction getStaffLaporanKeseluruhanHTML() {\r\n  return `<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Laporan Keseluruhan - Staff ICT - iBorrow</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-4xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/staff-ict/dashboard'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors flex items-center gap-1\">\r\n              \u2190 Dashboard\r\n            </button>\r\n            <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\uD83D\uDCCA LAPORAN</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"handleLogKeluar()\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDCC8 Laporan Keseluruhan</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Statistik menyeluruh sistem tempahan</p>\r\n        </div>\r\n\r\n        <!-- Period Selector -->\r\n        <div class=\"flex justify-center mt-3\">\r\n          <select id=\"periodSelector\" onchange=\"handlePeriodChange()\" class=\"bg-gray-100 border border-gray-300 rounded-lg px-3 py-1 text-sm\">\r\n            <option value=\"minggu-ini\">Minggu Ini</option>\r\n            <option value=\"bulan-ini\" selected>Bulan Ini</option>\r\n            <option value=\"tahun-ini\">Tahun Ini</option>\r\n            <option value=\"semua-masa\">Semua Masa</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Quick Stats -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h3 class=\"font-semibold text-gray-900 text-sm mb-3 text-center\">\uD83D\uDCC8 Statistik Ringkas</h3>\r\n        <div class=\"grid grid-cols-2 gap-3\">\r\n          <div class=\"bg-green-50 rounded-lg p-3 text-center\">\r\n            <div class=\"text-lg font-bold text-green-600\">45</div>\r\n            <div class=\"text-xs text-green-700\">Diluluskan</div>\r\n          </div>\r\n          <div class=\"bg-red-50 rounded-lg p-3 text-center\">\r\n            <div class=\"text-lg font-bold text-red-600\">12</div>\r\n            <div class=\"text-xs text-red-700\">Ditolak</div>\r\n          </div>\r\n          <div class=\"bg-blue-50 rounded-lg p-3 text-center\">\r\n            <div class=\"text-lg font-bold text-blue-600\">38</div>\r\n            <div class=\"text-xs text-blue-700\">Dikembalikan</div>\r\n          </div>\r\n          <div class=\"bg-purple-50 rounded-lg p-3 text-center\">\r\n            <div class=\"text-lg font-bold text-purple-600\">15</div>\r\n            <div class=\"text-xs text-purple-700\">Barang Baru</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Navigation Cards -->\r\n      <div class=\"space-y-3 mb-4\">\r\n        <button class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-blue-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-blue-100 p-3 rounded-lg\">\r\n                <span class=\"text-blue-600 text-lg\">\uD83D\uDCC8</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Laporan Keseluruhan</h3>\r\n                <p class=\"text-gray-600 text-xs\">Statistik menyeluruh sistem</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-blue-400\">\u25CF</span>\r\n          </div>\r\n        </button>\r\n        <button onclick=\"window.location.href='/staff-ict/laporan/barang'\" class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-gray-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-green-100 p-3 rounded-lg\">\r\n                <span class=\"text-green-600 text-lg\">\uD83D\uDCE6</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Laporan Barang</h3>\r\n                <p class=\"text-gray-600 text-xs\">Analisis penggunaan barang</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-gray-400\">\u2192</span>\r\n          </div>\r\n        </button>\r\n        <button onclick=\"window.location.href='/staff-ict/laporan/tempahan'\" class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-gray-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-purple-100 p-3 rounded-lg\">\r\n                <span class=\"text-purple-600 text-lg\">\uD83D\uDCC4</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Laporan Tempahan</h3>\r\n                <p class=\"text-gray-600 text-xs\">Laporan tempahan sistem</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-gray-400\">\u2192</span>\r\n          </div>\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Info Section -->\r\n      <div class=\"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4\">\r\n        <div class=\"flex items-start gap-3\">\r\n          <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n            <span class=\"text-blue-600 text-sm\">\uD83D\uDCA1</span>\r\n          </div>\r\n          <div>\r\n            <h4 class=\"font-semibold text-blue-800 text-sm mb-2\">Cara Menggunakan Laporan</h4>\r\n            <ul class=\"text-blue-700 text-xs space-y-1\">\r\n              <li>\u2022 <strong>Keseluruhan</strong> - Overview semua aktiviti</li>\r\n              <li>\u2022 <strong>Barang</strong> - Analisis penggunaan inventori</li>\r\n              <li>\u2022 <strong>Tempahan</strong> - Template laporan sedia ada</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Main Stats Grid -->\r\n      <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n        <div class=\"bg-white rounded-xl shadow-sm p-4 border-l-4 border-blue-500\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div>\r\n              <p class=\"text-xs font-medium text-gray-600\">Total Tempahan</p>\r\n              <p class=\"text-lg font-bold text-gray-900\">234</p>\r\n            </div>\r\n            <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n              <span class=\"text-blue-600 text-sm\">\uD83D\uDCCB</span>\r\n            </div>\r\n          </div>\r\n          <p class=\"text-gray-500 text-xs mt-1\">Semua tempahan</p>\r\n        </div>\r\n\r\n        <div class=\"bg-white rounded-xl shadow-sm p-4 border-l-4 border-green-500\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div>\r\n              <p class=\"text-xs font-medium text-gray-600\">Berjaya</p>\r\n              <p class=\"text-lg font-bold text-gray-900\">189</p>\r\n            </div>\r\n            <div class=\"bg-green-100 p-2 rounded-lg\">\r\n              <span class=\"text-green-600 text-sm\">\u2705</span>\r\n            </div>\r\n          </div>\r\n          <p class=\"text-gray-500 text-xs mt-1\">Diluluskan</p>\r\n        </div>\r\n\r\n        <div class=\"bg-white rounded-xl shadow-sm p-4 border-l-4 border-red-500\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div>\r\n              <p class=\"text-xs font-medium text-gray-600\">Ditolak</p>\r\n              <p class=\"text-lg font-bold text-gray-900\">45</p>\r\n            </div>\r\n            <div class=\"bg-red-100 p-2 rounded-lg\">\r\n              <span class=\"text-red-600 text-sm\">\u274C</span>\r\n            </div>\r\n          </div>\r\n          <p class=\"text-gray-500 text-xs mt-1\">Tidak diluluskan</p>\r\n        </div>\r\n\r\n        <div class=\"bg-white rounded-xl shadow-sm p-4 border-l-4 border-purple-500\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div>\r\n              <p class=\"text-xs font-medium text-gray-600\">Kadar Kejayaan</p>\r\n              <p class=\"text-lg font-bold text-gray-900\">80.8%</p>\r\n            </div>\r\n            <div class=\"bg-purple-100 p-2 rounded-lg\">\r\n              <span class=\"text-purple-600 text-sm\">\uD83D\uDCCA</span>\r\n            </div>\r\n          </div>\r\n          <p class=\"text-gray-500 text-xs mt-1\">Nisbah berjaya</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Additional Insights -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h2 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDCA1 Analisis Tambahan</h2>\r\n        \r\n        <div class=\"space-y-3\">\r\n          <div class=\"flex items-center justify-between p-3 bg-blue-50 rounded-lg\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n                <span class=\"text-blue-600 text-sm\">\uD83C\uDFC6</span>\r\n              </div>\r\n              <div>\r\n                <p class=\"text-xs font-medium text-gray-900\">Barang Paling Popular</p>\r\n                <p class=\"text-gray-600 text-xs\">Laptop Dell XPS 13</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"flex items-center justify-between p-3 bg-green-50 rounded-lg\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-green-100 p-2 rounded-lg\">\r\n                <span class=\"text-green-600 text-sm\">\u23F0</span>\r\n              </div>\r\n              <div>\r\n                <p class=\"text-xs font-medium text-gray-900\">Waktu Permintaan Tinggi</p>\r\n                <p class=\"text-gray-600 text-xs\">10:00 AM - 12:00 PM</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Trend Chart Placeholder -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h2 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDCC8 Trend Tempahan</h2>\r\n        <div class=\"bg-gray-50 rounded-lg p-8 text-center\">\r\n          <div class=\"text-4xl mb-3\">\uD83D\uDCCA</div>\r\n          <p class=\"text-gray-600 text-sm mb-2\">Graf trend tempahan</p>\r\n          <p class=\"text-gray-500 text-xs\">Data visualisasi akan dipaparkan di sini</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Category Breakdown -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h2 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDCE6 Taburan Mengikut Kategori</h2>\r\n        <div class=\"space-y-3\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-2\">\r\n              <span class=\"text-blue-500 text-sm\">\uD83D\uDCBB</span>\r\n              <span class=\"text-gray-700 text-sm\">Laptop & Komputer</span>\r\n            </div>\r\n            <span class=\"text-gray-900 text-sm font-medium\">45%</span>\r\n          </div>\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-2\">\r\n              <span class=\"text-green-500 text-sm\">\uD83D\uDCF1</span>\r\n              <span class=\"text-gray-700 text-sm\">Tablet & Mobile</span>\r\n            </div>\r\n            <span class=\"text-gray-900 text-sm font-medium\">25%</span>\r\n          </div>\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-2\">\r\n              <span class=\"text-purple-500 text-sm\">\uD83C\uDFA5</span>\r\n              <span class=\"text-gray-700 text-sm\">AV Equipment</span>\r\n            </div>\r\n            <span class=\"text-gray-900 text-sm font-medium\">15%</span>\r\n          </div>\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-2\">\r\n              <span class=\"text-orange-500 text-sm\">\uD83D\uDD0C</span>\r\n              <span class=\"text-gray-700 text-sm\">Aksesori</span>\r\n            </div>\r\n            <span class=\"text-gray-900 text-sm font-medium\">10%</span>\r\n          </div>\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-2\">\r\n              <span class=\"text-red-500 text-sm\">\uD83D\uDDA8\uFE0F</span>\r\n              <span class=\"text-gray-700 text-sm\">Printer & Scanner</span>\r\n            </div>\r\n            <span class=\"text-gray-900 text-sm font-medium\">5%</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Info Section -->\r\n      <div class=\"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-20\">\r\n        <div class=\"flex items-start gap-3\">\r\n          <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n            <span class=\"text-blue-600 text-sm\">\uD83D\uDCA1</span>\r\n          </div>\r\n          <div>\r\n            <h4 class=\"font-semibold text-blue-800 text-sm mb-2\">Cara Menggunakan Laporan</h4>\r\n            <ul class=\"text-blue-700 text-xs space-y-1\">\r\n              <li>\u2022 <strong>Period Selector</strong> - Pilih tempoh masa untuk analisis</li>\r\n              <li>\u2022 <strong>Stats Cards</strong> - Overview ringkas prestasi sistem</li>\r\n              <li>\u2022 <strong>Trend Chart</strong> - Visualisasi data dari masa ke masa</li>\r\n              <li>\u2022 <strong>Category Breakdown</strong> - Analisis mengikut jenis barang</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      ${getStaffBottomNavHTML('laporan')}\r\n    </div>\r\n  </div>\r\n\r\n  <script>\r\n    function handleLogKeluar() {\r\n      if (confirm('Adakah anda pasti ingin log keluar?')) {\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n\r\n    function handlePeriodChange() {\r\n      const period = document.getElementById('periodSelector').value;\r\n      console.log('Period changed to:', period);\r\n      // In real app, this would trigger data reload\r\n      alert('Tempoh ditukar kepada: ' + period);\r\n    }\r\n  </script>\r\n</body>\r\n</html>`;\r\n}\r\n\r\n// ============================================\r\n// HELPER FUNCTIONS\r\n// ============================================\r\n\r\nfunction jsonResponse(data, status = 200, additionalHeaders = {}) {\r\n  return new Response(JSON.stringify(data), {\r\n    status,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...additionalHeaders\r\n    }\r\n  });\r\n}\r\n\r\nfunction getStaffLaporanBarangHTML() {\r\n  return `\r\n<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Laporan Barang - iBorrow</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n  <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n  <style>\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-7xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/staff-ict/dashboard'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors\">\r\n              \u2190 Dashboard\r\n            </button>\r\n            <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\uD83D\uDCCA LAPORAN</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"if(confirm('Adakah anda pasti ingin log keluar?')) window.location.href='/login'\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDCE6 Laporan Barang</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Analisis dan statistik inventori barang ICT</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Quick Stats -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h3 class=\"font-semibold text-gray-900 text-sm mb-3 text-center\">\uD83D\uDCC8 Statistik Ringkas</h3>\r\n        <div class=\"grid grid-cols-2 gap-3\">\r\n          <div class=\"bg-green-50 rounded-lg p-3 text-center\">\r\n            <div class=\"text-lg font-bold text-green-600\">45</div>\r\n            <div class=\"text-xs text-green-700\">Diluluskan</div>\r\n          </div>\r\n          <div class=\"bg-red-50 rounded-lg p-3 text-center\">\r\n            <div class=\"text-lg font-bold text-red-600\">12</div>\r\n            <div class=\"text-xs text-red-700\">Ditolak</div>\r\n          </div>\r\n          <div class=\"bg-blue-50 rounded-lg p-3 text-center\">\r\n            <div class=\"text-lg font-bold text-blue-600\">38</div>\r\n            <div class=\"text-xs text-blue-700\">Dikembalikan</div>\r\n          </div>\r\n          <div class=\"bg-purple-50 rounded-lg p-3 text-center\">\r\n            <div class=\"text-lg font-bold text-purple-600\">15</div>\r\n            <div class=\"text-xs text-purple-700\">Barang Baru</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Navigation Cards -->\r\n      <div class=\"space-y-3 mb-4\">\r\n        <button onclick=\"window.location.href='/staff-ict/laporan/keseluruhan'\" class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-gray-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-blue-100 p-3 rounded-lg\">\r\n                <span class=\"text-blue-600 text-lg\">\uD83D\uDCC8</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Laporan Keseluruhan</h3>\r\n                <p class=\"text-gray-600 text-xs\">Statistik menyeluruh sistem</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-gray-400\">\u2192</span>\r\n          </div>\r\n        </button>\r\n        <button class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-blue-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-green-100 p-3 rounded-lg\">\r\n                <span class=\"text-green-600 text-lg\">\uD83D\uDCE6</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Laporan Barang</h3>\r\n                <p class=\"text-gray-600 text-xs\">Analisis penggunaan barang</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-blue-400\">\u25CF</span>\r\n          </div>\r\n        </button>\r\n        <button onclick=\"window.location.href='/staff-ict/laporan/tempahan'\" class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-gray-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-purple-100 p-3 rounded-lg\">\r\n                <span class=\"text-purple-600 text-lg\">\uD83D\uDCC4</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Laporan Tempahan</h3>\r\n                <p class=\"text-gray-600 text-xs\">Laporan tempahan sistem</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-gray-400\">\u2192</span>\r\n          </div>\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Info Section -->\r\n      <div class=\"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4\">\r\n        <div class=\"flex items-start gap-3\">\r\n          <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n            <span class=\"text-blue-600 text-sm\">\uD83D\uDCA1</span>\r\n          </div>\r\n          <div>\r\n            <h4 class=\"font-semibold text-blue-800 text-sm mb-2\">Cara Menggunakan Laporan</h4>\r\n            <ul class=\"text-blue-700 text-xs space-y-1\">\r\n              <li>\u2022 <strong>Keseluruhan</strong> - Overview semua aktiviti</li>\r\n              <li>\u2022 <strong>Barang</strong> - Analisis penggunaan inventori</li>\r\n              <li>\u2022 <strong>Tempahan</strong> - Template laporan sedia ada</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Main Stats Cards -->\r\n      <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-blue-600\">156</div>\r\n          <div class=\"text-xs text-gray-600\">Total Barang</div>\r\n          <div class=\"text-xs text-blue-600 mt-1\">Dalam inventori</div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-green-600\">89</div>\r\n          <div class=\"text-xs text-gray-600\">Tersedia</div>\r\n          <div class=\"text-xs text-green-600 mt-1\">57% dari total</div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-orange-600\">45</div>\r\n          <div class=\"text-xs text-gray-600\">Dipinjam</div>\r\n          <div class=\"text-xs text-orange-600 mt-1\">Sedang digunakan</div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-red-600\">22</div>\r\n          <div class=\"text-xs text-gray-600\">Perhatian</div>\r\n          <div class=\"text-xs text-red-600 mt-1\">Rosak & Servis</div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Additional Stats -->\r\n      <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-purple-600\">68%</div>\r\n          <div class=\"text-xs text-gray-600\">Kadar Penggunaan</div>\r\n          <div class=\"text-xs text-purple-600 mt-1\">Efisiensi inventori</div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-sm font-bold text-gray-800 truncate\">Laptop Dell XPS 13</div>\r\n          <div class=\"text-xs text-gray-600\">Barang Popular</div>\r\n          <div class=\"text-xs text-gray-600 mt-1\">Paling banyak dipinjam</div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Kesihatan Inventori -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h3 class=\"font-semibold text-gray-900 text-sm mb-4\">\uD83C\uDFE5 Kesihatan Inventori</h3>\r\n        <div class=\"space-y-3\">\r\n          <div>\r\n            <div class=\"flex justify-between text-xs mb-1\">\r\n              <span class=\"text-gray-600\">Barang Baik</span>\r\n              <span class=\"font-semibold\">11</span>\r\n            </div>\r\n            <div class=\"w-full bg-gray-200 rounded-full h-2\">\r\n              <div class=\"bg-green-600 h-2 rounded-full\" style=\"width: 73%\"></div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class=\"flex justify-between text-xs mb-1\">\r\n              <span class=\"text-gray-600\">Perlu Servis</span>\r\n              <span class=\"font-semibold\">2</span>\r\n            </div>\r\n            <div class=\"w-full bg-gray-200 rounded-full h-2\">\r\n              <div class=\"bg-yellow-600 h-2 rounded-full\" style=\"width: 13%\"></div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class=\"flex justify-between text-xs mb-1\">\r\n              <span class=\"text-gray-600\">Barang Rosak</span>\r\n              <span class=\"font-semibold\">2</span>\r\n            </div>\r\n            <div class=\"w-full bg-gray-200 rounded-full h-2\">\r\n              <div class=\"bg-red-600 h-2 rounded-full\" style=\"width: 13%\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Filters & Search -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4\">\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Carian Barang</label>\r\n            <input type=\"text\" placeholder=\"Cari nama, kod atau lokasi...\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Kategori</label>\r\n            <select class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n              <option>Semua Kategori</option>\r\n              <option>Elektronik</option>\r\n              <option>Fotografi</option>\r\n              <option>Alat Tulis</option>\r\n              <option>Audio</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Status</label>\r\n            <select class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n              <option>Semua Status</option>\r\n              <option>Tersedia</option>\r\n              <option>Dipinjam</option>\r\n              <option>Rosak</option>\r\n              <option>Servis</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Kesihatan</label>\r\n            <select class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\">\r\n              <option>Semua Kesihatan</option>\r\n              <option>Baik</option>\r\n              <option>Perlu Servis</option>\r\n              <option>Rosak</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200 mt-4\">\r\n          <div class=\"flex-1\">\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Export Laporan</label>\r\n            <button onclick=\"alert('Laporan barang berjaya diexport ke format CSV!')\" class=\"w-full bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 transition-colors text-sm\">\r\n              \uD83D\uDCC8 Export Laporan\r\n            </button>\r\n          </div>\r\n          <div class=\"flex-1\">\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">Actions</label>\r\n            <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center w-full\">\r\n              <p class=\"text-blue-800 font-semibold text-sm\">15 barang</p>\r\n              <p class=\"text-blue-600 text-xs\">ditemui</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Senarai Laporan Barang -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-4\">\r\n          <h2 class=\"font-semibold text-gray-900 text-sm\">Detail Inventori Barang</h2>\r\n          <span class=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\">15 barang</span>\r\n        </div>\r\n        <div class=\"space-y-3\">\r\n          <!-- Barang 1 -->\r\n          <div class=\"border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow\">\r\n            <div class=\"flex flex-col gap-3\">\r\n              <div class=\"flex justify-between items-start\">\r\n                <div class=\"flex-1\">\r\n                  <h3 class=\"font-semibold text-gray-900 text-sm\">Laptop Dell XPS 13</h3>\r\n                  <p class=\"text-gray-600 text-xs mt-1\"><strong>Kod:</strong> ICT-LAP-001 | <strong>Lokasi:</strong> Makmal Komputer 1</p>\r\n                  <p class=\"text-gray-500 text-xs mt-1\"><strong>Daftar:</strong> 10 Jan 2024</p>\r\n                </div>\r\n                <span class=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded font-medium\">Elektronik</span>\r\n              </div>\r\n              <div class=\"grid grid-cols-2 gap-2 text-xs\">\r\n                <div class=\"bg-gray-50 rounded p-2\">\r\n                  <span class=\"text-gray-500\">Jumlah Pinjaman:</span>\r\n                  <p class=\"text-gray-900 mt-1\">23 kali</p>\r\n                </div>\r\n                <div class=\"bg-gray-50 rounded p-2\">\r\n                  <span class=\"text-gray-500\">Kadar Penggunaan:</span>\r\n                  <p class=\"text-gray-900 mt-1\">85%</p>\r\n                </div>\r\n                <div class=\"bg-gray-50 rounded p-2\">\r\n                  <span class=\"text-gray-500\">Purata Tempoh:</span>\r\n                  <p class=\"text-gray-900 mt-1\">5.2 hari</p>\r\n                </div>\r\n                <div class=\"bg-gray-50 rounded p-2\">\r\n                  <span class=\"text-gray-500\">Status:</span>\r\n                  <p class=\"mt-1\"><span class=\"bg-green-100 text-green-800 text-xs px-1 py-0.5 rounded\">Tersedia</span></p>\r\n                </div>\r\n              </div>\r\n              <div class=\"flex items-center justify-between\">\r\n                <span class=\"bg-green-100 text-green-800 text-xs px-2 py-1 rounded\">\u2705 Baik</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Barang 2 -->\r\n          <div class=\"border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow\">\r\n            <div class=\"flex flex-col gap-3\">\r\n              <div class=\"flex justify-between items-start\">\r\n                <div class=\"flex-1\">\r\n                  <h3 class=\"font-semibold text-gray-900 text-sm\">Projector Epson EB-X41</h3>\r\n                  <p class=\"text-gray-600 text-xs mt-1\"><strong>Kod:</strong> ICT-PRO-002 | <strong>Lokasi:</strong> Bilik Media</p>\r\n                  <p class=\"text-gray-500 text-xs mt-1\"><strong>Daftar:</strong> 12 Jan 2024</p>\r\n                </div>\r\n                <span class=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded font-medium\">Elektronik</span>\r\n              </div>\r\n              <div class=\"grid grid-cols-2 gap-2 text-xs\">\r\n                <div class=\"bg-gray-50 rounded p-2\">\r\n                  <span class=\"text-gray-500\">Jumlah Pinjaman:</span>\r\n                  <p class=\"text-gray-900 mt-1\">18 kali</p>\r\n                </div>\r\n                <div class=\"bg-gray-50 rounded p-2\">\r\n                  <span class=\"text-gray-500\">Kadar Penggunaan:</span>\r\n                  <p class=\"text-gray-900 mt-1\">72%</p>\r\n                </div>\r\n                <div class=\"bg-gray-50 rounded p-2\">\r\n                  <span class=\"text-gray-500\">Purata Tempoh:</span>\r\n                  <p class=\"text-gray-900 mt-1\">3.8 hari</p>\r\n                </div>\r\n                <div class=\"bg-gray-50 rounded p-2\">\r\n                  <span class=\"text-gray-500\">Status:</span>\r\n                  <p class=\"mt-1\"><span class=\"bg-blue-100 text-blue-800 text-xs px-1 py-0.5 rounded\">Dipinjam</span></p>\r\n                </div>\r\n              </div>\r\n              <div class=\"flex items-center justify-between\">\r\n                <span class=\"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded\">\u26A0\uFE0F Perlu Servis</span>\r\n              </div>\r\n              <div class=\"bg-yellow-50 border border-yellow-200 rounded p-2\">\r\n                <p class=\"text-yellow-700 text-xs\">\uD83D\uDCDD Lampu projector mulai malap</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Barang 3 -->\r\n          <div class=\"border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow\">\r\n            <div class=\"flex flex-col gap-3\">\r\n              <div class=\"flex justify-between items-start\">\r\n                <div class=\"flex-1\">\r\n                  <h3 class=\"font-semibold text-gray-900 text-sm\">Kamera Canon EOS R6</h3>\r\n                  <p class=\"text-gray-600 text-xs mt-1\"><strong>Kod:</strong> ICT-CAM-003 | <strong>Lokasi:</strong> Unit Media</p>\r\n                  <p class=\"text-gray-500 text-xs mt-1\"><strong>Daftar:</strong> 8 Jan 2024</p>\r\n                </div>\r\n                <span class=\"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded font-medium\">Fotografi</span>\r\n              </div>\r\n              <div class=\"grid grid-cols-2 gap-2 text-xs\">\r\n                <div class=\"bg-gray-50 rounded p-2\">\r\n                  <span class=\"text-gray-500\">Jumlah Pinjaman:</span>\r\n                  <p class=\"text-gray-900 mt-1\">31 kali</p>\r\n                </div>\r\n                <div class=\"bg-gray-50 rounded p-2\">\r\n                  <span class=\"text-gray-500\">Kadar Penggunaan:</span>\r\n                  <p class=\"text-gray-900 mt-1\">92%</p>\r\n                </div>\r\n                <div class=\"bg-gray-50 rounded p-2\">\r\n                  <span class=\"text-gray-500\">Purata Tempoh:</span>\r\n                  <p class=\"text-gray-900 mt-1\">6.1 hari</p>\r\n                </div>\r\n                <div class=\"bg-gray-50 rounded p-2\">\r\n                  <span class=\"text-gray-500\">Status:</span>\r\n                  <p class=\"mt-1\"><span class=\"bg-green-100 text-green-800 text-xs px-1 py-0.5 rounded\">Tersedia</span></p>\r\n                </div>\r\n              </div>\r\n              <div class=\"flex items-center justify-between\">\r\n                <span class=\"bg-green-100 text-green-800 text-xs px-2 py-1 rounded\">\u2705 Baik</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      ${getStaffBottomNavHTML('laporan')}\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>\r\n  `;\r\n}\r\n\r\nfunction getStaffLaporanTempahanHTML() {\r\n  return `\r\n<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Laporan Tempahan - iBorrow</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n  <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n  <style>\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-4xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/staff-ict/dashboard'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors\">\r\n              \u2190 Dashboard\r\n            </button>\r\n            <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\uD83D\uDCCA LAPORAN</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"if(confirm('Adakah anda pasti ingin log keluar?')) window.location.href='/login'\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDCC4 Laporan Tempahan</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Laporan dan analisis tempahan sistem</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Quick Stats -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h3 class=\"font-semibold text-gray-900 text-sm mb-3 text-center\">\uD83D\uDCC8 Statistik Ringkas</h3>\r\n        <div class=\"grid grid-cols-2 gap-3\">\r\n          <div class=\"bg-green-50 rounded-lg p-3 text-center\">\r\n            <div class=\"text-lg font-bold text-green-600\">45</div>\r\n            <div class=\"text-xs text-green-700\">Diluluskan</div>\r\n          </div>\r\n          <div class=\"bg-red-50 rounded-lg p-3 text-center\">\r\n            <div class=\"text-lg font-bold text-red-600\">12</div>\r\n            <div class=\"text-xs text-red-700\">Ditolak</div>\r\n          </div>\r\n          <div class=\"bg-blue-50 rounded-lg p-3 text-center\">\r\n            <div class=\"text-lg font-bold text-blue-600\">38</div>\r\n            <div class=\"text-xs text-blue-700\">Dikembalikan</div>\r\n          </div>\r\n          <div class=\"bg-purple-50 rounded-lg p-3 text-center\">\r\n            <div class=\"text-lg font-bold text-purple-600\">15</div>\r\n            <div class=\"text-xs text-purple-700\">Barang Baru</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Navigation Cards -->\r\n      <div class=\"space-y-3 mb-4\">\r\n        <button onclick=\"window.location.href='/staff-ict/laporan/keseluruhan'\" class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-gray-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-blue-100 p-3 rounded-lg\">\r\n                <span class=\"text-blue-600 text-lg\">\uD83D\uDCC8</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Laporan Keseluruhan</h3>\r\n                <p class=\"text-gray-600 text-xs\">Statistik menyeluruh sistem</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-gray-400\">\u2192</span>\r\n          </div>\r\n        </button>\r\n        <button onclick=\"window.location.href='/staff-ict/laporan/barang'\" class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-gray-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-green-100 p-3 rounded-lg\">\r\n                <span class=\"text-green-600 text-lg\">\uD83D\uDCE6</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Laporan Barang</h3>\r\n                <p class=\"text-gray-600 text-xs\">Analisis penggunaan barang</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-gray-400\">\u2192</span>\r\n          </div>\r\n        </button>\r\n        <button class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-blue-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-purple-100 p-3 rounded-lg\">\r\n                <span class=\"text-purple-600 text-lg\">\uD83D\uDCC4</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Laporan Tempahan</h3>\r\n                <p class=\"text-gray-600 text-xs\">Laporan tempahan sistem</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-blue-400\">\u25CF</span>\r\n          </div>\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Info Section -->\r\n      <div class=\"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4\">\r\n        <div class=\"flex items-start gap-3\">\r\n          <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n            <span class=\"text-blue-600 text-sm\">\uD83D\uDCA1</span>\r\n          </div>\r\n          <div>\r\n            <h4 class=\"font-semibold text-blue-800 text-sm mb-2\">Cara Menggunakan Laporan</h4>\r\n            <ul class=\"text-blue-700 text-xs space-y-1\">\r\n              <li>\u2022 <strong>Keseluruhan</strong> - Overview semua aktiviti</li>\r\n              <li>\u2022 <strong>Barang</strong> - Analisis penggunaan inventori</li>\r\n              <li>\u2022 <strong>Tempahan</strong> - Template laporan sedia ada</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Quick Stats -->\r\n      <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n        <div class=\"bg-white rounded-xl shadow-sm p-4 border-l-4 border-blue-500\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div>\r\n              <p class=\"text-xs font-medium text-gray-600\">Total Tempahan</p>\r\n              <p class=\"text-lg font-bold text-gray-900\">156</p>\r\n            </div>\r\n            <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n              <span class=\"text-blue-600 text-sm\">\uD83D\uDCE6</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-4 border-l-4 border-green-500\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div>\r\n              <p class=\"text-xs font-medium text-gray-600\">Tempahan Baru</p>\r\n              <p class=\"text-lg font-bold text-gray-900\">12</p>\r\n            </div>\r\n            <div class=\"bg-green-100 p-2 rounded-lg\">\r\n              <span class=\"text-green-600 text-sm\">\uD83C\uDD95</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-4 border-l-4 border-yellow-500\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div>\r\n              <p class=\"text-xs font-medium text-gray-600\">Menunggu Kelulusan</p>\r\n              <p class=\"text-lg font-bold text-gray-900\">8</p>\r\n            </div>\r\n            <div class=\"bg-yellow-100 p-2 rounded-lg\">\r\n              <span class=\"text-yellow-600 text-sm\">\u23F3</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-4 border-l-4 border-purple-500\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div>\r\n              <p class=\"text-xs font-medium text-gray-600\">Tempahan Aktif</p>\r\n              <p class=\"text-lg font-bold text-gray-900\">45</p>\r\n            </div>\r\n            <div class=\"bg-purple-100 p-2 rounded-lg\">\r\n              <span class=\"text-purple-600 text-sm\">\u2705</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Analisis Tempahan -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h2 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDCCA Analisis Tempahan</h2>\r\n        <div class=\"space-y-3\">\r\n          <div class=\"flex items-center justify-between p-3 bg-blue-50 rounded-lg\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n                <span class=\"text-blue-600 text-sm\">\uD83D\uDCC8</span>\r\n              </div>\r\n              <div>\r\n                <p class=\"text-xs font-medium text-gray-900\">Trend Tempahan Bulanan</p>\r\n                <p class=\"text-gray-600 text-xs\">Peningkatan 15% dari bulan lepas</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex items-center justify-between p-3 bg-green-50 rounded-lg\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-green-100 p-2 rounded-lg\">\r\n                <span class=\"text-green-600 text-sm\">\u23F0</span>\r\n              </div>\r\n              <div>\r\n                <p class=\"text-xs font-medium text-gray-900\">Waktu Puncak</p>\r\n                <p class=\"text-gray-600 text-xs\">Isnin & Selasa (10:00-12:00)</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex items-center justify-between p-3 bg-purple-50 rounded-lg\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-purple-100 p-2 rounded-lg\">\r\n                <span class=\"text-purple-600 text-sm\">\uD83D\uDC65</span>\r\n              </div>\r\n              <div>\r\n                <p class=\"text-xs font-medium text-gray-900\">Pengguna Aktif</p>\r\n                <p class=\"text-gray-600 text-xs\">45 pengguna membuat tempahan</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Template Laporan -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h2 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDCCB Template Laporan</h2>\r\n        <div class=\"space-y-2\">\r\n          <button onclick=\"alert('Muat turun laporan harian...')\" class=\"w-full bg-gray-50 rounded-lg p-3 text-left hover:bg-gray-100 transition-colors border border-gray-200\">\r\n            <div class=\"flex items-center justify-between\">\r\n              <div class=\"flex items-center gap-3\">\r\n                <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n                  <span class=\"text-blue-600 text-sm\">\uD83D\uDCC5</span>\r\n                </div>\r\n                <div>\r\n                  <h3 class=\"font-medium text-gray-900 text-sm\">Laporan Harian</h3>\r\n                  <p class=\"text-gray-600 text-xs\">Ringkasan aktiviti harian</p>\r\n                </div>\r\n              </div>\r\n              <span class=\"text-gray-400 text-sm\">\uD83D\uDCE5</span>\r\n            </div>\r\n          </button>\r\n          <button onclick=\"alert('Muat turun laporan mingguan...')\" class=\"w-full bg-gray-50 rounded-lg p-3 text-left hover:bg-gray-100 transition-colors border border-gray-200\">\r\n            <div class=\"flex items-center justify-between\">\r\n              <div class=\"flex items-center gap-3\">\r\n                <div class=\"bg-green-100 p-2 rounded-lg\">\r\n                  <span class=\"text-green-600 text-sm\">\uD83D\uDCCA</span>\r\n                </div>\r\n                <div>\r\n                  <h3 class=\"font-medium text-gray-900 text-sm\">Laporan Mingguan</h3>\r\n                  <p class=\"text-gray-600 text-xs\">Analisis prestasi mingguan</p>\r\n                </div>\r\n              </div>\r\n              <span class=\"text-gray-400 text-sm\">\uD83D\uDCE5</span>\r\n            </div>\r\n          </button>\r\n          <button onclick=\"alert('Muat turun laporan bulanan...')\" class=\"w-full bg-gray-50 rounded-lg p-3 text-left hover:bg-gray-100 transition-colors border border-gray-200\">\r\n            <div class=\"flex items-center justify-between\">\r\n              <div class=\"flex items-center gap-3\">\r\n                <div class=\"bg-purple-100 p-2 rounded-lg\">\r\n                  <span class=\"text-purple-600 text-sm\">\uD83D\uDCC8</span>\r\n                </div>\r\n                <div>\r\n                  <h3 class=\"font-medium text-gray-900 text-sm\">Laporan Bulanan</h3>\r\n                  <p class=\"text-gray-600 text-xs\">Statistik bulanan lengkap</p>\r\n                </div>\r\n              </div>\r\n              <span class=\"text-gray-400 text-sm\">\uD83D\uDCE5</span>\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Recent Activity -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-20\">\r\n        <h2 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDD52 Aktiviti Tempahan Terkini</h2>\r\n        <div class=\"space-y-2\">\r\n          <div class=\"flex items-center gap-3 p-2 bg-gray-50 rounded-lg\">\r\n            <div class=\"bg-blue-100 p-1 rounded\">\r\n              <span class=\"text-blue-600 text-xs\">\uD83D\uDCCB</span>\r\n            </div>\r\n            <div class=\"flex-1\">\r\n              <p class=\"text-xs font-medium text-gray-900\">Tempahan baru diterima</p>\r\n              <p class=\"text-gray-500 text-xs\">2 minit lalu</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex items-center gap-3 p-2 bg-gray-50 rounded-lg\">\r\n            <div class=\"bg-green-100 p-1 rounded\">\r\n              <span class=\"text-green-600 text-xs\">\u2705</span>\r\n            </div>\r\n            <div class=\"flex-1\">\r\n              <p class=\"text-xs font-medium text-gray-900\">Tempahan diluluskan</p>\r\n              <p class=\"text-gray-500 text-xs\">1 jam lalu</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex items-center gap-3 p-2 bg-gray-50 rounded-lg\">\r\n            <div class=\"bg-yellow-100 p-1 rounded\">\r\n              <span class=\"text-yellow-600 text-xs\">\u23F3</span>\r\n            </div>\r\n            <div class=\"flex-1\">\r\n              <p class=\"text-xs font-medium text-gray-900\">Menunggu kelulusan</p>\r\n              <p class=\"text-gray-500 text-xs\">3 tempahan</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      ${getStaffBottomNavHTML('laporan')}\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>\r\n  `;\r\n}\r\n\r\n// ============================================\r\n// ADMIN PAGES - BARANG\r\n// ============================================\r\n\r\nfunction getAdminBarangHTML() {\r\n  return `\r\n<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Urus Barang - Admin</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n  <style>\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-6xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3 flex-wrap gap-2\">\r\n          <div class=\"flex items-center gap-2 flex-wrap\">\r\n            <button onclick=\"window.location.href='/admin/dashboard'\" class=\"bg-gray-500 text-white px-2 py-1 rounded-lg text-xs sm:text-sm hover:bg-gray-600 transition-colors\">\r\n              \u2190 <span class=\"hidden sm:inline\">Dashboard</span><span class=\"sm:hidden\">Back</span>\r\n            </button>\r\n            <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\uD83D\uDCE6 BARANG</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"if(confirm('Adakah anda pasti ingin log keluar?')) window.location.href='/login'\" class=\"bg-red-500 text-white px-2 py-1 rounded-lg text-xs sm:text-sm hover:bg-red-600 transition-colors\">\r\n            <span class=\"hidden sm:inline\">Log Keluar</span><span class=\"sm:hidden\">Logout</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-lg sm:text-xl font-bold text-gray-900\">\uD83D\uDCE6 Urus Inventori Barang</h1>\r\n          <p class=\"text-gray-600 text-xs sm:text-sm mt-1\">Manage semua barang dalam sistem i-Borrow</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Stats -->\r\n      <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-blue-600\">156</div>\r\n          <div class=\"text-xs text-gray-600\">Total Barang</div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-green-600\">89</div>\r\n          <div class=\"text-xs text-gray-600\">Tersedia</div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-purple-600\">45</div>\r\n          <div class=\"text-xs text-gray-600\">Dipinjam</div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-red-600\">22</div>\r\n          <div class=\"text-xs text-gray-600\">Perhatian</div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Filters -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n          <input type=\"text\" placeholder=\"Cari nama atau kod barang...\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\">\r\n          <button onclick=\"alert('Tambah barang feature akan ditambah')\" class=\"bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 transition-colors text-sm\">\r\n            + Tambah Barang\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Barang List -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h2 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDCCB Senarai Barang (Coming Soon)</h2>\r\n        <p class=\"text-gray-500 text-xs text-center py-8\">Backend integration akan ditambah</p>\r\n      </div>\r\n\r\n      ${getAdminBottomNavHTML('barang')}\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>\r\n  `;\r\n}\r\n\r\nfunction getAdminPenggunaHTML() {\r\n  return `\r\n<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Urus Pengguna - Admin</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n  <style>\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-6xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/admin/dashboard'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors\">\r\n              \u2190 Dashboard\r\n            </button>\r\n            <div class=\"text-purple-600 bg-purple-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\uD83D\uDC65 PENGGUNA</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"if(confirm('Adakah anda pasti ingin log keluar?')) window.location.href='/login'\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDC65 Urus Pengguna</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Manage akaun pengguna sistem</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Stats -->\r\n      <div class=\"grid grid-cols-2 gap-3 mb-4\">\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-purple-600\">234</div>\r\n          <div class=\"text-xs text-gray-600\">Total Pengguna</div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-green-600\">212</div>\r\n          <div class=\"text-xs text-gray-600\">Aktif</div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-blue-600\">18</div>\r\n          <div class=\"text-xs text-gray-600\">Staff ICT</div>\r\n        </div>\r\n        <div class=\"bg-white rounded-xl shadow-sm p-3 text-center\">\r\n          <div class=\"text-lg font-bold text-orange-600\">4</div>\r\n          <div class=\"text-xs text-gray-600\">Admin</div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Filters -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n          <input type=\"text\" placeholder=\"Cari nama atau email...\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\">\r\n          <button onclick=\"alert('Tambah pengguna feature akan ditambah')\" class=\"bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 transition-colors text-sm\">\r\n            + Tambah Pengguna\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Pengguna List -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h2 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDCCB Senarai Pengguna (Coming Soon)</h2>\r\n        <p class=\"text-gray-500 text-xs text-center py-8\">Backend integration akan ditambah</p>\r\n      </div>\r\n\r\n      ${getAdminBottomNavHTML('pengguna')}\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>\r\n  `;\r\n}\r\n\r\nfunction getAdminLaporanHTML() {\r\n  return `\r\n<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Laporan - Admin</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n  <style>\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-4xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/admin/dashboard'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors\">\r\n              \u2190 Dashboard\r\n            </button>\r\n            <div class=\"text-green-600 bg-green-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\uD83D\uDCCA LAPORAN</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"if(confirm('Adakah anda pasti ingin log keluar?')) window.location.href='/login'\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDCCA Laporan Sistem</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Analisis dan statistik keseluruhan</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Laporan Options -->\r\n      <div class=\"space-y-3 mb-4\">\r\n        <div class=\"bg-white rounded-xl shadow-sm p-4 hover:shadow-md transition-shadow border border-gray-200\">\r\n          <div class=\"flex items-center gap-3\">\r\n            <div class=\"bg-blue-100 p-3 rounded-lg\">\r\n              <span class=\"text-blue-600 text-lg\">\uD83D\uDCC8</span>\r\n            </div>\r\n            <div class=\"flex-1\">\r\n              <h3 class=\"font-semibold text-gray-900 text-sm\">Laporan Keseluruhan</h3>\r\n              <p class=\"text-gray-600 text-xs\">Statistik sistem menyeluruh</p>\r\n            </div>\r\n            <button onclick=\"alert('Laporan akan dijana')\" class=\"bg-blue-500 text-white px-3 py-1 rounded-lg text-xs hover:bg-blue-600\">\r\n              Jana\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-sm p-4 hover:shadow-md transition-shadow border border-gray-200\">\r\n          <div class=\"flex items-center gap-3\">\r\n            <div class=\"bg-green-100 p-3 rounded-lg\">\r\n              <span class=\"text-green-600 text-lg\">\uD83D\uDCE6</span>\r\n            </div>\r\n            <div class=\"flex-1\">\r\n              <h3 class=\"font-semibold text-gray-900 text-sm\">Laporan Inventori</h3>\r\n              <p class=\"text-gray-600 text-xs\">Status dan penggunaan barang</p>\r\n            </div>\r\n            <button onclick=\"alert('Laporan akan dijana')\" class=\"bg-green-500 text-white px-3 py-1 rounded-lg text-xs hover:bg-green-600\">\r\n              Jana\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-sm p-4 hover:shadow-md transition-shadow border border-gray-200\">\r\n          <div class=\"flex items-center gap-3\">\r\n            <div class=\"bg-purple-100 p-3 rounded-lg\">\r\n              <span class=\"text-purple-600 text-lg\">\uD83D\uDC65</span>\r\n            </div>\r\n            <div class=\"flex-1\">\r\n              <h3 class=\"font-semibold text-gray-900 text-sm\">Laporan Pengguna</h3>\r\n              <p class=\"text-gray-600 text-xs\">Aktiviti dan analisis pengguna</p>\r\n            </div>\r\n            <button onclick=\"alert('Laporan akan dijana')\" class=\"bg-purple-500 text-white px-3 py-1 rounded-lg text-xs hover:bg-purple-600\">\r\n              Jana\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Info -->\r\n      <div class=\"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4\">\r\n        <div class=\"flex items-start gap-3\">\r\n          <div class=\"bg-blue-100 p-2 rounded-lg\">\r\n            <span class=\"text-blue-600 text-sm\">\uD83D\uDCA1</span>\r\n          </div>\r\n          <div>\r\n            <h4 class=\"font-semibold text-blue-800 text-sm mb-2\">Info Laporan</h4>\r\n            <p class=\"text-blue-700 text-xs\">Laporan akan dijana dalam format PDF dan boleh dimuat turun.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      ${getAdminBottomNavHTML('laporan')}\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>\r\n  `;\r\n}\r\n\r\nfunction getAdminProfileHTML() {\r\n  return `\r\n<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Profil - Admin</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n  <style>\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-4xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/admin/dashboard'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors\">\r\n              \u2190 Dashboard\r\n            </button>\r\n            <div class=\"text-blue-600 bg-blue-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\uD83D\uDC64 PROFIL</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"if(confirm('Adakah anda pasti ingin log keluar?')) window.location.href='/login'\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDC64 Profil Admin</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Maklumat akaun anda</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Profile Info -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"text-center mb-4\">\r\n          <div class=\"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-2\">\r\n            <span class=\"text-white text-3xl\">\uD83D\uDC64</span>\r\n          </div>\r\n          <h2 class=\"font-bold text-gray-900\">Admin System</h2>\r\n          <p class=\"text-gray-600 text-sm\">admin@ilkkm.edu.my</p>\r\n          <span class=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mt-2 inline-block\">Administrator</span>\r\n        </div>\r\n        \r\n        <div class=\"space-y-3 border-t border-gray-200 pt-4\">\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-gray-600 text-sm\">Nama Penuh</span>\r\n            <span class=\"text-gray-900 text-sm font-medium\">Admin System</span>\r\n          </div>\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-gray-600 text-sm\">Email</span>\r\n            <span class=\"text-gray-900 text-sm font-medium\">admin@ilkkm.edu.my</span>\r\n          </div>\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-gray-600 text-sm\">Role</span>\r\n            <span class=\"text-gray-900 text-sm font-medium\">Administrator</span>\r\n          </div>\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-gray-600 text-sm\">Bahagian</span>\r\n            <span class=\"text-gray-900 text-sm font-medium\">Unit ICT</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Actions -->\r\n      <div class=\"space-y-3 mb-4\">\r\n        <button onclick=\"alert('Edit profil akan ditambah')\" class=\"w-full bg-blue-500 text-white py-3 rounded-xl hover:bg-blue-600 transition-colors text-sm font-medium\">\r\n          \u270F\uFE0F Edit Profil\r\n        </button>\r\n        <button onclick=\"alert('Tukar password akan ditambah')\" class=\"w-full bg-gray-100 text-gray-700 py-3 rounded-xl hover:bg-gray-200 transition-colors text-sm font-medium\">\r\n          \uD83D\uDD12 Tukar Password\r\n        </button>\r\n      </div>\r\n\r\n      ${getAdminBottomNavHTML('profile')}\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>\r\n  `;\r\n}\r\n\r\nfunction getAdminTetapanSistemHTML() {\r\n  return `\r\n<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Tetapan Sistem - Admin</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n  <style>\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-4xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/admin/dashboard'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors\">\r\n              \u2190 Dashboard\r\n            </button>\r\n            <div class=\"text-orange-600 bg-orange-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\u2699\uFE0F TETAPAN</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"if(confirm('Adakah anda pasti ingin log keluar?')) window.location.href='/login'\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\u2699\uFE0F Tetapan Sistem</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Konfigurasi sistem i-Borrow</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Tetapan Menu -->\r\n      <div class=\"space-y-3 mb-4\">\r\n        <button onclick=\"window.location.href='/admin/tetapan/sistem'\" class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-blue-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-blue-100 p-3 rounded-lg\">\r\n                <span class=\"text-blue-600 text-lg\">\u2699\uFE0F</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Tetapan Sistem</h3>\r\n                <p class=\"text-gray-600 text-xs\">Konfigurasi am sistem</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-blue-400\">\u25CF</span>\r\n          </div>\r\n        </button>\r\n\r\n        <button onclick=\"window.location.href='/admin/tetapan/keselamatan'\" class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-gray-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-red-100 p-3 rounded-lg\">\r\n                <span class=\"text-red-600 text-lg\">\uD83D\uDD12</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Keselamatan</h3>\r\n                <p class=\"text-gray-600 text-xs\">Password & authentication</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-gray-400\">\u2192</span>\r\n          </div>\r\n        </button>\r\n\r\n        <button onclick=\"window.location.href='/admin/tetapan/log-aktiviti'\" class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-gray-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-green-100 p-3 rounded-lg\">\r\n                <span class=\"text-green-600 text-lg\">\uD83D\uDCCB</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Log Aktiviti</h3>\r\n                <p class=\"text-gray-600 text-xs\">Audit trail sistem</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-gray-400\">\u2192</span>\r\n          </div>\r\n        </button>\r\n\r\n        <button onclick=\"window.location.href='/admin/tetapan/backup-pulih'\" class=\"w-full bg-white rounded-xl shadow-sm p-4 text-left hover:bg-gray-50 transition-colors border border-gray-200\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"bg-purple-100 p-3 rounded-lg\">\r\n                <span class=\"text-purple-600 text-lg\">\uD83D\uDCBE</span>\r\n              </div>\r\n              <div>\r\n                <h3 class=\"font-semibold text-gray-900 text-sm\">Backup & Pulih</h3>\r\n                <p class=\"text-gray-600 text-xs\">Database backup</p>\r\n              </div>\r\n            </div>\r\n            <span class=\"text-gray-400\">\u2192</span>\r\n          </div>\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Current Settings -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h3 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDCDD Tetapan Semasa</h3>\r\n        <div class=\"space-y-3 text-sm\">\r\n          <div class=\"flex justify-between items-center pb-2 border-b\">\r\n            <span class=\"text-gray-600\">Nama Sistem</span>\r\n            <span class=\"text-gray-900 font-medium\">i-Borrow ILKKM</span>\r\n          </div>\r\n          <div class=\"flex justify-between items-center pb-2 border-b\">\r\n            <span class=\"text-gray-600\">Versi</span>\r\n            <span class=\"text-gray-900 font-medium\">1.0.0</span>\r\n          </div>\r\n          <div class=\"flex justify-between items-center pb-2 border-b\">\r\n            <span class=\"text-gray-600\">Environment</span>\r\n            <span class=\"text-gray-900 font-medium\">Production</span>\r\n          </div>\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-gray-600\">Status</span>\r\n            <span class=\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\">Online</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      ${getAdminBottomNavHTML('tetapan')}\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>\r\n  `;\r\n}\r\n\r\nfunction getAdminTetapanKeselamatanHTML() {\r\n  return `\r\n<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Keselamatan - Admin</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n  <style>\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-4xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/admin/tetapan/sistem'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors\">\r\n              \u2190 Tetapan\r\n            </button>\r\n            <div class=\"text-red-600 bg-red-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\uD83D\uDD12 KESELAMATAN</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"if(confirm('Adakah anda pasti ingin log keluar?')) window.location.href='/login'\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDD12 Keselamatan</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Password & authentication settings</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Security Settings -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h3 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDD10 Tetapan Password</h3>\r\n        <div class=\"space-y-3\">\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-gray-600 text-sm\">Minimum Length</span>\r\n            <input type=\"number\" value=\"8\" class=\"w-20 px-2 py-1 border rounded text-sm\">\r\n          </div>\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-gray-600 text-sm\">Require Uppercase</span>\r\n            <input type=\"checkbox\" checked class=\"w-5 h-5\">\r\n          </div>\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-gray-600 text-sm\">Require Numbers</span>\r\n            <input type=\"checkbox\" checked class=\"w-5 h-5\">\r\n          </div>\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-gray-600 text-sm\">Require Symbols</span>\r\n            <input type=\"checkbox\" class=\"w-5 h-5\">\r\n          </div>\r\n        </div>\r\n        <button onclick=\"alert('Settings saved')\" class=\"w-full bg-blue-500 text-white py-2 rounded-lg mt-4 hover:bg-blue-600 text-sm\">\r\n          Simpan Tetapan\r\n        </button>\r\n      </div>\r\n\r\n      ${getAdminBottomNavHTML('tetapan')}\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>\r\n  `;\r\n}\r\n\r\nfunction getAdminTetapanLogAktivitiHTML() {\r\n  return `\r\n<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Log Aktiviti - Admin</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n  <style>\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-6xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/admin/tetapan/sistem'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors\">\r\n              \u2190 Tetapan\r\n            </button>\r\n            <div class=\"text-green-600 bg-green-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\uD83D\uDCCB LOG</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"if(confirm('Adakah anda pasti ingin log keluar?')) window.location.href='/login'\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDCCB Log Aktiviti</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Audit trail sistem</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Activity Logs -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h3 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDD52 Aktiviti Terkini</h3>\r\n        <div class=\"space-y-2\">\r\n          <div class=\"flex items-start gap-3 p-2 bg-gray-50 rounded\">\r\n            <span class=\"text-lg\">\uD83D\uDC64</span>\r\n            <div class=\"flex-1\">\r\n              <p class=\"text-sm font-medium\">User login</p>\r\n              <p class=\"text-xs text-gray-600\">admin@ilkkm.edu.my - 2 minutes ago</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex items-start gap-3 p-2 bg-gray-50 rounded\">\r\n            <span class=\"text-lg\">\uD83D\uDCE6</span>\r\n            <div class=\"flex-1\">\r\n              <p class=\"text-sm font-medium\">Barang updated</p>\r\n              <p class=\"text-xs text-gray-600\">Laptop Dell - Status changed - 15 minutes ago</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex items-start gap-3 p-2 bg-gray-50 rounded\">\r\n            <span class=\"text-lg\">\u2705</span>\r\n            <div class=\"flex-1\">\r\n              <p class=\"text-sm font-medium\">Tempahan approved</p>\r\n              <p class=\"text-xs text-gray-600\">Staff ICT approved request - 1 hour ago</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      ${getAdminBottomNavHTML('tetapan')}\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>\r\n  `;\r\n}\r\n\r\nfunction getAdminTetapanBackupPulihHTML() {\r\n  return `\r\n<!DOCTYPE html>\r\n<html lang=\"ms\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Backup & Pulih - Admin</title>\r\n  ${getFaviconHTML()}\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n  <style>\r\n    body { font-family: 'Inter', sans-serif; }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  <div class=\"min-h-screen p-3 pb-24\">\r\n    <div class=\"max-w-4xl mx-auto\">\r\n      <!-- Header -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <div class=\"flex items-center justify-between mb-3\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <button onclick=\"window.location.href='/admin/tetapan/sistem'\" class=\"bg-gray-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-gray-600 transition-colors\">\r\n              \u2190 Tetapan\r\n            </button>\r\n            <div class=\"text-purple-600 bg-purple-100 px-2 py-1 rounded-full\">\r\n              <span class=\"text-xs font-medium\">\uD83D\uDCBE BACKUP</span>\r\n            </div>\r\n          </div>\r\n          <button onclick=\"if(confirm('Adakah anda pasti ingin log keluar?')) window.location.href='/login'\" class=\"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-colors\">\r\n            Log Keluar\r\n          </button>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <h1 class=\"text-xl font-bold text-gray-900\">\uD83D\uDCBE Backup & Pulih</h1>\r\n          <p class=\"text-gray-600 text-sm mt-1\">Database backup management</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Backup Actions -->\r\n      <div class=\"space-y-3 mb-4\">\r\n        <button onclick=\"alert('Backup akan dimulakan')\" class=\"w-full bg-green-500 text-white py-4 rounded-xl hover:bg-green-600 transition-colors text-sm font-medium\">\r\n          \uD83D\uDCBE Buat Backup Sekarang\r\n        </button>\r\n        <button onclick=\"alert('Restore feature akan ditambah')\" class=\"w-full bg-blue-500 text-white py-4 rounded-xl hover:bg-blue-600 transition-colors text-sm font-medium\">\r\n          \u21A9\uFE0F Pulihkan dari Backup\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Recent Backups -->\r\n      <div class=\"bg-white rounded-xl shadow-sm p-4 mb-4\">\r\n        <h3 class=\"font-semibold text-gray-900 text-sm mb-3\">\uD83D\uDCCB Backup Terkini</h3>\r\n        <div class=\"space-y-2\">\r\n          <div class=\"flex items-center justify-between p-3 bg-gray-50 rounded\">\r\n            <div>\r\n              <p class=\"text-sm font-medium\">backup_2025-01-15.sql</p>\r\n              <p class=\"text-xs text-gray-600\">15 Jan 2025, 10:30 AM</p>\r\n            </div>\r\n            <button onclick=\"alert('Download backup')\" class=\"text-blue-600 text-xs\">\r\n              \u2B07\uFE0F Download\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Warning -->\r\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-4\">\r\n        <div class=\"flex items-start gap-3\">\r\n          <span class=\"text-yellow-600 text-lg\">\u26A0\uFE0F</span>\r\n          <div>\r\n            <h4 class=\"font-semibold text-yellow-800 text-sm mb-1\">Amaran</h4>\r\n            <p class=\"text-yellow-700 text-xs\">Pastikan anda membuat backup secara berkala untuk elakkan kehilangan data.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      ${getAdminBottomNavHTML('tetapan')}\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>\r\n  `;\r\n}\r\n\r\nfunction htmlResponse(html, additionalHeaders = {}, status = 200) {\r\n  return new Response(html, {\r\n    status,\r\n    headers: {\r\n      'Content-Type': 'text/html; charset=utf-8',\r\n      ...additionalHeaders\r\n    }\r\n  });\r\n}\r\n\r\nfunction getRedirectPath(role) {\r\n  switch (role) {\r\n    case 'admin': return '/admin/dashboard';\r\n    case 'staff-ict': return '/staff-ict/dashboard';\r\n    case 'user': return '/user/dashboard';\r\n    default: return '/user/dashboard';\r\n  }\r\n}\r\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"C:\\\\dev\\\\clients\\\\iborrow-system\\\\worker.js\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"C:\\\\dev\\\\clients\\\\iborrow-system\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"C:\\\\dev\\\\clients\\\\iborrow-system\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"C:\\\\dev\\\\clients\\\\iborrow-system\\\\worker.js\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"C:\\\\dev\\\\clients\\\\iborrow-system\\\\.wrangler\\\\tmp\\\\bundle-ZKqfTA\\\\middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"C:\\\\dev\\\\clients\\\\iborrow-system\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\common.ts\";\nimport type { WorkerEntrypointConstructor } from \"C:\\\\dev\\\\clients\\\\iborrow-system\\\\.wrangler\\\\tmp\\\\bundle-ZKqfTA\\\\middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"C:\\\\dev\\\\clients\\\\iborrow-system\\\\.wrangler\\\\tmp\\\\bundle-ZKqfTA\\\\middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA8IZ,sBAAsB,QAAQ,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqnBvC;AA1wBS;AA4wBT,SAAS,wBAAwB;AAC/B,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAML,eAAe,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA6FZ,sBAAsB,WAAW,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA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",
  "names": ["PerformanceMark", "clear", "count", "countReset", "createTask", "debug", "dir", "dirxml", "error", "group", "groupCollapsed", "groupEnd", "info", "log", "profile", "profileEnd", "table", "time", "timeEnd", "timeLog", "timeStamp", "trace", "warn", "hrtime", "dir", "env", "count", "cwd", "hrtime", "assert", "env", "htmlResponse", "error", "env", "env", "error", "env", "env"]
}
